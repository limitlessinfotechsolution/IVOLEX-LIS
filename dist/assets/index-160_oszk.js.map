{"version":3,"file":"index-160_oszk.js","sources":["../../src/pages/screens/Category/CategoryScreen.jsx"],"sourcesContent":["import { useMemo } from 'react'\r\nimport { useParams, Link, useSearchParams } from 'react-router-dom'\r\nimport products from '../../../data/products.json'\r\nimport Container from '../../../ui/components/Container.jsx'\r\nimport ProductCard from '../../../ui/components/ProductCard'\r\nimport { SEO } from '../../../components/SEO'\r\n\r\nexport default function CategoryScreen({ category: propCategory }) {\r\n  const params = useParams()\r\n  const [searchParams] = useSearchParams()\r\n  const category = (propCategory || params.category || 'all').toLowerCase()\r\n  const q = (searchParams.get('q') || '').toLowerCase()\r\n  const sortBy = searchParams.get('sort') || 'name'\r\n\r\n  const filtered = useMemo(() => {\r\n    let list = products\r\n    if (category !== 'all') {\r\n      list = list.filter(p => p.category === category)\r\n    }\r\n    if (q) {\r\n      list = list.filter(\r\n        p =>\r\n          p.name.toLowerCase().includes(q) ||\r\n          p.category.toLowerCase().includes(q)\r\n      )\r\n    }\r\n\r\n    // Sort products\r\n    list.sort((a, b) => {\r\n      switch (sortBy) {\r\n        case 'price-low':\r\n          return a.price - b.price\r\n        case 'price-high':\r\n          return b.price - a.price\r\n        case 'rating':\r\n          return (b.rating || 0) - (a.rating || 0)\r\n        default:\r\n          return a.name.localeCompare(b.name)\r\n      }\r\n    })\r\n\r\n    return list\r\n  }, [category, q, sortBy])\r\n\r\n  const title =\r\n    category === 'all'\r\n      ? 'All Products'\r\n      : category.charAt(0).toUpperCase() + category.slice(1)\r\n\r\n  return (\r\n    <>\r\n      <SEO \r\n        title={`${title} - IVOLEX`}\r\n        description={`Browse our ${title.toLowerCase()} collection with ${filtered.length} items available.`}\r\n        keywords={`${category}, products, shopping, e-commerce`}\r\n      />\r\n      <section className=\"py-10\">\r\n        <Container>\r\n          <nav className=\"text-sm text-stone-500 mb-4\" aria-label=\"Breadcrumb\">\r\n            <Link className=\"hover:underline focus:underline\" to=\"/\">\r\n              Home\r\n            </Link>\r\n            <span className=\"mx-2\">/</span>\r\n            <Link className=\"hover:underline focus:underline\" to=\"/shop\">\r\n              Shop\r\n            </Link>\r\n            {category !== 'all' && (\r\n              <>\r\n                <span className=\"mx-2\">/</span>\r\n                <span className=\"text-stone-700 capitalize\">{category}</span>\r\n              </>\r\n            )}\r\n          </nav>\r\n\r\n          <div className=\"flex items-end justify-between gap-4 mb-6\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-semibold\">{title}</h1>\r\n              <p className=\"text-stone-600 text-sm\">{filtered.length} items</p>\r\n            </div>\r\n            \r\n            <div className=\"flex gap-4 items-center\">\r\n              {/* Sort dropdown */}\r\n              <select \r\n                className=\"border rounded-xl px-3 py-2 text-sm\"\r\n                value={sortBy}\r\n                onChange={(e) => {\r\n                  const newParams = new URLSearchParams(searchParams)\r\n                  newParams.set('sort', e.target.value)\r\n                  window.location.search = newParams.toString()\r\n                }}\r\n              >\r\n                <option value=\"name\">Sort by Name</option>\r\n                <option value=\"price-low\">Price: Low to High</option>\r\n                <option value=\"price-high\">Price: High to Low</option>\r\n                <option value=\"rating\">Rating</option>\r\n              </select>\r\n\r\n              {/* Search */}\r\n              <form className=\"max-w-sm w-full\" action=\"\" method=\"get\">\r\n                <input\r\n                  name=\"q\"\r\n                  defaultValue={q}\r\n                  placeholder=\"Search products...\"\r\n                  className=\"w-full border rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500\"\r\n                />\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          {filtered.length ? (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n              {filtered.map(p => (\r\n                <ProductCard\r\n                  key={p.id}\r\n                  product={{\r\n                    id: p.id,\r\n                    title: p.name,\r\n                    img: p.image,\r\n                    price: p.price,\r\n                    rating: p.rating,\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-20 text-stone-500\">\r\n              <h2 className=\"text-xl mb-2\">No matching products</h2>\r\n              <p>Try adjusting your search or browse our categories.</p>\r\n              <Link to=\"/shop\" className=\"btn btn-primary mt-4\">\r\n                View All Products\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </Container>\r\n      </section>\r\n    </>\r\n  )\r\n}"],"names":["CategoryScreen","category","propCategory","params","useParams","searchParams","useSearchParams","toLowerCase","q","get","sortBy","filtered","useMemo","list","products","filter","p","name","includes","sort","a","b","price","rating","localeCompare","title","charAt","toUpperCase","slice","jsxs","Fragment","children","jsx","SEO","description","length","keywords","className","Container","Link","to","value","onChange","e","newParams","URLSearchParams","set","target","window","location","search","toString","action","method","defaultValue","placeholder","map","ProductCard","product","id","img","image"],"mappings":"8UAOA,SAAwBA,GAAiBC,SAAUC,IACjD,MAAMC,EAASC,KACRC,GAAgBC,IACjBL,GAAYC,GAAgBC,EAAOF,UAAY,OAAOM,cACtDC,GAAKH,EAAaI,IAAI,MAAQ,IAAIF,cAClCG,EAASL,EAAaI,IAAI,SAAW,OAErCE,EAAWC,EAAAA,QAAQ,KACvB,IAAIC,EAAOC,EA0BX,MAzBiB,QAAbb,IACFY,EAAOA,EAAKE,OAAOC,GAAKA,EAAEf,WAAaA,IAErCO,IACFK,EAAOA,EAAKE,OACVC,GACEA,EAAEC,KAAKV,cAAcW,SAASV,IAC9BQ,EAAEf,SAASM,cAAcW,SAASV,KAKxCK,EAAKM,KAAK,CAACC,EAAGC,KACZ,OAAQX,GACN,IAAK,YACH,OAAOU,EAAEE,MAAQD,EAAEC,MACrB,IAAK,aACH,OAAOD,EAAEC,MAAQF,EAAEE,MACrB,IAAK,SACH,OAAQD,EAAEE,QAAU,IAAMH,EAAEG,QAAU,GACxC,QACE,OAAOH,EAAEH,KAAKO,cAAcH,EAAEJ,SAI7BJ,GACN,CAACZ,EAAUO,EAAGE,IAEXe,EACS,QAAbxB,EACI,eACAA,EAASyB,OAAO,GAAGC,cAAgB1B,EAAS2B,MAAM,GAExD,OACEC,EAAAA,KAAAC,WAAA,CACEC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACCR,MAAO,GAAGA,aACVS,YAAa,cAAcT,EAAMlB,iCAAiCI,EAASwB,0BAC3EC,SAAU,GAAGnC,sCAEf+B,MAAC,UAAA,CAAQK,UAAU,QACjBN,gBAACO,EAAA,CACCP,SAAA,CAAAF,EAAAA,KAAC,MAAA,CAAIQ,UAAU,8BAA8B,aAAW,aACtDN,SAAA,CAAAC,MAACO,EAAA,CAAKF,UAAU,kCAAkCG,GAAG,IAAIT,SAAA,SAGzDC,EAAAA,IAAC,OAAA,CAAKK,UAAU,OAAON,SAAA,YACtBQ,EAAA,CAAKF,UAAU,kCAAkCG,GAAG,QAAQT,SAAA,SAG/C,QAAb9B,GACC4B,EAAAA,KAAAC,EAAAA,SAAA,CACEC,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAKK,UAAU,OAAON,SAAA,MACvBC,EAAAA,IAAC,OAAA,CAAKK,UAAU,4BAA6BN,SAAA9B,YAKnD4B,KAAC,MAAA,CAAIQ,UAAU,4CACbN,SAAA,CAAAF,OAAC,MAAA,CACCE,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAGK,UAAU,yBAA0BN,SAAAN,MACxCI,KAAC,IAAA,CAAEQ,UAAU,yBAA0BN,SAAA,CAAApB,EAASwB,OAAO,iBAGzDN,KAAC,MAAA,CAAIQ,UAAU,0BAEbN,SAAA,CAAAF,EAAAA,KAAC,SAAA,CACCQ,UAAU,sCACVI,MAAO/B,EACPgC,SAAWC,IACT,MAAMC,EAAY,IAAIC,gBAAgBxC,GACtCuC,EAAUE,IAAI,OAAQH,EAAEI,OAAON,OAC/BO,OAAOC,SAASC,OAASN,EAAUO,YAGrCpB,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAOS,MAAM,OAAOV,SAAA,iBACrBC,EAAAA,IAAC,SAAA,CAAOS,MAAM,YAAYV,SAAA,uBAC1BC,EAAAA,IAAC,SAAA,CAAOS,MAAM,aAAaV,SAAA,uBAC3BC,EAAAA,IAAC,SAAA,CAAOS,MAAM,SAASV,SAAA,oBAIxB,OAAA,CAAKM,UAAU,kBAAkBe,OAAO,GAAGC,OAAO,MACjDtB,SAAAC,EAAAA,IAAC,QAAA,CACCf,KAAK,IACLqC,aAAc9C,EACd+C,YAAY,qBACZlB,UAAU,4GAMjB1B,EAASwB,OACRH,MAAC,MAAA,CAAIK,UAAU,sEACZN,SAAApB,EAAS6C,IAAIxC,GACZgB,EAAAA,IAACyB,EAAA,CAECC,QAAS,CACPC,GAAI3C,EAAE2C,GACNlC,MAAOT,EAAEC,KACT2C,IAAK5C,EAAE6C,MACPvC,MAAON,EAAEM,MACTC,OAAQP,EAAEO,SANPP,EAAE2C,OAYb9B,OAAC,MAAA,CAAIQ,UAAU,mCACbN,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAGK,UAAU,eAAeN,SAAA,2BAC7BC,IAAC,KAAED,SAAA,8DACFQ,EAAA,CAAKC,GAAG,QAAQH,UAAU,uBAAuBN,SAAA,gCAShE"}