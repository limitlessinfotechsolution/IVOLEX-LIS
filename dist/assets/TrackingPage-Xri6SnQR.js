import{j as e,R as s,b as t,m as a,ak as r,A as i,C as l,i as n,P as c,_ as d,al as x,y as o,a5 as m}from"./ui-DhZQHPRh.js";import{r as u}from"./vendor-BwcJvvGU.js";import{j as h,u as p,h as j}from"./index-Cm48Qqdm.js";import{c as g}from"./router-CFT0yRFu.js";import"./toast-BNaqqDDF.js";const y=({trackingNumber:m,orderId:g})=>{var y;const{trackShipment:b,loading:N}=h(),{theme:f}=p(),{isRTL:v}=j(),[w,k]=u.useState(null),[$,S]=u.useState(m||""),[_,C]=u.useState(""),T=u.useCallback(async(e=$)=>{if(null==e?void 0:e.trim()){C("");try{const s=await b(e);k(s)}catch{C("Unable to track shipment. Please check your tracking number."),k(null)}}else C("Please enter a tracking number")},[$,b]);u.useEffect(()=>{m&&T(m)},[m,T]);const R=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=s=>{switch(s){case"pending":default:return e.jsx(c,{className:"w-5 h-5 text-gray-500"});case"picked_up":return e.jsx(o,{className:"w-5 h-5 text-blue-500"});case"in_transit":return e.jsx(x,{className:"w-5 h-5 text-yellow-500"});case"out_for_delivery":return e.jsx(n,{className:"w-5 h-5 text-orange-500"});case"delivered":return e.jsx(d,{className:"w-5 h-5 text-green-500"})}};return e.jsxs("div",{className:`p-6 rounded-lg ${f.cardBackground} ${f.border}`,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:`text-xl font-semibold ${f.text} mb-2`,children:"Track Your Shipment"}),e.jsx("p",{className:`text-sm ${f.textSecondary}`,children:"Enter your tracking number to get real-time updates on your order"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex gap-3 "+(v?"flex-row-reverse":""),children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Enter tracking number (e.g., TRK1234567890ABC)",value:$,onChange:e=>S(e.target.value),className:`w-full px-4 py-3 rounded-lg ${f.cardBackground} ${f.border} focus:${f.borderHover} outline-none transition-colors ${v?"text-right":"text-left"}`,disabled:N})}),e.jsxs("button",{onClick:()=>T(),disabled:N||!$.trim(),className:`px-6 py-3 rounded-lg ${f.accent} text-white hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:[N?e.jsx(s,{className:"w-4 h-4 animate-spin"}):e.jsx(t,{className:"w-4 h-4"}),"Track"]})]}),_&&e.jsxs(a.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[e.jsx(r,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700",children:_})]})]}),e.jsx(i,{children:w&&e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsx("div",{className:`p-4 rounded-lg ${f.cardBackground} border-l-4 border-blue-500`,children:e.jsxs("div",{className:"flex items-center justify-between "+(v?"flex-row-reverse":""),children:[e.jsxs("div",{className:"flex items-center gap-3 "+(v?"flex-row-reverse":""),children:[B(w.status),e.jsxs("div",{className:v?"text-right":"text-left",children:[e.jsx("h3",{className:`font-semibold ${f.text} capitalize`,children:w.status.replace("_"," ")}),e.jsxs("p",{className:`text-sm ${f.textSecondary}`,children:["Tracking: ",w.trackingNumber]})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(e=>{switch(e){case"pending":default:return"text-gray-600 bg-gray-100";case"picked_up":return"text-blue-600 bg-blue-100";case"in_transit":return"text-yellow-600 bg-yellow-100";case"out_for_delivery":return"text-orange-600 bg-orange-100";case"delivered":return"text-green-600 bg-green-100"}})(w.status)}`,children:w.status.replace("_"," ").toUpperCase()})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx(a.div,{className:"h-full bg-blue-500 rounded-full",initial:{width:0},animate:{width:`${(e=>{const s=["pending","picked_up","in_transit","out_for_delivery","delivered"];return(s.indexOf(e)+1)/s.length*100})(w.status)}%`},transition:{duration:1,ease:"easeOut"}})}),e.jsxs("div",{className:`flex justify-between mt-2 text-xs ${f.textSecondary}`,children:[e.jsx("span",{children:"Pending"}),e.jsx("span",{children:"In Transit"}),e.jsx("span",{children:"Delivered"})]})]}),w.estimatedDelivery&&e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-blue-50 "+(v?"flex-row-reverse":""),children:[e.jsx(l,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{className:v?"text-right":"text-left",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Estimated Delivery"}),e.jsx("p",{className:"text-sm text-blue-700",children:R(w.estimatedDelivery)})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium ${f.text} mb-4`,children:"Shipment Timeline"}),e.jsx("div",{className:"space-y-4",children:null==(y=w.timeline)?void 0:y.map((s,t)=>e.jsxs(a.div,{initial:{opacity:0,x:v?20:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-start gap-4 "+(v?"flex-row-reverse":""),children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+(0===t?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"),children:B(s.status)}),t<w.timeline.length-1&&e.jsx("div",{className:"w-0.5 h-12 bg-gray-200 mt-2"})]}),e.jsxs("div",{className:"flex-1 pb-8 "+(v?"text-right":"text-left"),children:[e.jsxs("div",{className:"flex items-center justify-between "+(v?"flex-row-reverse":""),children:[e.jsx("h5",{className:`font-medium ${f.text} capitalize`,children:s.status.replace("_"," ")}),e.jsx("span",{className:`text-sm ${f.textSecondary}`,children:R(s.timestamp)})]}),e.jsx("p",{className:`text-sm ${f.textSecondary} mt-1`,children:s.description}),s.location&&e.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${f.textSecondary}`,children:[e.jsx(n,{className:"w-3 h-3"}),s.location]})]})]},t))})]}),e.jsxs("div",{className:`flex items-center justify-between p-3 bg-gray-50 rounded-lg text-sm ${f.textSecondary} ${v?"flex-row-reverse":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 "+(v?"flex-row-reverse":""),children:[e.jsx(l,{className:"w-4 h-4"}),e.jsxs("span",{children:["Last updated: ",R(w.lastUpdated)]})]}),e.jsx("button",{onClick:()=>T(w.trackingNumber),disabled:N,className:"text-blue-500 hover:text-blue-600 transition-colors disabled:opacity-50",children:"Refresh"})]})]})}),!w&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:`text-sm ${f.textSecondary} mb-2`,children:"Demo tracking numbers (for testing):"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["TRK1234567890ABC","TRK0987654321XYZ","TRK5555444433322"].map(s=>e.jsx("button",{onClick:()=>{S(s),T(s)},className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:s},s))})]})]})},b=()=>{const s=g(),{theme:t}=p();return e.jsx("div",{className:`min-h-screen py-12 ${t.background}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center gap-2 text-blue-500 hover:text-blue-600 transition-colors mb-4",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{children:"Back"})]}),e.jsxs("div",{className:"text-center",children:[">",e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(c,{className:"w-8 h-8 text-blue-500"}),e.jsx("h1",{className:`text-3xl font-bold ${t.text}`,children:"Track Your Order"})]}),e.jsx("p",{className:`text-lg ${t.textSecondary} max-w-2xl mx-auto`,children:"Enter your tracking number to get real-time updates on your shipment status and estimated delivery time."})]})]}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(y,{})}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:`mt-12 p-6 rounded-lg ${t.cardBackground} ${t.border}`,children:[e.jsx("h2",{className:`text-xl font-semibold ${t.text} mb-4`,children:"Need Help?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t.text} mb-2`,children:"Where to find your tracking number?"}),e.jsxs("ul",{className:`text-sm ${t.textSecondary} space-y-1`,children:[e.jsx("li",{children:"• Check your order confirmation email"}),e.jsx("li",{children:"• Visit your account's order history"}),e.jsx("li",{children:"• Look for SMS notifications we sent"}),e.jsx("li",{children:"• Contact customer support for assistance"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${t.text} mb-2`,children:"Shipping Information"}),e.jsxs("ul",{className:`text-sm ${t.textSecondary} space-y-1`,children:[e.jsx("li",{children:"• Standard shipping: 5-7 business days"}),e.jsx("li",{children:"• Express shipping: 2-3 business days"}),e.jsx("li",{children:"• Same day delivery: 4-6 hours (major cities)"}),e.jsx("li",{children:"• Free shipping on orders over 300 SAR"})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{className:`px-6 py-3 rounded-lg ${t.accent} text-white hover:opacity-90 transition-opacity`,children:"Contact Customer Support"})})]})]})})};export{b as default};
//# sourceMappingURL=TrackingPage-Xri6SnQR.js.map
