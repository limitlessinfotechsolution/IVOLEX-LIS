{"version":3,"file":"index-RE76x7Xw.js","sources":["../../src/pages/screens/Category/CategoryScreen.jsx"],"sourcesContent":["import { useMemo, useState, useEffect } from 'react'\nimport { useParams, Link, useSearchParams } from 'react-router-dom'\nimport products from '../../../data/products.json'\nimport Container from '../../../components/common/Container.jsx'\nimport ProductCard from '../../../components/product/ProductCard'\nimport { ProductCardSkeleton } from '../../../components/common/LoadingStates.jsx'\nimport { SEO } from '../../../components/SEO'\n\nexport default function CategoryScreen({ category: propCategory }) {\n  const params = useParams()\n  const [searchParams] = useSearchParams()\n  const category = (propCategory || params.category || 'all').toLowerCase()\n  const q = (searchParams.get('q') || '').toLowerCase()\n  const sortBy = searchParams.get('sort') || 'name'\n  const [isLoading, setIsLoading] = useState(true)\n\n  // Simulate loading delay for demonstration\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsLoading(false)\n    }, 800)\n    return () => clearTimeout(timer)\n  }, [])\n\n  const filtered = useMemo(() => {\n    let list = products\n    if (category !== 'all') {\n      list = list.filter(p => p.category === category)\n    }\n    if (q) {\n      list = list.filter(\n        p =>\n          p.name.toLowerCase().includes(q) ||\n          p.category.toLowerCase().includes(q)\n      )\n    }\n\n    // Sort products\n    list.sort((a, b) => {\n      switch (sortBy) {\n        case 'price-low':\n          return a.price - b.price\n        case 'price-high':\n          return b.price - a.price\n        case 'rating':\n          return (b.rating || 0) - (a.rating || 0)\n        default:\n          return a.name.localeCompare(b.name)\n      }\n    })\n\n    return list\n  }, [category, q, sortBy])\n\n  const title =\n    category === 'all'\n      ? 'All Products'\n      : category.charAt(0).toUpperCase() + category.slice(1)\n\n  return (\n    <>\n      <SEO\n        title={`${title} - IVOLEX`}\n        description={`Browse our ${title.toLowerCase()} collection with ${filtered.length} items available.`}\n        keywords={`${category}, products, shopping, e-commerce`}\n      />\n      <section className=\"py-10\">\n        <Container>\n          <nav className=\"text-sm text-stone-500 mb-4\" aria-label=\"Breadcrumb\">\n            <Link className=\"hover:underline focus:underline\" to=\"/\">\n              Home\n            </Link>\n            <span className=\"mx-2\">/</span>\n            <Link className=\"hover:underline focus:underline\" to=\"/shop\">\n              Shop\n            </Link>\n            {category !== 'all' && (\n              <>\n                <span className=\"mx-2\">/</span>\n                <span className=\"text-stone-700 capitalize\">{category}</span>\n              </>\n            )}\n          </nav>\n\n          <div className=\"flex items-end justify-between gap-4 mb-6\">\n            <div>\n              <h1 className=\"text-2xl font-semibold\">{title}</h1>\n              <p className=\"text-stone-600 text-sm\">{filtered.length} items</p>\n            </div>\n\n            <div className=\"flex gap-4 items-center\">\n              {/* Sort dropdown */}\n              <select\n                className=\"border rounded-xl px-3 py-2 text-sm\"\n                value={sortBy}\n                onChange={e => {\n                  const newParams = new URLSearchParams(searchParams)\n                  newParams.set('sort', e.target.value)\n                  window.location.search = newParams.toString()\n                }}\n              >\n                <option value=\"name\">Sort by Name</option>\n                <option value=\"price-low\">Price: Low to High</option>\n                <option value=\"price-high\">Price: High to Low</option>\n                <option value=\"rating\">Rating</option>\n              </select>\n\n              {/* Search */}\n              <form className=\"max-w-sm w-full\" action=\"\" method=\"get\">\n                <input\n                  name=\"q\"\n                  defaultValue={q}\n                  placeholder=\"Search products...\"\n                  className=\"w-full border rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500\"\n                />\n              </form>\n            </div>\n          </div>\n\n          {isLoading ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n              {Array.from({ length: 8 }).map((_, index) => (\n                <ProductCardSkeleton key={index} />\n              ))}\n            </div>\n          ) : filtered.length ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n              {filtered.map(p => (\n                <ProductCard\n                  key={p.id}\n                  product={{\n                    id: p.id,\n                    title: p.name,\n                    img: p.image,\n                    price: p.price,\n                    rating: p.rating,\n                  }}\n                />\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-20 text-stone-500\">\n              <h2 className=\"text-xl mb-2\">No matching products</h2>\n              <p>Try adjusting your search or browse our categories.</p>\n              <Link to=\"/shop\" className=\"btn btn-primary mt-4\">\n                View All Products\n              </Link>\n            </div>\n          )}\n        </Container>\n      </section>\n    </>\n  )\n}\n"],"names":["CategoryScreen","category","propCategory","params","useParams","searchParams","useSearchParams","toLowerCase","q","get","sortBy","isLoading","setIsLoading","useState","useEffect","timer","setTimeout","clearTimeout","filtered","useMemo","list","products","filter","p","name","includes","sort","a","b","price","rating","localeCompare","title","charAt","toUpperCase","slice","jsxs","Fragment","children","jsx","SEO","description","length","keywords","className","Container","Link","to","value","onChange","e","newParams","URLSearchParams","set","target","window","location","search","toString","action","method","defaultValue","placeholder","Array","from","map","_","index","ProductCardSkeleton","ProductCard","product","id","img","image"],"mappings":"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"}