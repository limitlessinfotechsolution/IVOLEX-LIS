import{j as e,m as a,L as t,E as s}from"./ui-CD5jAkwB.js";import{S as i}from"./products-CPcclmZv.js";import{a as r,f as l,g as n}from"./index-rb2YAFFb.js";import{u as o}from"./router-D6lRyHch.js";function d({children:a,tone:t="brand",className:s=""}){return e.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full ${{brand:"bg-brand-100 text-brand-700",neutral:"bg-stone-100 text-stone-700",gold:"bg-amber-100 text-amber-800",success:"bg-emerald-100 text-emerald-700"}[t]} ${s}`,children:a})}function c({product:c}){const{effectiveCurrency:u}=r(),{add:m}=l(),{user:p,isAuthenticated:x}=n(),b=o(),h=()=>{c.id&&b(`/product/${c.id}`)},f=()=>!(!x||!p)||(b("/auth"),!1),g={id:c.id,name:c.name||c.title,image:c.image||c.img,price:"string"==typeof c.price?parseFloat(c.price.replace(/[^\d.]/g,"")):c.price};return e.jsxs(a.div,{className:"relative overflow-hidden rounded-2xl bg-white shadow-soft cursor-pointer group",whileHover:{scale:1.05},transition:{duration:.3},onClick:h,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),h())},role:"button",tabIndex:0,"aria-label":`View details for ${g.name}`,children:[e.jsxs("div",{className:"relative p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square rounded-full overflow-hidden bg-stone-100",children:[e.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover"}),c.tag&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(d,{tone:"gold",children:c.tag})})]}),e.jsx(a.div,{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-full",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.3},children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a.button,{className:"p-3 bg-white rounded-full shadow-lg hover:bg-stone-50",whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Add to Cart",onClick:e=>{e.stopPropagation(),f()&&m(g,1)},children:e.jsx(t,{size:20,className:"text-stone-700"})}),e.jsx(a.button,{className:"p-3 bg-white rounded-full shadow-lg hover:bg-stone-50",whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Add to Wishlist",onClick:e=>{e.stopPropagation(),f()},children:e.jsx(s,{size:20,className:"text-stone-700"})})]})})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("h3",{className:"font-medium text-stone-900 line-clamp-2",children:g.name}),e.jsx(i,{value:c.rating||5}),e.jsx("p",{className:"text-brand-700 font-semibold",children:(e=>{if("number"==typeof e)return`${u} ${e.toFixed(2)}`;if("string"==typeof e){const a=parseFloat(e.replace(/[^\d.]/g,""));return`${u} ${Number.isFinite(a)?a.toFixed(0):e}`}return`${u} ${e}`})(c.price)})]}),e.jsx(a.div,{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-brand-500/10 to-transparent pointer-events-none",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.3}})]})}export{c as P};
//# sourceMappingURL=ProductCard-CFoiyVgD.js.map
