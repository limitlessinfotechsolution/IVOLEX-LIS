{"version":3,"file":"AdminPanel-CLFkE9HY.js","sources":["../../src/components/analytics/AnalyticsExport.jsx","../../src/pages/screens/Admin/AdminDashboard.jsx","../../src/components/admin/BulkOperationsManager.jsx","../../src/pages/screens/Admin/ProductCatalog.jsx","../../src/pages/screens/Admin/ThemeEditor.jsx","../../src/pages/screens/Admin/CustomizationRequests.jsx","../../src/pages/screens/Admin/UserManagement.jsx","../../src/pages/screens/Admin/IndiaAnalytics.jsx","../../src/pages/screens/Admin/RecommendationManagement.jsx","../../src/pages/screens/Admin/RoleManagement.jsx","../../src/ui/contexts/AdminSecurityContext.jsx","../../src/components/admin/ActivityTracker.jsx","../../src/components/intelligence/AnomalyDetection.jsx","../../src/components/intelligence/CustomDashboardBuilder.jsx","../../src/components/admin/ThemeManager.jsx","../../src/components/admin/LanguageManager.jsx","../../src/pages/screens/Admin/AdminPanel.jsx","../../src/pages/screens/Admin/InventoryManagement.jsx","../../src/pages/screens/Admin/ShippingManagement.jsx","../../src/pages/screens/Admin/AuditLogs.jsx","../../src/pages/screens/Admin/AdminActivityPage.jsx","../../src/pages/screens/Admin/IntelligenceDashboard.jsx","../../src/pages/screens/Admin/Security/SessionManager.jsx","../../src/pages/screens/Admin/AdvancedSettings.jsx"],"sourcesContent":["import { useState } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { \r\n  Download, \r\n  FileText, \r\n  BarChart3, \r\n  CheckCircle,\r\n  X,\r\n  RefreshCw\r\n} from 'lucide-react'\r\nimport { useI18n } from '../../ui/contexts/I18nContext.jsx'\r\nimport { useAudit, AUDIT_ACTIONS } from '../../ui/contexts/AuditContext.jsx'\r\n\r\nconst AnalyticsExport = ({ \r\n  data, \r\n  timeRange = '7d', \r\n  selectedSegment = 'all',\r\n  onExport \r\n}) => {\r\n  const [isExporting, setIsExporting] = useState(false)\r\n  const [showOptions, setShowOptions] = useState(false)\r\n  const [exportFormat, setExportFormat] = useState('pdf')\r\n  const [includeCharts, setIncludeCharts] = useState(true)\r\n  const [includeSummary, setIncludeSummary] = useState(true)\r\n  const [includeDetails, setIncludeDetails] = useState(true)\r\n\r\n  const { t, isRTL } = useI18n()\r\n  const { logAction } = useAudit()\r\n\r\n  const exportOptions = [\r\n    {\r\n      format: 'pdf',\r\n      label: t('analytics.exportPDF', 'PDF Report'),\r\n      icon: FileText,\r\n      description: t('analytics.pdfDescription', 'Professional formatted report')\r\n    },\r\n    {\r\n      format: 'excel',\r\n      label: t('analytics.exportExcel', 'Excel Spreadsheet'),\r\n      icon: BarChart3,\r\n      description: t('analytics.excelDescription', 'Data with charts and tables')\r\n    },\r\n    {\r\n      format: 'csv',\r\n      label: t('analytics.exportCSV', 'CSV Data'),\r\n      icon: Download,\r\n      description: t('analytics.csvDescription', 'Raw data for analysis')\r\n    }\r\n  ]\r\n\r\n  const handleExport = async () => {\r\n    setIsExporting(true)\r\n    try {\r\n      const exportConfig = {\r\n        format: exportFormat,\r\n        timeRange,\r\n        segment: selectedSegment,\r\n        options: {\r\n          includeCharts,\r\n          includeSummary,\r\n          includeDetails\r\n        },\r\n        data: {\r\n          overview: data.overview,\r\n          segments: data.segmentData,\r\n          orders: data.recentOrders,\r\n          customRequests: data.customRequests,\r\n          generatedAt: new Date().toISOString()\r\n        }\r\n      }\r\n\r\n      let result\r\n      if (exportFormat === 'pdf') {\r\n        result = await generatePDFReport(exportConfig)\r\n      } else if (exportFormat === 'excel') {\r\n        result = await generateExcelReport(exportConfig)\r\n      } else if (exportFormat === 'csv') {\r\n        result = await generateCSVReport(exportConfig)\r\n      }\r\n\r\n      if (result.success) {\r\n        // Log the export action\r\n        await logAction(AUDIT_ACTIONS.EXPORT, 'analytics-report', {\r\n          format: exportFormat,\r\n          timeRange,\r\n          segment: selectedSegment,\r\n          fileSize: result.fileSize,\r\n          filename: result.filename\r\n        })\r\n\r\n        // Trigger download\r\n        downloadFile(result.blob, result.filename)\r\n        \r\n        if (onExport) {\r\n          onExport(result)\r\n        }\r\n        \r\n        setShowOptions(false)\r\n      }\r\n    } catch (error) {\r\n      console.error('Export failed:', error)\r\n    } finally {\r\n      setIsExporting(false)\r\n    }\r\n  }\r\n\r\n  const generatePDFReport = async (config) => {\r\n    // Simulate PDF generation\r\n    await new Promise(resolve => setTimeout(resolve, 2000))\r\n    \r\n    const pdfContent = generatePDFContent(config)\r\n    const blob = new Blob([pdfContent], { type: 'application/pdf' })\r\n    \r\n    return {\r\n      success: true,\r\n      blob,\r\n      filename: `analytics-report-${config.timeRange}-${Date.now()}.pdf`,\r\n      fileSize: blob.size\r\n    }\r\n  }\r\n\r\n  const generateExcelReport = async (config) => {\r\n    // Simulate Excel generation\r\n    await new Promise(resolve => setTimeout(resolve, 1500))\r\n    \r\n    const excelData = generateExcelData(config)\r\n    const csv = convertToCSV(excelData) // In real implementation, use a library like xlsx\r\n    const blob = new Blob([csv], { type: 'application/vnd.ms-excel' })\r\n    \r\n    return {\r\n      success: true,\r\n      blob,\r\n      filename: `analytics-data-${config.timeRange}-${Date.now()}.xlsx`,\r\n      fileSize: blob.size\r\n    }\r\n  }\r\n\r\n  const generateCSVReport = async (config) => {\r\n    // Generate CSV data\r\n    const csvData = generateCSVData(config)\r\n    const csv = convertToCSV(csvData)\r\n    const blob = new Blob([csv], { type: 'text/csv' })\r\n    \r\n    return {\r\n      success: true,\r\n      blob,\r\n      filename: `analytics-data-${config.timeRange}-${Date.now()}.csv`,\r\n      fileSize: blob.size\r\n    }\r\n  }\r\n\r\n  const generatePDFContent = (config) => {\r\n    // This would use a PDF library like jsPDF or Puppeteer\r\n    return `Analytics Report - ${config.timeRange.toUpperCase()}\r\nGenerated: ${new Date().toLocaleString()}\r\n\r\nRevenue: ${config.data.overview.totalRevenue} SAR\r\nOrders: ${config.data.overview.totalOrders}\r\nCustomers: ${config.data.overview.totalCustomers}`\r\n  }\r\n\r\n  const generateExcelData = (config) => {\r\n    return [\r\n      ['Metric', 'Value', 'Change'],\r\n      ['Total Revenue', config.data.overview.totalRevenue, `${config.data.overview.changes.revenue}%`],\r\n      ['Total Orders', config.data.overview.totalOrders, `${config.data.overview.changes.orders}%`],\r\n      ['Total Customers', config.data.overview.totalCustomers, `${config.data.overview.changes.customers}%`],\r\n      ['Conversion Rate', `${config.data.overview.conversionRate}%`, `${config.data.overview.changes.conversion}%`],\r\n    ]\r\n  }\r\n\r\n  const generateCSVData = (config) => {\r\n    return [\r\n      {\r\n        Metric: 'Total Revenue',\r\n        Value: config.data.overview.totalRevenue,\r\n        Change: `${config.data.overview.changes.revenue}%`,\r\n        Period: config.timeRange,\r\n        Segment: config.segment\r\n      },\r\n      {\r\n        Metric: 'Total Orders',\r\n        Value: config.data.overview.totalOrders,\r\n        Change: `${config.data.overview.changes.orders}%`,\r\n        Period: config.timeRange,\r\n        Segment: config.segment\r\n      },\r\n      {\r\n        Metric: 'Total Customers',\r\n        Value: config.data.overview.totalCustomers,\r\n        Change: `${config.data.overview.changes.customers}%`,\r\n        Period: config.timeRange,\r\n        Segment: config.segment\r\n      }\r\n    ]\r\n  }\r\n\r\n  const convertToCSV = (data) => {\r\n    if (data.length === 0) return ''\r\n    const headers = Object.keys(data[0]).join(',')\r\n    const rows = data.map(row => \r\n      Object.values(row).map(value => \r\n        typeof value === 'string' && value.includes(',') \r\n          ? `\"${value.replace(/\"/g, '\"\"')}\"` \r\n          : value\r\n      ).join(',')\r\n    )\r\n    return [headers, ...rows].join('\\n')\r\n  }\r\n\r\n  const downloadFile = (blob, filename) => {\r\n    const url = window.URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = filename\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    document.body.removeChild(a)\r\n    window.URL.revokeObjectURL(url)\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {/* Export Button */}\r\n      <motion.button\r\n        onClick={() => setShowOptions(!showOptions)}\r\n        disabled={isExporting}\r\n        className=\"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-primary/90 transition-colors disabled:opacity-50\"\r\n        whileHover={{ scale: isExporting ? 1 : 1.02 }}\r\n        whileTap={{ scale: isExporting ? 1 : 0.98 }}\r\n      >\r\n        {isExporting ? (\r\n          <RefreshCw size={16} className=\"animate-spin\" />\r\n        ) : (\r\n          <Download size={16} />\r\n        )}\r\n        {t('analytics.export', 'Export')}\r\n      </motion.button>\r\n\r\n      {/* Export Options Modal */}\r\n      <AnimatePresence>\r\n        {showOptions && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => setShowOptions(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              className=\"bg-surface border border-border rounded-xl p-6 max-w-md w-full shadow-xl\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <div className={`flex items-center justify-between mb-6 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <h3 className=\"text-lg font-semibold text-foreground flex items-center gap-2\">\r\n                  <Download className=\"h-5 w-5\" />\r\n                  {t('analytics.exportOptions', 'Export Options')}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowOptions(false)}\r\n                  className=\"p-2 text-foreground/40 hover:text-foreground transition-colors\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Export Format Selection */}\r\n              <div className=\"space-y-4 mb-6\">\r\n                <h4 className=\"font-medium text-foreground\">{t('analytics.selectFormat', 'Select Format')}</h4>\r\n                <div className=\"space-y-2\">\r\n                  {exportOptions.map((option) => {\r\n                    const Icon = option.icon\r\n                    return (\r\n                      <label\r\n                        key={option.format}\r\n                        className={`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all ${\r\n                          exportFormat === option.format\r\n                            ? 'border-primary bg-primary/10'\r\n                            : 'border-border hover:border-primary/50'\r\n                        }`}\r\n                      >\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"exportFormat\"\r\n                          value={option.format}\r\n                          checked={exportFormat === option.format}\r\n                          onChange={(e) => setExportFormat(e.target.value)}\r\n                          className=\"sr-only\"\r\n                        />\r\n                        <Icon className={`h-5 w-5 ${\r\n                          exportFormat === option.format ? 'text-primary' : 'text-foreground/60'\r\n                        }`} />\r\n                        <div className=\"flex-1\">\r\n                          <div className={`font-medium ${\r\n                            exportFormat === option.format ? 'text-primary' : 'text-foreground'\r\n                          }`}>\r\n                            {option.label}\r\n                          </div>\r\n                          <div className=\"text-sm text-foreground/60\">\r\n                            {option.description}\r\n                          </div>\r\n                        </div>\r\n                        {exportFormat === option.format && (\r\n                          <CheckCircle className=\"h-5 w-5 text-primary\" />\r\n                        )}\r\n                      </label>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Export Options */}\r\n              <div className=\"space-y-4 mb-6\">\r\n                <h4 className=\"font-medium text-foreground\">{t('analytics.includeInReport', 'Include in Report')}</h4>\r\n                <div className=\"space-y-3\">\r\n                  <label className=\"flex items-center gap-3 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={includeSummary}\r\n                      onChange={(e) => setIncludeSummary(e.target.checked)}\r\n                      className=\"w-4 h-4 text-primary bg-white border-gray-300 rounded focus:ring-primary\"\r\n                    />\r\n                    <span className=\"text-foreground\">{t('analytics.executiveSummary', 'Executive Summary')}</span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-3 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={includeCharts}\r\n                      onChange={(e) => setIncludeCharts(e.target.checked)}\r\n                      className=\"w-4 h-4 text-primary bg-white border-gray-300 rounded focus:ring-primary\"\r\n                    />\r\n                    <span className=\"text-foreground\">{t('analytics.chartsGraphs', 'Charts & Graphs')}</span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-3 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={includeDetails}\r\n                      onChange={(e) => setIncludeDetails(e.target.checked)}\r\n                      className=\"w-4 h-4 text-primary bg-white border-gray-300 rounded focus:ring-primary\"\r\n                    />\r\n                    <span className=\"text-foreground\">{t('analytics.detailedData', 'Detailed Data')}</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Current Settings Info */}\r\n              <div className=\"bg-background rounded-lg p-3 mb-6\">\r\n                <div className=\"text-sm space-y-1\">\r\n                  <div className={`flex justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                    <span className=\"text-foreground/60\">{t('analytics.timeRange', 'Time Range')}:</span>\r\n                    <span className=\"font-medium text-foreground\">{timeRange.toUpperCase()}</span>\r\n                  </div>\r\n                  <div className={`flex justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                    <span className=\"text-foreground/60\">{t('analytics.segment', 'Segment')}:</span>\r\n                    <span className=\"font-medium text-foreground capitalize\">{selectedSegment}</span>\r\n                  </div>\r\n                  <div className={`flex justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                    <span className=\"text-foreground/60\">{t('analytics.generatedAt', 'Generated')}:</span>\r\n                    <span className=\"font-medium text-foreground\">{new Date().toLocaleString()}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div className={`flex gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <motion.button\r\n                  onClick={handleExport}\r\n                  disabled={isExporting}\r\n                  className=\"flex-1 bg-primary text-white px-4 py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2\"\r\n                  whileHover={{ scale: isExporting ? 1 : 1.02 }}\r\n                  whileTap={{ scale: isExporting ? 1 : 0.98 }}\r\n                >\r\n                  {isExporting ? (\r\n                    <>\r\n                      <RefreshCw size={16} className=\"animate-spin\" />\r\n                      {t('analytics.generating', 'Generating...')}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Download size={16} />\r\n                      {t('analytics.generateReport', 'Generate Report')}\r\n                    </>\r\n                  )}\r\n                </motion.button>\r\n                <button\r\n                  onClick={() => setShowOptions(false)}\r\n                  className=\"px-4 py-2 border border-border rounded-lg text-foreground hover:bg-background/50 transition-colors\"\r\n                >\r\n                  {t('common.cancel', 'Cancel')}\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AnalyticsExport","import { useState, useEffect } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  BarChart3, Users, ShoppingBag, TrendingUp, TrendingDown,\r\n  Package, DollarSign, RefreshCw, Eye\r\n} from 'lucide-react'\r\nimport { useSegment } from '../../../ui/contexts/SegmentContext.jsx'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext.jsx'\r\nimport AnalyticsExport from '../../../components/analytics/AnalyticsExport.jsx'\r\n\r\nconst MOCK_ANALYTICS = {\r\n  overview: {\r\n    totalRevenue: 145420,\r\n    totalOrders: 1284,\r\n    totalCustomers: 892,\r\n    conversionRate: 3.4,\r\n    changes: {\r\n      revenue: 12.5,\r\n      orders: 8.2,\r\n      customers: 15.7,\r\n      conversion: -2.1\r\n    }\r\n  },\r\n  segmentData: {\r\n    leather: { orders: 456, revenue: 67890, growth: 15.2 },\r\n    electronics: { orders: 389, revenue: 48520, growth: 22.1 },\r\n    furniture: { orders: 439, revenue: 29010, growth: 8.7 }\r\n  },\r\n  recentOrders: [\r\n    { id: 'ORD-001', customer: 'Ahmed Al-Rashid', amount: 299.99, status: 'completed', segment: 'leather', time: '2 hours ago' },\r\n    { id: 'ORD-002', customer: 'Sarah Johnson', amount: 149.99, status: 'processing', segment: 'electronics', time: '4 hours ago' },\r\n    { id: 'ORD-003', customer: 'Mohammed Hassan', amount: 599.99, status: 'pending', segment: 'furniture', time: '6 hours ago' },\r\n  ],\r\n  customRequests: [\r\n    { id: 'REQ-001', customer: 'Fatima Al-Zahra', category: 'Custom Bags', status: 'new', urgency: 'high', time: '1 hour ago' },\r\n    { id: 'REQ-002', customer: 'Omar Khalil', category: 'Bespoke Wallets', status: 'in-review', urgency: 'normal', time: '3 hours ago' },\r\n    { id: 'REQ-003', customer: 'Layla Ibrahim', category: 'Custom Furniture', status: 'quoted', urgency: 'low', time: '1 day ago' },\r\n  ]\r\n}\r\n\r\nconst SEGMENT_COLORS = {\r\n  leather: '#4E342E',\r\n  electronics: '#2962FF',\r\n  furniture: '#2E7D32'\r\n}\r\n\r\nexport default function AdminDashboard() {\r\n  const { theme } = useSegment()\r\n  const { t, isRTL } = useI18n()\r\n  const [timeRange, setTimeRange] = useState('7d')\r\n  const [selectedSegment, setSelectedSegment] = useState('all')\r\n  const [analytics, setAnalytics] = useState(MOCK_ANALYTICS)\r\n  const [refreshing, setRefreshing] = useState(false)\r\n  \r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setAnalytics(prev => ({\r\n        ...prev,\r\n        overview: {\r\n          ...prev.overview,\r\n          totalRevenue: prev.overview.totalRevenue + Math.floor(Math.random() * 100),\r\n          totalOrders: prev.overview.totalOrders + Math.floor(Math.random() * 3)\r\n        }\r\n      }))\r\n    }, 10000)\r\n    \r\n    return () => clearInterval(interval)\r\n  }, [])\r\n  \r\n  const StatCard = ({ title, value, change, icon: Icon, format = 'number', subtitle, _trend }) => {\r\n    const isPositive = change > 0\r\n    const formatValue = (val) => {\r\n      if (format === 'currency') return `${val.toLocaleString()} SAR`\r\n      if (format === 'percentage') return `${val}%`\r\n      if (format === 'decimal') return val.toFixed(1)\r\n      return val.toLocaleString()\r\n    }\r\n    \r\n    return (\r\n      <motion.div\r\n        className=\"bg-surface border border-border rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 relative overflow-hidden\"\r\n        whileHover={{ y: -2 }}\r\n        layout\r\n      >\r\n        {/* Background Gradient */}\r\n        <div className=\"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent\"></div>\r\n        \r\n        <div className=\"relative z-10\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div \r\n              className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\r\n              style={{ backgroundColor: `${theme.colors.primary}15` }}\r\n            >\r\n              <Icon size={24} style={{ color: theme.colors.primary }} />\r\n            </div>\r\n            <div className={`flex items-center gap-1 text-sm font-medium ${\r\n              isPositive ? 'text-green-600' : 'text-red-600'\r\n            }`}>\r\n              {isPositive ? <TrendingUp size={16} /> : <TrendingDown size={16} />}\r\n              {Math.abs(change)}%\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"space-y-1\">\r\n            <h3 className=\"text-3xl font-bold text-foreground\">\r\n              {formatValue(value)}\r\n            </h3>\r\n            <p className=\"text-foreground/60 text-sm font-medium\">{title}</p>\r\n            {subtitle && (\r\n              <p className=\"text-foreground/40 text-xs\">{subtitle}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <div className=\"min-h-screen py-8\" style={{ backgroundColor: theme.colors.background }}>\r\n      <div className=\"max-w-7xl mx-auto px-6\">\r\n        <div className={`flex items-center justify-between mb-8 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n          <div className={isRTL ? 'text-right' : 'text-left'}>\r\n            <h1 className=\"text-3xl font-bold text-foreground mb-2 flex items-center gap-3\">\r\n              <BarChart3 className=\"h-8 w-8 text-primary\" />\r\n              {t('admin.enhancedDashboard', 'Enhanced Admin Dashboard')}\r\n            </h1>\r\n            <p className=\"text-foreground/60\">\r\n              {t('admin.dashboardSubtitle', 'Real-time business intelligence and analytics')}\r\n            </p>\r\n          </div>\r\n          \r\n          <div className={`flex items-center gap-4 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            {/* Segment Filter */}\r\n            <select\r\n              value={selectedSegment}\r\n              onChange={(e) => setSelectedSegment(e.target.value)}\r\n              className=\"px-4 py-2 rounded-xl border border-border bg-surface text-foreground focus:ring-2 focus:ring-primary transition-all\"\r\n            >\r\n              <option value=\"all\">{t('admin.allSegments', 'All Segments')}</option>\r\n              <option value=\"leather\">{t('admin.leather', 'Leather')}</option>\r\n              <option value=\"electronics\">{t('admin.electronics', 'Electronics')}</option>\r\n              <option value=\"furniture\">{t('admin.furniture', 'Furniture')}</option>\r\n            </select>\r\n\r\n            {/* Time Range */}\r\n            <select\r\n              value={timeRange}\r\n              onChange={(e) => setTimeRange(e.target.value)}\r\n              className=\"px-4 py-2 rounded-xl border border-border bg-surface text-foreground focus:ring-2 focus:ring-primary transition-all\"\r\n            >\r\n              <option value=\"24h\">{t('admin.last24h', 'Last 24 Hours')}</option>\r\n              <option value=\"7d\">{t('admin.last7days', 'Last 7 Days')}</option>\r\n              <option value=\"30d\">{t('admin.last30days', 'Last 30 Days')}</option>\r\n              <option value=\"90d\">{t('admin.last90days', 'Last 90 Days')}</option>\r\n            </select>\r\n            \r\n            {/* Refresh Button */}\r\n            <motion.button\r\n              onClick={() => setRefreshing(!refreshing)}\r\n              disabled={refreshing}\r\n              className=\"p-3 rounded-xl border border-border bg-surface text-foreground hover:bg-background transition-all disabled:opacity-50\"\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <RefreshCw className={`h-5 w-5 ${refreshing ? 'animate-spin' : ''}`} />\r\n            </motion.button>\r\n\r\n            {/* Export */}\r\n            <AnalyticsExport\r\n              data={analytics}\r\n              timeRange={timeRange}\r\n              selectedSegment={selectedSegment}\r\n              onExport={(result) => {\r\n                console.log('Export completed:', result)\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          <StatCard\r\n            title=\"Total Revenue\"\r\n            value={analytics.overview.totalRevenue}\r\n            change={analytics.overview.changes.revenue}\r\n            icon={DollarSign}\r\n            format=\"currency\"\r\n          />\r\n          <StatCard\r\n            title=\"Total Orders\"\r\n            value={analytics.overview.totalOrders}\r\n            change={analytics.overview.changes.orders}\r\n            icon={ShoppingBag}\r\n          />\r\n          <StatCard\r\n            title=\"Total Customers\"\r\n            value={analytics.overview.totalCustomers}\r\n            change={analytics.overview.changes.customers}\r\n            icon={Users}\r\n          />\r\n          <StatCard\r\n            title=\"Conversion Rate\"\r\n            value={analytics.overview.conversionRate}\r\n            change={analytics.overview.changes.conversion}\r\n            icon={TrendingUp}\r\n            format=\"percentage\"\r\n          />\r\n        </div>\r\n        \r\n        <motion.div\r\n          className=\"bg-surface border border-border rounded-segment-xl p-6 shadow-segment-sm mb-8\"\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.2 }}\r\n        >\r\n          <h2 className=\"text-xl font-bold text-foreground mb-6\">Segment Performance</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            {Object.entries(analytics.segmentData).map(([segment, data]) => (\r\n              <div key={segment} className=\"text-center\">\r\n                <div \r\n                  className=\"w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center\"\r\n                  style={{ backgroundColor: `${SEGMENT_COLORS[segment]}15` }}\r\n                >\r\n                  <Package size={32} style={{ color: SEGMENT_COLORS[segment] }} />\r\n                </div>\r\n                <h3 className=\"font-semibold text-foreground capitalize mb-2\">{segment}</h3>\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-2xl font-bold text-foreground\">{data.orders}</p>\r\n                  <p className=\"text-sm text-foreground/60\">Orders</p>\r\n                  <p className=\"text-lg font-medium\" style={{ color: SEGMENT_COLORS[segment] }}>\r\n                    {data.revenue.toLocaleString()} SAR\r\n                  </p>\r\n                  <p className=\"text-sm text-green-600 font-medium\">+{data.growth}%</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </motion.div>\r\n        \r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          <motion.div\r\n            className=\"lg:col-span-2 bg-surface border border-border rounded-segment-xl shadow-segment-sm\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.3 }}\r\n          >\r\n            <div className=\"p-6 border-b border-border\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-bold text-foreground\">Recent Orders</h2>\r\n                <button className=\"text-primary hover:text-primary/80 font-medium text-sm flex items-center gap-1\">\r\n                  View All <Eye size={16} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"p-6\">\r\n              <div className=\"space-y-4\">\r\n                {analytics.recentOrders.map((order) => (\r\n                  <div key={order.id} className=\"flex items-center justify-between p-4 bg-background rounded-segment-lg border border-border\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <div \r\n                        className=\"w-3 h-3 rounded-full\"\r\n                        style={{ backgroundColor: SEGMENT_COLORS[order.segment] }}\r\n                      />\r\n                      <div>\r\n                        <p className=\"font-medium text-foreground\">{order.id}</p>\r\n                        <p className=\"text-sm text-foreground/60\">{order.customer}</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"font-medium text-foreground\">{order.amount} SAR</p>\r\n                      <p className=\"text-sm text-foreground/60\">{order.time}</p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n          \r\n          <motion.div\r\n            className=\"bg-surface border border-border rounded-segment-xl shadow-segment-sm\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.4 }}\r\n          >\r\n            <div className=\"p-6 border-b border-border\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-bold text-foreground\">Custom Requests</h2>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\r\n                  <span className=\"text-sm text-foreground/60\">\r\n                    {analytics.customRequests.filter(r => r.status === 'new').length} new\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"p-6 space-y-4\">\r\n              {analytics.customRequests.map((request) => (\r\n                <div key={request.id} className=\"p-4 bg-background border border-border rounded-segment-lg\">\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div>\r\n                      <h4 className=\"font-medium text-foreground\">{request.id}</h4>\r\n                      <p className=\"text-sm text-foreground/60\">{request.customer}</p>\r\n                    </div>\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                      request.urgency === 'high' ? 'bg-red-100 text-red-800' :\r\n                      request.urgency === 'normal' ? 'bg-blue-100 text-blue-800' :\r\n                      'bg-gray-100 text-gray-800'\r\n                    }`}>\r\n                      {request.urgency}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-foreground/80\">{request.category}</span>\r\n                    <span className=\"text-xs text-foreground/40\">{request.time}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useState, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Upload, Download, Trash2, Edit3, Copy, Archive, \r\n  CheckSquare, Square, AlertTriangle,\r\n  Search, RefreshCw, Zap\r\n} from 'lucide-react';\r\n\r\nconst BulkOperationsManager = ({ \r\n  items, \r\n  selectedItems, \r\n  onSelectionChange, \r\n  onBulkAction,\r\n  itemType = 'items',\r\n  columns = []\r\n}) => {\r\n  const [bulkAction, setBulkAction] = useState('');\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterCriteria, setFilterCriteria] = useState({});\r\n  const [progress, setProgress] = useState(0);\r\n  const fileInputRef = useRef();\r\n\r\n  const bulkActions = [\r\n    { id: 'delete', label: `Delete Selected ${itemType}`, icon: Trash2, color: 'red', danger: true },\r\n    { id: 'archive', label: `Archive Selected ${itemType}`, icon: Archive, color: 'orange' },\r\n    { id: 'duplicate', label: `Duplicate Selected ${itemType}`, icon: Copy, color: 'blue' },\r\n    { id: 'export', label: `Export Selected ${itemType}`, icon: Download, color: 'green' },\r\n    { id: 'bulk_edit', label: `Bulk Edit Selected ${itemType}`, icon: Edit3, color: 'purple' },\r\n    { id: 'import', label: `Import ${itemType}`, icon: Upload, color: 'indigo' }\r\n  ];\r\n\r\n  const filteredItems = items.filter(item => {\r\n    const matchesSearch = searchTerm === '' || \r\n      Object.values(item).some(value => \r\n        String(value).toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    \r\n    const matchesFilter = Object.keys(filterCriteria).every(key => {\r\n      if (!filterCriteria[key]) return true;\r\n      return item[key] === filterCriteria[key];\r\n    });\r\n\r\n    return matchesSearch && matchesFilter;\r\n  });\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedItems.length === filteredItems.length) {\r\n      onSelectionChange([]);\r\n    } else {\r\n      onSelectionChange(filteredItems.map(item => item.id));\r\n    }\r\n  };\r\n\r\n  const handleBulkAction = async (actionId) => {\r\n    if (selectedItems.length === 0) return;\r\n\r\n    const action = bulkActions.find(a => a.id === actionId);\r\n    if (action.danger) {\r\n      setBulkAction(actionId);\r\n      setShowConfirmation(true);\r\n      return;\r\n    }\r\n\r\n    await executeBulkAction(actionId);\r\n  };\r\n\r\n  const executeBulkAction = async (actionId) => {\r\n    setIsProcessing(true);\r\n    setProgress(0);\r\n\r\n    try {\r\n      for (let i = 0; i < selectedItems.length; i++) {\r\n        await new Promise(resolve => setTimeout(resolve, 100)); // Simulate processing\r\n        setProgress(((i + 1) / selectedItems.length) * 100);\r\n      }\r\n\r\n      await onBulkAction(actionId, selectedItems);\r\n      onSelectionChange([]);\r\n    } catch (error) {\r\n      console.error('Bulk operation failed:', error);\r\n    } finally {\r\n      setIsProcessing(false);\r\n      setShowConfirmation(false);\r\n      setProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleFileImport = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const data = JSON.parse(e.target.result);\r\n          onBulkAction('import', data);\r\n        } catch (error) {\r\n          console.error('Import failed:', error);\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Search and Filter Bar */}\r\n      <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n        <div className=\"flex flex-wrap gap-4 items-center\">\r\n          <div className=\"flex-1 min-w-64\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder={`Search ${itemType}...`}\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          {columns.length > 0 && (\r\n            <div className=\"flex gap-2\">\r\n              {columns.filter(col => col.filterable).map(column => (\r\n                <select\r\n                  key={column.key}\r\n                  value={filterCriteria[column.key] || ''}\r\n                  onChange={(e) => setFilterCriteria(prev => ({\r\n                    ...prev,\r\n                    [column.key]: e.target.value\r\n                  }))}\r\n                  className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  <option value=\"\">All {column.label}</option>\r\n                  {column.filterOptions?.map(option => (\r\n                    <option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={() => {\r\n              setSearchTerm('');\r\n              setFilterCriteria({});\r\n            }}\r\n            className=\"px-3 py-2 text-gray-600 hover:text-gray-800 transition-colors\"\r\n            title=\"Clear filters\"\r\n          >\r\n            <RefreshCw className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bulk Actions Bar */}\r\n      <AnimatePresence>\r\n        {selectedItems.length > 0 && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -20 }}\r\n            className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <Zap className=\"w-5 h-5 text-blue-600\" />\r\n                <span className=\"font-medium text-blue-900\">\r\n                  {selectedItems.length} {itemType} selected\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {bulkActions.map(action => (\r\n                  <button\r\n                    key={action.id}\r\n                    onClick={() => action.id === 'import' ? fileInputRef.current?.click() : handleBulkAction(action.id)}\r\n                    disabled={isProcessing || (action.id !== 'import' && selectedItems.length === 0)}\r\n                    className={`\r\n                      flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors\r\n                      ${action.color === 'red' ? 'bg-red-100 text-red-700 hover:bg-red-200' :\r\n                        action.color === 'orange' ? 'bg-orange-100 text-orange-700 hover:bg-orange-200' :\r\n                        action.color === 'green' ? 'bg-green-100 text-green-700 hover:bg-green-200' :\r\n                        action.color === 'purple' ? 'bg-purple-100 text-purple-700 hover:bg-purple-200' :\r\n                        action.color === 'indigo' ? 'bg-indigo-100 text-indigo-700 hover:bg-indigo-200' :\r\n                        'bg-blue-100 text-blue-700 hover:bg-blue-200'}\r\n                      disabled:opacity-50 disabled:cursor-not-allowed\r\n                    `}\r\n                  >\r\n                    <action.icon className=\"w-4 h-4\" />\r\n                    {action.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Progress Bar */}\r\n            {isProcessing && (\r\n              <div className=\"mt-3\">\r\n                <div className=\"flex items-center justify-between text-sm text-blue-700 mb-1\">\r\n                  <span>Processing...</span>\r\n                  <span>{Math.round(progress)}%</span>\r\n                </div>\r\n                <div className=\"w-full bg-blue-200 rounded-full h-2\">\r\n                  <motion.div\r\n                    className=\"bg-blue-600 h-2 rounded-full\"\r\n                    initial={{ width: 0 }}\r\n                    animate={{ width: `${progress}%` }}\r\n                    transition={{ duration: 0.3 }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Selection Controls */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border overflow-hidden\">\r\n        <div className=\"p-4 border-b bg-gray-50\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <button\r\n                onClick={handleSelectAll}\r\n                className=\"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900\"\r\n              >\r\n                {selectedItems.length === filteredItems.length && filteredItems.length > 0 ? (\r\n                  <CheckSquare className=\"w-5 h-5 text-blue-600\" />\r\n                ) : (\r\n                  <Square className=\"w-5 h-5\" />\r\n                )}\r\n                Select All ({filteredItems.length})\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"text-sm text-gray-500\">\r\n              Showing {filteredItems.length} of {items.length} {itemType}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Items List */}\r\n        <div className=\"max-h-96 overflow-y-auto\">\r\n          {filteredItems.map(item => (\r\n            <div\r\n              key={item.id}\r\n              className={`\r\n                flex items-center gap-3 p-3 border-b hover:bg-gray-50 transition-colors\r\n                ${selectedItems.includes(item.id) ? 'bg-blue-50 border-blue-200' : ''}\r\n              `}\r\n            >\r\n              <button\r\n                onClick={() => {\r\n                  if (selectedItems.includes(item.id)) {\r\n                    onSelectionChange(selectedItems.filter(id => id !== item.id));\r\n                  } else {\r\n                    onSelectionChange([...selectedItems, item.id]);\r\n                  }\r\n                }}\r\n              >\r\n                {selectedItems.includes(item.id) ? (\r\n                  <CheckSquare className=\"w-5 h-5 text-blue-600\" />\r\n                ) : (\r\n                  <Square className=\"w-5 h-5 text-gray-400\" />\r\n                )}\r\n              </button>\r\n              \r\n              <div className=\"flex-1\">\r\n                <div className=\"font-medium text-gray-900\">\r\n                  {item.name || item.title || `${itemType} #${item.id}`}\r\n                </div>\r\n                <div className=\"text-sm text-gray-500\">\r\n                  {item.description || item.email || item.status || 'No description'}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"text-sm text-gray-500\">\r\n                {item.updatedAt ? new Date(item.updatedAt).toLocaleDateString() : ''}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Confirmation Modal */}\r\n      <AnimatePresence>\r\n        {showConfirmation && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\r\n          >\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n              className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\"\r\n            >\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <AlertTriangle className=\"w-6 h-6 text-red-600\" />\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Confirm Action</h3>\r\n              </div>\r\n              \r\n              <p className=\"text-gray-600 mb-6\">\r\n                Are you sure you want to {bulkAction} {selectedItems.length} selected {itemType}? \r\n                This action cannot be undone.\r\n              </p>\r\n              \r\n              <div className=\"flex gap-3 justify-end\">\r\n                <button\r\n                  onClick={() => setShowConfirmation(false)}\r\n                  className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={() => executeBulkAction(bulkAction)}\r\n                  disabled={isProcessing}\r\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50\"\r\n                >\r\n                  {isProcessing ? 'Processing...' : 'Confirm'}\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Hidden File Input */}\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\".json,.csv\"\r\n        onChange={handleFileImport}\r\n        className=\"hidden\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkOperationsManager;","import React, { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { \r\n  Plus, \r\n  Edit, \r\n  Trash2, \r\n  Eye, \r\n  Search, \r\n  Filter, \r\n  Grid3X3, \r\n  List, \r\n  Upload,\r\n  Download,\r\n  RefreshCw,\r\n  MoreVertical,\r\n  Star,\r\n  Package,\r\n  Tag,\r\n  DollarSign,\r\n  TrendingUp,\r\n  AlertCircle,\r\n  Check,\r\n  X\r\n} from 'lucide-react'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext.jsx'\r\nimport { useSegment } from '../../../ui/contexts/SegmentContext.jsx'\r\nimport { useAudit, AUDIT_ACTIONS } from '../../../ui/contexts/AuditContext.jsx'\r\nimport BulkOperationsManager from '../../../components/admin/BulkOperationsManager.jsx'\r\n\r\n// Mock product data\r\nconst MOCK_PRODUCTS = [\r\n  {\r\n    id: 1,\r\n    name: 'Premium Leather Briefcase',\r\n    nameAr: 'حقيبة جلدية فاخرة',\r\n    category: 'leather',\r\n    subcategory: 'bags',\r\n    price: 850,\r\n    originalPrice: 1200,\r\n    stock: 15,\r\n    status: 'active',\r\n    rating: 4.8,\r\n    reviews: 124,\r\n    image: '/api/placeholder/300/300',\r\n    featured: true,\r\n    bestseller: true,\r\n    dateAdded: '2024-01-15',\r\n    lastModified: '2024-01-20'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'Wireless Premium Headphones',\r\n    nameAr: 'سماعات لاسلكية فاخرة',\r\n    category: 'electronics',\r\n    subcategory: 'audio',\r\n    price: 299,\r\n    originalPrice: 399,\r\n    stock: 32,\r\n    status: 'active',\r\n    rating: 4.6,\r\n    reviews: 89,\r\n    image: '/api/placeholder/300/300',\r\n    featured: false,\r\n    bestseller: true,\r\n    dateAdded: '2024-01-10',\r\n    lastModified: '2024-01-18'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: 'Executive Office Chair',\r\n    nameAr: 'كرسي مكتب تنفيذي',\r\n    category: 'furniture',\r\n    subcategory: 'seating',\r\n    price: 650,\r\n    originalPrice: 650,\r\n    stock: 8,\r\n    status: 'active',\r\n    rating: 4.9,\r\n    reviews: 56,\r\n    image: '/api/placeholder/300/300',\r\n    featured: true,\r\n    bestseller: false,\r\n    dateAdded: '2024-01-12',\r\n    lastModified: '2024-01-19'\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'Handcrafted Leather Wallet',\r\n    nameAr: 'محفظة جلدية مصنوعة يدوياً',\r\n    category: 'leather',\r\n    subcategory: 'wallets',\r\n    price: 120,\r\n    originalPrice: 150,\r\n    stock: 0,\r\n    status: 'out_of_stock',\r\n    rating: 4.7,\r\n    reviews: 203,\r\n    image: '/api/placeholder/300/300',\r\n    featured: false,\r\n    bestseller: true,\r\n    dateAdded: '2024-01-08',\r\n    lastModified: '2024-01-16'\r\n  }\r\n]\r\n\r\nconst CATEGORIES = {\r\n  leather: { name: 'Leather', nameAr: 'جلود', subcategories: ['bags', 'wallets', 'belts', 'accessories'] },\r\n  electronics: { name: 'Electronics', nameAr: 'إلكترونيات', subcategories: ['audio', 'wearables', 'accessories'] },\r\n  furniture: { name: 'Furniture', nameAr: 'أثاث', subcategories: ['office', 'seating', 'storage'] }\r\n}\r\n\r\nconst STATUS_OPTIONS = [\r\n  { value: 'all', label: 'All Status', labelAr: 'جميع الحالات' },\r\n  { value: 'active', label: 'Active', labelAr: 'نشط' },\r\n  { value: 'inactive', label: 'Inactive', labelAr: 'غير نشط' },\r\n  { value: 'out_of_stock', label: 'Out of Stock', labelAr: 'نفد المخزون' },\r\n  { value: 'draft', label: 'Draft', labelAr: 'مسودة' }\r\n]\r\n\r\nexport default function ProductCatalog() {\r\n  const [products, setProducts] = useState(MOCK_PRODUCTS)\r\n  const [filteredProducts, setFilteredProducts] = useState(MOCK_PRODUCTS)\r\n  const [viewMode, setViewMode] = useState('grid') // 'grid' or 'list'\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [selectedCategory, setSelectedCategory] = useState('all')\r\n  const [selectedStatus, setSelectedStatus] = useState('all')\r\n  const [showFilters, setShowFilters] = useState(false)\r\n  const [selectedProducts, setSelectedProducts] = useState([])\r\n  const [showBulkActions, setShowBulkActions] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [showProductModal, setShowProductModal] = useState(false)\r\n  const [editingProduct, setEditingProduct] = useState(null)\r\n  const [isExporting, setIsExporting] = useState(false)\r\n\r\n  const { t, isRTL, formatCurrency } = useI18n()\r\n  const { theme } = useSegment()\r\n  const { logAction } = useAudit()\r\n\r\n  // Filter products based on search and filters\r\n  useEffect(() => {\r\n    let filtered = products\r\n\r\n    // Search filter\r\n    if (searchQuery) {\r\n      filtered = filtered.filter(product => \r\n        product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        product.nameAr.includes(searchQuery) ||\r\n        product.category.toLowerCase().includes(searchQuery.toLowerCase())\r\n      )\r\n    }\r\n\r\n    // Category filter\r\n    if (selectedCategory !== 'all') {\r\n      filtered = filtered.filter(product => product.category === selectedCategory)\r\n    }\r\n\r\n    // Status filter\r\n    if (selectedStatus !== 'all') {\r\n      filtered = filtered.filter(product => product.status === selectedStatus)\r\n    }\r\n\r\n    setFilteredProducts(filtered)\r\n  }, [products, searchQuery, selectedCategory, selectedStatus])\r\n\r\n  const handleSelectProduct = (productId) => {\r\n    setSelectedProducts(prev => \r\n      prev.includes(productId) \r\n        ? prev.filter(id => id !== productId)\r\n        : [...prev, productId]\r\n    )\r\n  }\r\n\r\n  const handleSelectAll = () => {\r\n    setSelectedProducts(\r\n      selectedProducts.length === filteredProducts.length \r\n        ? [] \r\n        : filteredProducts.map(p => p.id)\r\n    )\r\n  }\r\n\r\n  const handleBulkAction = async (action, selectedIds, data = null) => {\r\n    setIsLoading(true)\r\n    try {\r\n      switch (action) {\r\n        case 'delete':\r\n          if (window.confirm(t('admin.confirmBulkDelete', `Delete ${selectedIds.length} products?`))) {\r\n            setProducts(prev => prev.filter(p => !selectedIds.includes(p.id)))\r\n            await logAction(AUDIT_ACTIONS.DELETE, 'bulk-products', {\r\n              productIds: selectedIds,\r\n              count: selectedIds.length\r\n            })\r\n          }\r\n          break;\r\n        case 'archive':\r\n          setProducts(prev => prev.map(p => \r\n            selectedIds.includes(p.id) ? { ...p, status: 'archived' } : p\r\n          ))\r\n          await logAction(AUDIT_ACTIONS.UPDATE, 'bulk-products-archive', {\r\n            productIds: selectedIds,\r\n            count: selectedIds.length\r\n          })\r\n          break;\r\n        case 'duplicate':\r\n          const duplicates = products.filter(p => selectedIds.includes(p.id))\r\n            .map(p => ({ ...p, id: Date.now() + Math.random(), name: `${p.name} (Copy)` }))\r\n          setProducts(prev => [...prev, ...duplicates])\r\n          await logAction(AUDIT_ACTIONS.CREATE, 'bulk-products-duplicate', {\r\n            originalIds: selectedIds,\r\n            count: duplicates.length\r\n          })\r\n          break;\r\n        case 'export':\r\n          await exportProducts('csv', selectedIds)\r\n          break;\r\n        case 'bulk_edit':\r\n          // Open bulk edit modal\r\n          console.log('Bulk edit:', selectedIds)\r\n          break;\r\n        case 'import':\r\n          if (data) {\r\n            const newProducts = data.map(item => ({\r\n              ...item,\r\n              id: Date.now() + Math.random(),\r\n              dateAdded: new Date().toISOString().split('T')[0],\r\n              lastModified: new Date().toISOString().split('T')[0]\r\n            }))\r\n            setProducts(prev => [...prev, ...newProducts])\r\n            await logAction(AUDIT_ACTIONS.CREATE, 'bulk-products-import', {\r\n              count: newProducts.length\r\n            })\r\n          }\r\n          break;\r\n        default:\r\n          if (action === 'activate' || action === 'deactivate') {\r\n            const newStatus = action === 'activate' ? 'active' : 'inactive'\r\n            setProducts(prev => prev.map(p => \r\n              selectedIds.includes(p.id) ? { ...p, status: newStatus } : p\r\n            ))\r\n            await logAction(AUDIT_ACTIONS.UPDATE, 'bulk-products-status', {\r\n              productIds: selectedIds,\r\n              newStatus,\r\n              count: selectedIds.length\r\n            })\r\n          }\r\n      }\r\n      setSelectedProducts([])\r\n      setShowBulkActions(false)\r\n    } catch (error) {\r\n      console.error('Bulk action failed:', error)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const exportProducts = async (format = 'csv', selectedIds = null) => {\r\n    setIsExporting(true)\r\n    try {\r\n      const exportItems = selectedIds ? \r\n        filteredProducts.filter(p => selectedIds.includes(p.id)) : \r\n        filteredProducts\r\n        \r\n      const exportData = exportItems.map(product => ({\r\n        ID: product.id,\r\n        Name: isRTL ? product.nameAr : product.name,\r\n        Category: CATEGORIES[product.category]?.[isRTL ? 'nameAr' : 'name'] || product.category,\r\n        Price: product.price,\r\n        OriginalPrice: product.originalPrice,\r\n        Stock: product.stock,\r\n        Status: product.status,\r\n        Rating: product.rating,\r\n        Reviews: product.reviews,\r\n        Featured: product.featured ? 'Yes' : 'No',\r\n        Bestseller: product.bestseller ? 'Yes' : 'No',\r\n        DateAdded: product.dateAdded,\r\n        LastModified: product.lastModified\r\n      }))\r\n\r\n      if (format === 'csv') {\r\n        const csv = convertToCSV(exportData)\r\n        downloadFile(csv, `products-${new Date().toISOString().split('T')[0]}.csv`, 'text/csv')\r\n      } else if (format === 'json') {\r\n        const json = JSON.stringify(exportData, null, 2)\r\n        downloadFile(json, `products-${new Date().toISOString().split('T')[0]}.json`, 'application/json')\r\n      }\r\n\r\n      await logAction(AUDIT_ACTIONS.EXPORT, 'products', {\r\n        format,\r\n        count: exportData.length,\r\n        selectedOnly: !!selectedIds,\r\n        filters: { \r\n          category: selectedCategory, \r\n          status: selectedStatus, \r\n          search: searchQuery \r\n        }\r\n      })\r\n    } catch (error) {\r\n      console.error('Export failed:', error)\r\n    } finally {\r\n      setIsExporting(false)\r\n    }\r\n  }\r\n\r\n  const convertToCSV = (data) => {\r\n    if (data.length === 0) return ''\r\n    const headers = Object.keys(data[0]).join(',')\r\n    const rows = data.map(row => \r\n      Object.values(row).map(value => \r\n        typeof value === 'string' && value.includes(',') \r\n          ? `\"${value.replace(/\"/g, '\"\"')}\"` \r\n          : value\r\n      ).join(',')\r\n    )\r\n    return [headers, ...rows].join('\\n')\r\n  }\r\n\r\n  const downloadFile = (content, filename, mimeType) => {\r\n    const blob = new Blob([content], { type: mimeType })\r\n    const url = window.URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = filename\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    document.body.removeChild(a)\r\n    window.URL.revokeObjectURL(url)\r\n  }\r\n\r\n  const handleDeleteProduct = async (productId) => {\r\n    if (window.confirm(t('admin.confirmDelete', 'Are you sure you want to delete this product?'))) {\r\n      setProducts(prev => prev.filter(p => p.id !== productId))\r\n      await logAction(AUDIT_ACTIONS.DELETE, `product:${productId}`, {\r\n        productName: products.find(p => p.id === productId)?.name\r\n      })\r\n    }\r\n  }\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      active: { bg: 'bg-green-100', text: 'text-green-800', label: t('admin.status.active', 'Active') },\r\n      inactive: { bg: 'bg-gray-100', text: 'text-gray-800', label: t('admin.status.inactive', 'Inactive') },\r\n      out_of_stock: { bg: 'bg-red-100', text: 'text-red-800', label: t('admin.status.outOfStock', 'Out of Stock') },\r\n      draft: { bg: 'bg-yellow-100', text: 'text-yellow-800', label: t('admin.status.draft', 'Draft') }\r\n    }\r\n    \r\n    const config = statusConfig[status] || statusConfig.draft\r\n    \r\n    return (\r\n      <span className={`px-2 py-1 rounded-full text-xs font-medium ${config.bg} ${config.text}`}>\r\n        {config.label}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  const ProductGridItem = ({ product }) => (\r\n    <motion.div\r\n      layout\r\n      initial={{ opacity: 0, scale: 0.9 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      exit={{ opacity: 0, scale: 0.9 }}\r\n      className=\"bg-surface border border-border rounded-xl p-4 hover:shadow-lg transition-all group\"\r\n    >\r\n      {/* Product Image */}\r\n      <div className=\"relative mb-4\">\r\n        <div className=\"aspect-square bg-background rounded-lg overflow-hidden\">\r\n          <img \r\n            src={product.image} \r\n            alt={isRTL ? product.nameAr : product.name}\r\n            className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\r\n          />\r\n        </div>\r\n        \r\n        {/* Quick Actions */}\r\n        <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n          <div className=\"flex gap-1\">\r\n            <button className=\"p-1.5 bg-white/90 backdrop-blur-sm rounded-lg hover:bg-white transition-colors\">\r\n              <Eye size={14} />\r\n            </button>\r\n            <button \r\n              onClick={() => setEditingProduct(product)}\r\n              className=\"p-1.5 bg-white/90 backdrop-blur-sm rounded-lg hover:bg-white transition-colors\"\r\n            >\r\n              <Edit size={14} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Badges */}\r\n        <div className=\"absolute top-2 left-2 flex flex-col gap-1\">\r\n          {product.featured && (\r\n            <span className=\"px-2 py-1 bg-primary text-white text-xs rounded-full font-medium\">\r\n              {t('admin.featured', 'Featured')}\r\n            </span>\r\n          )}\r\n          {product.bestseller && (\r\n            <span className=\"px-2 py-1 bg-accent text-white text-xs rounded-full font-medium\">\r\n              {t('admin.bestseller', 'Bestseller')}\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Selection Checkbox */}\r\n        <div className=\"absolute bottom-2 left-2\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={selectedProducts.includes(product.id)}\r\n            onChange={() => handleSelectProduct(product.id)}\r\n            className=\"w-4 h-4 text-primary bg-white border-gray-300 rounded focus:ring-primary\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Product Info */}\r\n      <div className=\"space-y-2\">\r\n        <div className=\"flex items-start justify-between gap-2\">\r\n          <h3 className=\"font-medium text-foreground line-clamp-2\">\r\n            {isRTL ? product.nameAr : product.name}\r\n          </h3>\r\n          <div className=\"flex items-center gap-1 text-xs text-foreground/60\">\r\n            <Star size={12} className=\"fill-yellow-400 text-yellow-400\" />\r\n            {product.rating}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"space-y-1\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"font-semibold text-foreground\">\r\n                {formatCurrency(product.price)}\r\n              </span>\r\n              {product.originalPrice > product.price && (\r\n                <span className=\"text-sm text-foreground/50 line-through\">\r\n                  {formatCurrency(product.originalPrice)}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div className=\"text-xs text-foreground/60\">\r\n              {t('admin.stock', 'Stock')}: {product.stock}\r\n            </div>\r\n          </div>\r\n          {getStatusBadge(product.status)}\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  )\r\n\r\n  const ProductListItem = ({ product }) => (\r\n    <motion.tr\r\n      layout\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      exit={{ opacity: 0, y: -20 }}\r\n      className=\"hover:bg-background/50 transition-colors\"\r\n    >\r\n      <td className=\"p-4\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={selectedProducts.includes(product.id)}\r\n          onChange={() => handleSelectProduct(product.id)}\r\n          className=\"w-4 h-4 text-primary bg-white border-gray-300 rounded focus:ring-primary\"\r\n        />\r\n      </td>\r\n      <td className=\"p-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <img \r\n            src={product.image} \r\n            alt={isRTL ? product.nameAr : product.name}\r\n            className=\"w-12 h-12 object-cover rounded-lg\"\r\n          />\r\n          <div>\r\n            <div className=\"font-medium text-foreground\">\r\n              {isRTL ? product.nameAr : product.name}\r\n            </div>\r\n            <div className=\"text-sm text-foreground/60\">\r\n              {CATEGORIES[product.category]?.[isRTL ? 'nameAr' : 'name']}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </td>\r\n      <td className=\"p-4\">\r\n        <div className=\"space-y-1\">\r\n          <div className=\"font-semibold text-foreground\">\r\n            {formatCurrency(product.price)}\r\n          </div>\r\n          {product.originalPrice > product.price && (\r\n            <div className=\"text-sm text-foreground/50 line-through\">\r\n              {formatCurrency(product.originalPrice)}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </td>\r\n      <td className=\"p-4 text-foreground\">{product.stock}</td>\r\n      <td className=\"p-4\">{getStatusBadge(product.status)}</td>\r\n      <td className=\"p-4\">\r\n        <div className=\"flex items-center gap-1 text-foreground/60\">\r\n          <Star size={14} className=\"fill-yellow-400 text-yellow-400\" />\r\n          {product.rating} ({product.reviews})\r\n        </div>\r\n      </td>\r\n      <td className=\"p-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <button className=\"p-2 hover:bg-background rounded-lg transition-colors\">\r\n            <Eye size={16} />\r\n          </button>\r\n          <button \r\n            onClick={() => setEditingProduct(product)}\r\n            className=\"p-2 hover:bg-background rounded-lg transition-colors\"\r\n          >\r\n            <Edit size={16} />\r\n          </button>\r\n          <button \r\n            onClick={() => handleDeleteProduct(product.id)}\r\n            className=\"p-2 hover:bg-background rounded-lg transition-colors text-red-600\"\r\n          >\r\n            <Trash2 size={16} />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </motion.tr>\r\n  )\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className={`flex items-center justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n        <div className={isRTL ? 'text-right' : 'text-left'}>\r\n          <h1 className=\"text-2xl font-bold text-foreground\">\r\n            {t('admin.productCatalog', 'Product Catalog')}\r\n          </h1>\r\n          <p className=\"text-foreground/60\">\r\n            {t('admin.catalogSubtitle', 'Manage your product inventory and catalog')}\r\n          </p>\r\n        </div>\r\n        \r\n        <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n          {/* Export Dropdown */}\r\n          <div className=\"relative\">\r\n            <motion.button\r\n              disabled={isExporting}\r\n              onClick={() => exportProducts('csv')}\r\n              className=\"flex items-center gap-2 px-4 py-2 border border-border bg-surface rounded-xl hover:bg-background transition-colors disabled:opacity-50\"\r\n              whileHover={{ scale: isExporting ? 1 : 1.02 }}\r\n              whileTap={{ scale: isExporting ? 1 : 0.98 }}\r\n            >\r\n              {isExporting ? (\r\n                <RefreshCw size={16} className=\"animate-spin\" />\r\n              ) : (\r\n                <Download size={16} />\r\n              )}\r\n              {t('admin.exportCSV', 'Export CSV')}\r\n            </motion.button>\r\n          </div>\r\n\r\n          {/* Add Product Button */}\r\n          <motion.button\r\n            onClick={() => setShowProductModal(true)}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-primary/90 transition-colors\"\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n          >\r\n            <Plus size={20} />\r\n            {t('admin.addProduct', 'Add Product')}\r\n          </motion.button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters Bar */}\r\n      <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n        <div className=\"flex items-center gap-4 flex-wrap\">\r\n          {/* Search */}\r\n          <div className=\"relative flex-1 min-w-[300px]\">\r\n            <Search className={`absolute top-1/2 transform -translate-y-1/2 text-foreground/40 ${isRTL ? 'right-3' : 'left-3'}`} size={20} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder={t('admin.searchProducts', 'Search products...')}\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className={`w-full bg-background border border-border rounded-lg text-foreground placeholder-foreground/40 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary ${\r\n                isRTL ? 'pr-10 pl-4 text-right' : 'pl-10 pr-4 text-left'\r\n              } py-2`}\r\n            />\r\n          </div>\r\n\r\n          {/* Category Filter */}\r\n          <select\r\n            value={selectedCategory}\r\n            onChange={(e) => setSelectedCategory(e.target.value)}\r\n            className=\"px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\r\n          >\r\n            <option value=\"all\">{t('admin.allCategories', 'All Categories')}</option>\r\n            {Object.entries(CATEGORIES).map(([key, category]) => (\r\n              <option key={key} value={key}>\r\n                {isRTL ? category.nameAr : category.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          {/* Status Filter */}\r\n          <select\r\n            value={selectedStatus}\r\n            onChange={(e) => setSelectedStatus(e.target.value)}\r\n            className=\"px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\r\n          >\r\n            {STATUS_OPTIONS.map(option => (\r\n              <option key={option.value} value={option.value}>\r\n                {isRTL ? option.labelAr : option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          {/* View Mode Toggle */}\r\n          <div className=\"flex bg-background border border-border rounded-lg overflow-hidden\">\r\n            <button\r\n              onClick={() => setViewMode('grid')}\r\n              className={`p-2 transition-colors ${\r\n                viewMode === 'grid' ? 'bg-primary text-white' : 'text-foreground/60 hover:text-foreground'\r\n              }`}\r\n            >\r\n              <Grid3X3 size={20} />\r\n            </button>\r\n            <button\r\n              onClick={() => setViewMode('list')}\r\n              className={`p-2 transition-colors ${\r\n                viewMode === 'list' ? 'bg-primary text-white' : 'text-foreground/60 hover:text-foreground'\r\n              }`}\r\n            >\r\n              <List size={20} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Advanced Bulk Operations Manager */}\r\n      <BulkOperationsManager\r\n        items={filteredProducts}\r\n        selectedItems={selectedProducts}\r\n        onSelectionChange={setSelectedProducts}\r\n        onBulkAction={handleBulkAction}\r\n        itemType=\"products\"\r\n        columns={[\r\n          {\r\n            key: 'category',\r\n            label: 'Category',\r\n            filterable: true,\r\n            filterOptions: Object.entries(CATEGORIES).map(([key, cat]) => ({\r\n              value: key,\r\n              label: isRTL ? cat.nameAr : cat.name\r\n            }))\r\n          },\r\n          {\r\n            key: 'status',\r\n            label: 'Status',\r\n            filterable: true,\r\n            filterOptions: STATUS_OPTIONS.filter(opt => opt.value !== 'all').map(opt => ({\r\n              value: opt.value,\r\n              label: isRTL ? opt.labelAr : opt.label\r\n            }))\r\n          }\r\n        ]}\r\n      />\r\n\r\n      {/* Products Grid/List */}\r\n      <div className=\"bg-surface border border-border rounded-xl overflow-hidden\">\r\n        {viewMode === 'grid' ? (\r\n          <div className=\"p-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n              <AnimatePresence>\r\n                {filteredProducts.map(product => (\r\n                  <ProductGridItem key={product.id} product={product} />\r\n                ))}\r\n              </AnimatePresence>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-background border-b border-border\">\r\n                <tr>\r\n                  <th className=\"p-4 text-left\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedProducts.length === filteredProducts.length}\r\n                      onChange={handleSelectAll}\r\n                      className=\"w-4 h-4 text-primary bg-white border-gray-300 rounded focus:ring-primary\"\r\n                    />\r\n                  </th>\r\n                  <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                    {t('admin.product', 'Product')}\r\n                  </th>\r\n                  <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                    {t('common.price', 'Price')}\r\n                  </th>\r\n                  <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                    {t('admin.stock', 'Stock')}\r\n                  </th>\r\n                  <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                    {t('admin.status', 'Status')}\r\n                  </th>\r\n                  <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                    {t('admin.rating', 'Rating')}\r\n                  </th>\r\n                  <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                    {t('admin.actions', 'Actions')}\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <AnimatePresence>\r\n                  {filteredProducts.map(product => (\r\n                    <ProductListItem key={product.id} product={product} />\r\n                  ))}\r\n                </AnimatePresence>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n\r\n        {/* Empty State */}\r\n        {filteredProducts.length === 0 && (\r\n          <div className=\"py-12 text-center\">\r\n            <Package size={48} className=\"mx-auto text-foreground/30 mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-foreground mb-2\">\r\n              {t('admin.noProducts', 'No products found')}\r\n            </h3>\r\n            <p className=\"text-foreground/60\">\r\n              {t('admin.noProductsSubtitle', 'Try adjusting your search or filter criteria')}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Stats Summary */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n              <Package className=\"text-blue-600\" size={20} />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-sm text-foreground/60\">{t('admin.totalProducts', 'Total Products')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">{products.length}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-green-100 rounded-lg\">\r\n              <Check className=\"text-green-600\" size={20} />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-sm text-foreground/60\">{t('admin.activeProducts', 'Active')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">\r\n                {products.filter(p => p.status === 'active').length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-red-100 rounded-lg\">\r\n              <AlertCircle className=\"text-red-600\" size={20} />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-sm text-foreground/60\">{t('admin.outOfStock', 'Out of Stock')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">\r\n                {products.filter(p => p.status === 'out_of_stock').length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n              <Star className=\"text-yellow-600\" size={20} />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-sm text-foreground/60\">{t('admin.avgRating', 'Avg. Rating')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">\r\n                {(products.reduce((sum, p) => sum + p.rating, 0) / products.length).toFixed(1)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { \r\n  Palette, \r\n  Save, \r\n  RotateCcw, \r\n  Eye, \r\n  Copy, \r\n  Download,\r\n  Upload,\r\n  Brush,\r\n  Type,\r\n  Layout,\r\n  Zap,\r\n  Monitor,\r\n  Smartphone,\r\n  Tablet,\r\n  Sun,\r\n  Moon,\r\n  Shuffle,\r\n  Check,\r\n  X\r\n} from 'lucide-react'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext.jsx'\r\nimport { useSegment } from '../../../ui/contexts/SegmentContext.jsx'\r\n\r\n// Color palette presets\r\nconst COLOR_PRESETS = {\r\n  leather: {\r\n    name: 'Leather Premium',\r\n    primary: '#8B4513',\r\n    secondary: '#D2691E',\r\n    accent: '#CD853F',\r\n    background: '#FDF5E6',\r\n    surface: '#FFFFFF',\r\n    foreground: '#2C1810'\r\n  },\r\n  electronics: {\r\n    name: 'Tech Blue',\r\n    primary: '#1E40AF',\r\n    secondary: '#3B82F6',\r\n    accent: '#06B6D4',\r\n    background: '#F8FAFC',\r\n    surface: '#FFFFFF',\r\n    foreground: '#0F172A'\r\n  },\r\n  furniture: {\r\n    name: 'Natural Wood',\r\n    primary: '#92400E',\r\n    secondary: '#D97706',\r\n    accent: '#F59E0B',\r\n    background: '#FFFBEB',\r\n    surface: '#FFFFFF',\r\n    foreground: '#1C1917'\r\n  },\r\n  modern: {\r\n    name: 'Modern Dark',\r\n    primary: '#6366F1',\r\n    secondary: '#8B5CF6',\r\n    accent: '#EC4899',\r\n    background: '#0F172A',\r\n    surface: '#1E293B',\r\n    foreground: '#F1F5F9'\r\n  },\r\n  nature: {\r\n    name: 'Nature Green',\r\n    primary: '#059669',\r\n    secondary: '#10B981',\r\n    accent: '#34D399',\r\n    background: '#F0FDF4',\r\n    surface: '#FFFFFF',\r\n    foreground: '#064E3B'\r\n  }\r\n}\r\n\r\n// Typography presets\r\nconst TYPOGRAPHY_PRESETS = {\r\n  modern: {\r\n    name: 'Modern Sans',\r\n    headings: 'Inter',\r\n    body: 'Inter',\r\n    accent: 'Poppins'\r\n  },\r\n  classic: {\r\n    name: 'Classic Serif',\r\n    headings: 'Playfair Display',\r\n    body: 'Source Sans Pro',\r\n    accent: 'Playfair Display'\r\n  },\r\n  minimal: {\r\n    name: 'Minimal',\r\n    headings: 'Roboto',\r\n    body: 'Roboto',\r\n    accent: 'Roboto Mono'\r\n  },\r\n  elegant: {\r\n    name: 'Elegant',\r\n    headings: 'Merriweather',\r\n    body: 'Open Sans',\r\n    accent: 'Dancing Script'\r\n  }\r\n}\r\n\r\n// Spacing and layout presets\r\nconst LAYOUT_PRESETS = {\r\n  compact: {\r\n    name: 'Compact',\r\n    containerPadding: '1rem',\r\n    sectionSpacing: '2rem',\r\n    cardPadding: '1rem',\r\n    borderRadius: '0.5rem'\r\n  },\r\n  comfortable: {\r\n    name: 'Comfortable',\r\n    containerPadding: '1.5rem',\r\n    sectionSpacing: '3rem',\r\n    cardPadding: '1.5rem',\r\n    borderRadius: '0.75rem'\r\n  },\r\n  spacious: {\r\n    name: 'Spacious',\r\n    containerPadding: '2rem',\r\n    sectionSpacing: '4rem',\r\n    cardPadding: '2rem',\r\n    borderRadius: '1rem'\r\n  }\r\n}\r\n\r\nexport default function ThemeEditor() {\r\n  const [selectedPreset, setSelectedPreset] = useState('leather')\r\n  const [customColors, setCustomColors] = useState(COLOR_PRESETS.leather)\r\n  const [selectedTypography, setSelectedTypography] = useState('modern')\r\n  const [selectedLayout, setSelectedLayout] = useState('comfortable')\r\n  const [previewMode, setPreviewMode] = useState('desktop') // desktop, tablet, mobile\r\n  const [isDarkMode, setIsDarkMode] = useState(false)\r\n  const [showPreview, setShowPreview] = useState(false)\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false)\r\n  const [isGenerating, setIsGenerating] = useState(false)\r\n  const [showColorPicker, setShowColorPicker] = useState(null)\r\n\r\n  const { t, isRTL } = useI18n()\r\n  const { theme, currentSegment } = useSegment()\r\n\r\n  useEffect(() => {\r\n    setHasUnsavedChanges(true)\r\n  }, [customColors, selectedTypography, selectedLayout, isDarkMode])\r\n\r\n  const handleColorChange = (colorKey, value) => {\r\n    setCustomColors(prev => ({\r\n      ...prev,\r\n      [colorKey]: value\r\n    }))\r\n  }\r\n\r\n  const handlePresetSelect = (presetKey) => {\r\n    setSelectedPreset(presetKey)\r\n    setCustomColors(COLOR_PRESETS[presetKey])\r\n  }\r\n\r\n  const handleSaveTheme = () => {\r\n    // Save theme configuration\r\n    const themeConfig = {\r\n      colors: customColors,\r\n      typography: TYPOGRAPHY_PRESETS[selectedTypography],\r\n      layout: LAYOUT_PRESETS[selectedLayout],\r\n      darkMode: isDarkMode,\r\n      segment: currentSegment\r\n    }\r\n    \r\n    console.log('Saving theme configuration:', themeConfig)\r\n    setHasUnsavedChanges(false)\r\n    // Here you would typically save to backend/localStorage\r\n  }\r\n\r\n  const handleResetTheme = () => {\r\n    setCustomColors(COLOR_PRESETS[selectedPreset])\r\n    setSelectedTypography('modern')\r\n    setSelectedLayout('comfortable')\r\n    setIsDarkMode(false)\r\n    setHasUnsavedChanges(false)\r\n  }\r\n\r\n  const handleGenerateTheme = async () => {\r\n    setIsGenerating(true)\r\n    \r\n    // Simulate AI theme generation\r\n    await new Promise(resolve => setTimeout(resolve, 2000))\r\n    \r\n    const randomPreset = Object.keys(COLOR_PRESETS)[Math.floor(Math.random() * Object.keys(COLOR_PRESETS).length)]\r\n    setCustomColors(COLOR_PRESETS[randomPreset])\r\n    setSelectedPreset(randomPreset)\r\n    \r\n    setIsGenerating(false)\r\n  }\r\n\r\n  const ColorPicker = ({ label, colorKey, value }) => (\r\n    <div className=\"space-y-2\">\r\n      <label className=\"text-sm font-medium text-foreground\">{label}</label>\r\n      <div className=\"relative\">\r\n        <button\r\n          onClick={() => setShowColorPicker(showColorPicker === colorKey ? null : colorKey)}\r\n          className=\"w-full h-10 rounded-lg border border-border flex items-center gap-3 px-3 hover:border-primary transition-colors\"\r\n        >\r\n          <div \r\n            className=\"w-6 h-6 rounded border border-border\"\r\n            style={{ backgroundColor: value }}\r\n          />\r\n          <span className=\"font-mono text-sm text-foreground\">{value}</span>\r\n        </button>\r\n        \r\n        {showColorPicker === colorKey && (\r\n          <div className=\"absolute top-full mt-2 z-50 bg-surface border border-border rounded-lg p-4 shadow-lg\">\r\n            <input\r\n              type=\"color\"\r\n              value={value}\r\n              onChange={(e) => handleColorChange(colorKey, e.target.value)}\r\n              className=\"w-full h-32 border border-border rounded cursor-pointer\"\r\n            />\r\n            <div className=\"mt-3 space-y-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={value}\r\n                onChange={(e) => handleColorChange(colorKey, e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-border rounded text-sm font-mono\"\r\n                placeholder=\"#000000\"\r\n              />\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={() => setShowColorPicker(null)}\r\n                  className=\"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary/90 transition-colors\"\r\n                >\r\n                  <Check size={14} className=\"inline mr-1\" />\r\n                  Done\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowColorPicker(null)}\r\n                  className=\"px-3 py-1.5 border border-border rounded text-sm hover:bg-background transition-colors\"\r\n                >\r\n                  <X size={14} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const PreviewComponent = () => (\r\n    <div className=\"space-y-4 p-6\" style={{ backgroundColor: customColors.background, color: customColors.foreground }}>\r\n      {/* Header Preview */}\r\n      <div className=\"flex items-center justify-between p-4 rounded-lg\" style={{ backgroundColor: customColors.surface }}>\r\n        <h1 className=\"text-xl font-bold\" style={{ color: customColors.primary }}>IVOLEX</h1>\r\n        <div className=\"flex gap-2\">\r\n          <button className=\"px-4 py-2 rounded text-sm\" style={{ backgroundColor: customColors.primary, color: customColors.background }}>\r\n            Primary\r\n          </button>\r\n          <button className=\"px-4 py-2 rounded text-sm border\" style={{ borderColor: customColors.secondary, color: customColors.secondary }}>\r\n            Secondary\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Content Preview */}\r\n      <div className=\"p-4 rounded-lg\" style={{ backgroundColor: customColors.surface }}>\r\n        <h2 className=\"text-lg font-semibold mb-2\" style={{ color: customColors.foreground }}>Sample Content</h2>\r\n        <p className=\"text-sm mb-4\" style={{ color: customColors.foreground + '99' }}>\r\n          This is how your content will look with the selected theme colors and typography.\r\n        </p>\r\n        <div className=\"inline-block px-3 py-1 rounded-full text-xs font-medium\" style={{ backgroundColor: customColors.accent + '20', color: customColors.accent }}>\r\n          Accent Badge\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Cards Preview */}\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"p-4 rounded-lg border\" style={{ backgroundColor: customColors.surface, borderColor: customColors.primary + '20' }}>\r\n          <div className=\"w-full h-20 rounded mb-3\" style={{ backgroundColor: customColors.primary + '10' }}></div>\r\n          <h3 className=\"font-medium\" style={{ color: customColors.foreground }}>Product Card</h3>\r\n          <p className=\"text-sm mt-1\" style={{ color: customColors.accent }}>$99.99</p>\r\n        </div>\r\n        <div className=\"p-4 rounded-lg border\" style={{ backgroundColor: customColors.surface, borderColor: customColors.secondary + '20' }}>\r\n          <div className=\"w-full h-20 rounded mb-3\" style={{ backgroundColor: customColors.secondary + '10' }}></div>\r\n          <h3 className=\"font-medium\" style={{ color: customColors.foreground }}>Another Card</h3>\r\n          <p className=\"text-sm mt-1\" style={{ color: customColors.accent }}>$149.99</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-foreground\">\r\n            {t('admin.themeEditor', 'Theme Editor')}\r\n          </h1>\r\n          <p className=\"text-foreground/60\">\r\n            {t('admin.themeEditorSubtitle', 'Customize the visual appearance of your store')}\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-3\">\r\n          {hasUnsavedChanges && (\r\n            <span className=\"text-xs text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full\">\r\n              {t('admin.unsavedChanges', 'Unsaved changes')}\r\n            </span>\r\n          )}\r\n          \r\n          <motion.button\r\n            onClick={() => setShowPreview(!showPreview)}\r\n            className=\"flex items-center gap-2 px-4 py-2 border border-border rounded-xl hover:bg-background transition-colors\"\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n          >\r\n            <Eye size={16} />\r\n            {t('admin.preview', 'Preview')}\r\n          </motion.button>\r\n          \r\n          <motion.button\r\n            onClick={handleSaveTheme}\r\n            disabled={!hasUnsavedChanges}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-primary/90 transition-colors disabled:opacity-50\"\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n          >\r\n            <Save size={16} />\r\n            {t('common.save', 'Save')}\r\n          </motion.button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Theme Controls */}\r\n        <div className=\"lg:col-span-1 space-y-6\">\r\n          {/* Color Presets */}\r\n          <div className=\"bg-surface border border-border rounded-xl p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"font-semibold text-foreground flex items-center gap-2\">\r\n                <Palette size={20} />\r\n                {t('admin.colorPresets', 'Color Presets')}\r\n              </h3>\r\n              <button\r\n                onClick={handleGenerateTheme}\r\n                disabled={isGenerating}\r\n                className=\"p-2 hover:bg-background rounded-lg transition-colors disabled:opacity-50\"\r\n                title={t('admin.generateTheme', 'Generate AI Theme')}\r\n              >\r\n                {isGenerating ? (\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary\"></div>\r\n                ) : (\r\n                  <Shuffle size={16} />\r\n                )}\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-2 gap-3 mb-4\">\r\n              {Object.entries(COLOR_PRESETS).map(([key, preset]) => (\r\n                <button\r\n                  key={key}\r\n                  onClick={() => handlePresetSelect(key)}\r\n                  className={`p-3 rounded-lg border-2 transition-all ${\r\n                    selectedPreset === key \r\n                      ? 'border-primary bg-primary/5' \r\n                      : 'border-border hover:border-primary/50'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex gap-1 mb-2\">\r\n                    <div className=\"w-4 h-4 rounded\" style={{ backgroundColor: preset.primary }}></div>\r\n                    <div className=\"w-4 h-4 rounded\" style={{ backgroundColor: preset.secondary }}></div>\r\n                    <div className=\"w-4 h-4 rounded\" style={{ backgroundColor: preset.accent }}></div>\r\n                  </div>\r\n                  <div className=\"text-xs font-medium text-foreground\">{preset.name}</div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Custom Colors */}\r\n            <div className=\"space-y-4\">\r\n              <h4 className=\"font-medium text-foreground\">{t('admin.customColors', 'Custom Colors')}</h4>\r\n              <ColorPicker \r\n                label={t('admin.primaryColor', 'Primary')} \r\n                colorKey=\"primary\" \r\n                value={customColors.primary} \r\n              />\r\n              <ColorPicker \r\n                label={t('admin.secondaryColor', 'Secondary')} \r\n                colorKey=\"secondary\" \r\n                value={customColors.secondary} \r\n              />\r\n              <ColorPicker \r\n                label={t('admin.accentColor', 'Accent')} \r\n                colorKey=\"accent\" \r\n                value={customColors.accent} \r\n              />\r\n              <ColorPicker \r\n                label={t('admin.backgroundColor', 'Background')} \r\n                colorKey=\"background\" \r\n                value={customColors.background} \r\n              />\r\n              <ColorPicker \r\n                label={t('admin.surfaceColor', 'Surface')} \r\n                colorKey=\"surface\" \r\n                value={customColors.surface} \r\n              />\r\n              <ColorPicker \r\n                label={t('admin.textColor', 'Text')} \r\n                colorKey=\"foreground\" \r\n                value={customColors.foreground} \r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Typography */}\r\n          <div className=\"bg-surface border border-border rounded-xl p-6\">\r\n            <h3 className=\"font-semibold text-foreground flex items-center gap-2 mb-4\">\r\n              <Type size={20} />\r\n              {t('admin.typography', 'Typography')}\r\n            </h3>\r\n            \r\n            <div className=\"space-y-3\">\r\n              {Object.entries(TYPOGRAPHY_PRESETS).map(([key, preset]) => (\r\n                <button\r\n                  key={key}\r\n                  onClick={() => setSelectedTypography(key)}\r\n                  className={`w-full p-3 rounded-lg border text-left transition-all ${\r\n                    selectedTypography === key \r\n                      ? 'border-primary bg-primary/5' \r\n                      : 'border-border hover:border-primary/50'\r\n                  }`}\r\n                >\r\n                  <div className=\"font-medium text-foreground\">{preset.name}</div>\r\n                  <div className=\"text-xs text-foreground/60 mt-1\">\r\n                    {preset.headings} / {preset.body}\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Layout */}\r\n          <div className=\"bg-surface border border-border rounded-xl p-6\">\r\n            <h3 className=\"font-semibold text-foreground flex items-center gap-2 mb-4\">\r\n              <Layout size={20} />\r\n              {t('admin.layout', 'Layout')}\r\n            </h3>\r\n            \r\n            <div className=\"space-y-3\">\r\n              {Object.entries(LAYOUT_PRESETS).map(([key, preset]) => (\r\n                <button\r\n                  key={key}\r\n                  onClick={() => setSelectedLayout(key)}\r\n                  className={`w-full p-3 rounded-lg border text-left transition-all ${\r\n                    selectedLayout === key \r\n                      ? 'border-primary bg-primary/5' \r\n                      : 'border-border hover:border-primary/50'\r\n                  }`}\r\n                >\r\n                  <div className=\"font-medium text-foreground\">{preset.name}</div>\r\n                  <div className=\"text-xs text-foreground/60 mt-1\">\r\n                    Spacing: {preset.sectionSpacing} | Radius: {preset.borderRadius}\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"bg-surface border border-border rounded-xl p-6\">\r\n            <h3 className=\"font-semibold text-foreground flex items-center gap-2 mb-4\">\r\n              <Zap size={20} />\r\n              {t('admin.actions', 'Actions')}\r\n            </h3>\r\n            \r\n            <div className=\"space-y-3\">\r\n              <button\r\n                onClick={handleResetTheme}\r\n                className=\"w-full flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-background transition-colors\"\r\n              >\r\n                <RotateCcw size={16} />\r\n                {t('admin.resetTheme', 'Reset to Default')}\r\n              </button>\r\n              \r\n              <button className=\"w-full flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-background transition-colors\">\r\n                <Download size={16} />\r\n                {t('admin.exportTheme', 'Export Theme')}\r\n              </button>\r\n              \r\n              <button className=\"w-full flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-background transition-colors\">\r\n                <Upload size={16} />\r\n                {t('admin.importTheme', 'Import Theme')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Preview Panel */}\r\n        <div className=\"lg:col-span-2\">\r\n          <div className=\"bg-surface border border-border rounded-xl overflow-hidden\">\r\n            {/* Preview Controls */}\r\n            <div className=\"border-b border-border p-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"font-semibold text-foreground\">\r\n                  {t('admin.livePreview', 'Live Preview')}\r\n                </h3>\r\n                \r\n                <div className=\"flex items-center gap-2\">\r\n                  {/* Device Preview Toggle */}\r\n                  <div className=\"flex bg-background border border-border rounded-lg overflow-hidden\">\r\n                    <button\r\n                      onClick={() => setPreviewMode('desktop')}\r\n                      className={`p-2 transition-colors ${\r\n                        previewMode === 'desktop' ? 'bg-primary text-white' : 'text-foreground/60 hover:text-foreground'\r\n                      }`}\r\n                    >\r\n                      <Monitor size={16} />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setPreviewMode('tablet')}\r\n                      className={`p-2 transition-colors ${\r\n                        previewMode === 'tablet' ? 'bg-primary text-white' : 'text-foreground/60 hover:text-foreground'\r\n                      }`}\r\n                    >\r\n                      <Tablet size={16} />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setPreviewMode('mobile')}\r\n                      className={`p-2 transition-colors ${\r\n                        previewMode === 'mobile' ? 'bg-primary text-white' : 'text-foreground/60 hover:text-foreground'\r\n                      }`}\r\n                    >\r\n                      <Smartphone size={16} />\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  {/* Dark Mode Toggle */}\r\n                  <button\r\n                    onClick={() => setIsDarkMode(!isDarkMode)}\r\n                    className=\"p-2 border border-border rounded-lg hover:bg-background transition-colors\"\r\n                  >\r\n                    {isDarkMode ? <Sun size={16} /> : <Moon size={16} />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Preview Content */}\r\n            <div className={`${\r\n              previewMode === 'desktop' ? 'w-full' : \r\n              previewMode === 'tablet' ? 'w-[768px] mx-auto' : \r\n              'w-[375px] mx-auto'\r\n            } transition-all duration-300`}>\r\n              <PreviewComponent />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { \r\n  Clock, \r\n  CheckCircle, \r\n  XCircle, \r\n  AlertCircle,\r\n  Search,\r\n  User,\r\n  DollarSign,\r\n  Package,\r\n  Mail,\r\n  Phone\r\n} from 'lucide-react'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext.jsx'\r\n\r\n// Mock data - simplified\r\nconst MOCK_REQUESTS = [\r\n  {\r\n    id: 'CR-001',\r\n    customerName: 'Ahmed Al-Rashid',\r\n    customerNameAr: 'أحمد الراشد',\r\n    email: 'ahmed@example.com',\r\n    phone: '+966501234567',\r\n    status: 'pending',\r\n    priority: 'high',\r\n    segment: 'leather',\r\n    projectTitle: 'Custom Leather Briefcase',\r\n    projectTitleAr: 'حقيبة جلدية مخصصة',\r\n    description: 'Premium leather briefcase with custom embossing.',\r\n    budget: 1500,\r\n    timeline: '2 weeks',\r\n    dateSubmitted: '2024-01-15T10:30:00Z',\r\n    files: 2\r\n  },\r\n  {\r\n    id: 'CR-002',\r\n    customerName: 'Sarah Johnson',\r\n    customerNameAr: 'سارة جونسون',\r\n    email: 'sarah@example.com',\r\n    phone: '+1234567890',\r\n    status: 'in_progress',\r\n    priority: 'medium',\r\n    segment: 'electronics',\r\n    projectTitle: 'Custom Smart Watch Interface',\r\n    projectTitleAr: 'واجهة ساعة ذكية مخصصة',\r\n    description: 'Smart watch interface with health monitoring.',\r\n    budget: 800,\r\n    timeline: '3 weeks',\r\n    dateSubmitted: '2024-01-12T09:15:00Z',\r\n    files: 1\r\n  },\r\n  {\r\n    id: 'CR-003',\r\n    customerName: 'Mohammed Hassan',\r\n    customerNameAr: 'محمد حسن',\r\n    email: 'mohammed@example.com',\r\n    phone: '+966509876543',\r\n    status: 'completed',\r\n    priority: 'low',\r\n    segment: 'furniture',\r\n    projectTitle: 'Executive Office Desk',\r\n    projectTitleAr: 'مكتب تنفيذي مخصص',\r\n    description: 'Complete office setup with custom wood finish.',\r\n    budget: 2500,\r\n    timeline: '4 weeks',\r\n    dateSubmitted: '2024-01-05T11:20:00Z',\r\n    files: 3\r\n  }\r\n]\r\n\r\nconst STATUS_CONFIG = {\r\n  pending: { label: 'Pending', labelAr: 'قيد الانتظار', color: 'bg-yellow-100 text-yellow-800', icon: Clock },\r\n  in_progress: { label: 'In Progress', labelAr: 'قيد التنفيذ', color: 'bg-blue-100 text-blue-800', icon: AlertCircle },\r\n  completed: { label: 'Completed', labelAr: 'مكتمل', color: 'bg-green-100 text-green-800', icon: CheckCircle },\r\n  rejected: { label: 'Rejected', labelAr: 'مرفوض', color: 'bg-red-100 text-red-800', icon: XCircle }\r\n}\r\n\r\nexport default function CustomizationRequests() {\r\n  const [requests, setRequests] = useState(MOCK_REQUESTS)\r\n  const [filteredRequests, setFilteredRequests] = useState(MOCK_REQUESTS)\r\n  const [selectedRequest, setSelectedRequest] = useState(null)\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState('all')\r\n\r\n  const { t, isRTL, formatCurrency, formatDate } = useI18n()\r\n\r\n  useEffect(() => {\r\n    let filtered = requests\r\n\r\n    if (searchQuery) {\r\n      filtered = filtered.filter(request => \r\n        request.customerName.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        request.projectTitle.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        request.id.toLowerCase().includes(searchQuery.toLowerCase())\r\n      )\r\n    }\r\n\r\n    if (statusFilter !== 'all') {\r\n      filtered = filtered.filter(request => request.status === statusFilter)\r\n    }\r\n\r\n    setFilteredRequests(filtered)\r\n  }, [requests, searchQuery, statusFilter])\r\n\r\n  const getStatusBadge = (status) => {\r\n    const config = STATUS_CONFIG[status]\r\n    const StatusIcon = config.icon\r\n    \r\n    return (\r\n      <span className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${config.color}`}>\r\n        <StatusIcon size={12} />\r\n        {isRTL ? config.labelAr : config.label}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  const handleStatusChange = (requestId, newStatus) => {\r\n    setRequests(prev => prev.map(req => \r\n      req.id === requestId ? { ...req, status: newStatus } : req\r\n    ))\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div>\r\n        <h1 className=\"text-2xl font-bold text-foreground\">\r\n          {t('admin.customizationRequests', 'Customization Requests')}\r\n        </h1>\r\n        <p className=\"text-foreground/60\">\r\n          {t('admin.requestsSubtitle', 'Manage customer customization requests')}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n        <div className={`flex items-center gap-4 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n          <div className=\"relative flex-1\">\r\n            <Search className={`absolute top-1/2 transform -translate-y-1/2 text-foreground/40 ${isRTL ? 'right-3' : 'left-3'}`} size={20} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder={t('admin.searchRequests', 'Search requests...')}\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className={`w-full bg-background border border-border rounded-lg text-foreground py-2 ${\r\n                isRTL ? 'pr-10 pl-4 text-right' : 'pl-10 pr-4 text-left'\r\n              }`}\r\n            />\r\n          </div>\r\n          <select\r\n            value={statusFilter}\r\n            onChange={(e) => setStatusFilter(e.target.value)}\r\n            className=\"px-3 py-2 bg-background border border-border rounded-lg text-foreground\"\r\n          >\r\n            <option value=\"all\">{t('admin.allStatuses', 'All Statuses')}</option>\r\n            {Object.entries(STATUS_CONFIG).map(([key, config]) => (\r\n              <option key={key} value={key}>{isRTL ? config.labelAr : config.label}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Requests Grid */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n        <AnimatePresence>\r\n          {filteredRequests.map(request => (\r\n            <motion.div\r\n              key={request.id}\r\n              layout\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -20 }}\r\n              className=\"bg-surface border border-border rounded-xl p-6 hover:shadow-lg transition-all cursor-pointer\"\r\n              onClick={() => setSelectedRequest(request)}\r\n            >\r\n              {/* Header */}\r\n              <div className={`flex items-start justify-between mb-4 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <div className={isRTL ? 'text-right' : 'text-left'}>\r\n                  <h3 className=\"font-semibold text-foreground line-clamp-1\">\r\n                    {isRTL ? request.projectTitleAr : request.projectTitle}\r\n                  </h3>\r\n                  <p className=\"text-sm text-foreground/60\">{request.id}</p>\r\n                </div>\r\n                {getStatusBadge(request.status)}\r\n              </div>\r\n\r\n              {/* Customer */}\r\n              <div className={`flex items-center gap-2 mb-3 text-sm ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <User size={14} className=\"text-foreground/60\" />\r\n                <span className=\"text-foreground\">{isRTL ? request.customerNameAr : request.customerName}</span>\r\n              </div>\r\n\r\n              {/* Details Grid */}\r\n              <div className=\"grid grid-cols-2 gap-2 text-xs\">\r\n                <div className={`flex items-center gap-1 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                  <DollarSign size={12} className=\"text-foreground/60\" />\r\n                  <span className=\"text-foreground/60\">{formatCurrency(request.budget)}</span>\r\n                </div>\r\n                <div className={`flex items-center gap-1 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                  <Package size={12} className=\"text-foreground/60\" />\r\n                  <span className=\"text-foreground/60\">{request.files} {t('admin.files', 'files')}</span>\r\n                </div>\r\n                <div className={`flex items-center gap-1 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                  <Clock size={12} className=\"text-foreground/60\" />\r\n                  <span className=\"text-foreground/60\">{request.timeline}</span>\r\n                </div>\r\n                <div className={`flex items-center gap-1 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                  <div className=\"w-2 h-2 rounded-full bg-green-500\"></div>\r\n                  <span className=\"text-foreground/60\">{formatDate(request.dateSubmitted)}</span>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </AnimatePresence>\r\n      </div>\r\n\r\n      {/* Request Detail Modal */}\r\n      <AnimatePresence>\r\n        {selectedRequest && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => setSelectedRequest(null)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              className=\"bg-surface border border-border rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <div className={`flex items-center justify-between mb-6 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <h3 className=\"text-lg font-semibold text-foreground\">\r\n                  {t('admin.requestDetails', 'Request Details')}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setSelectedRequest(null)}\r\n                  className=\"p-2 text-foreground/40 hover:text-foreground transition-colors\"\r\n                >\r\n                  <XCircle size={20} />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <h4 className=\"font-semibold text-foreground mb-2\">\r\n                    {isRTL ? selectedRequest.projectTitleAr : selectedRequest.projectTitle}\r\n                  </h4>\r\n                  <p className=\"text-foreground/60 text-sm\">\r\n                    {isRTL ? selectedRequest.descriptionAr : selectedRequest.description}\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"text-xs text-foreground/60 uppercase\">\r\n                      {t('admin.customer', 'Customer')}\r\n                    </label>\r\n                    <p className=\"text-foreground\">{isRTL ? selectedRequest.customerNameAr : selectedRequest.customerName}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-xs text-foreground/60 uppercase\">\r\n                      {t('admin.status', 'Status')}\r\n                    </label>\r\n                    <div>{getStatusBadge(selectedRequest.status)}</div>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-xs text-foreground/60 uppercase\">\r\n                      {t('admin.budget', 'Budget')}\r\n                    </label>\r\n                    <p className=\"text-foreground\">{formatCurrency(selectedRequest.budget)}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-xs text-foreground/60 uppercase\">\r\n                      {t('admin.timeline', 'Timeline')}\r\n                    </label>\r\n                    <p className=\"text-foreground\">{selectedRequest.timeline}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"text-xs text-foreground/60 uppercase\">\r\n                    {t('admin.contact', 'Contact')}\r\n                  </label>\r\n                  <div className=\"space-y-2 mt-1\">\r\n                    <div className={`flex items-center gap-2 text-sm ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                      <Mail size={14} className=\"text-foreground/60\" />\r\n                      <span className=\"text-foreground\">{selectedRequest.email}</span>\r\n                    </div>\r\n                    <div className={`flex items-center gap-2 text-sm ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                      <Phone size={14} className=\"text-foreground/60\" />\r\n                      <span className=\"text-foreground\">{selectedRequest.phone}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => handleStatusChange(selectedRequest.id, 'in_progress')}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\"\r\n                  >\r\n                    {t('admin.startProcessing', 'Start Processing')}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleStatusChange(selectedRequest.id, 'completed')}\r\n                    className=\"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors\"\r\n                  >\r\n                    {t('admin.markComplete', 'Mark Complete')}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleStatusChange(selectedRequest.id, 'rejected')}\r\n                    className=\"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors\"\r\n                  >\r\n                    {t('admin.reject', 'Reject')}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}","import { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { \r\n  Users, \r\n  Search, \r\n  Edit, \r\n  Shield, \r\n  ShieldCheck,\r\n  Eye,\r\n  CheckCircle\r\n} from 'lucide-react'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext.jsx'\r\n\r\nconst MOCK_USERS = [\r\n  {\r\n    id: 1,\r\n    name: 'Faisal Khan',\r\n    nameAr: 'فيصل خان',\r\n    email: 'faisal@limitlessinfotech.com',\r\n    phone: '+966501234567',\r\n    role: 'super_admin',\r\n    status: 'active',\r\n    joinDate: '2023-01-01T00:00:00Z',\r\n    lastLogin: new Date().toISOString(),\r\n    orders: 0,\r\n    totalSpent: 0,\r\n    avatar: '/api/placeholder/40/40'\r\n  }\r\n]\r\n\r\nconst ROLE_CONFIG = {\r\n  super_admin: {\r\n    label: 'Super Admin',\r\n    labelAr: 'مدير عام',\r\n    color: 'bg-purple-100 text-purple-800',\r\n    icon: ShieldCheck\r\n  },\r\n  admin: { \r\n    label: 'Admin', \r\n    labelAr: 'مدير',\r\n    color: 'bg-red-100 text-red-800',\r\n    icon: ShieldCheck \r\n  },\r\n  moderator: { \r\n    label: 'Moderator', \r\n    labelAr: 'مشرف',\r\n    color: 'bg-blue-100 text-blue-800',\r\n    icon: Shield \r\n  },\r\n  customer: { \r\n    label: 'Customer', \r\n    labelAr: 'عميل',\r\n    color: 'bg-green-100 text-green-800',\r\n    icon: Users \r\n  }\r\n}\r\n\r\nconst STATUS_CONFIG = {\r\n  active: { \r\n    label: 'Active', \r\n    labelAr: 'نشط',\r\n    color: 'bg-green-100 text-green-800' \r\n  },\r\n  inactive: { \r\n    label: 'Inactive', \r\n    labelAr: 'غير نشط',\r\n    color: 'bg-gray-100 text-gray-800' \r\n  },\r\n  suspended: { \r\n    label: 'Suspended', \r\n    labelAr: 'معلق',\r\n    color: 'bg-red-100 text-red-800' \r\n  }\r\n}\r\n\r\nexport default function UserManagement() {\r\n  const [users, setUsers] = useState(MOCK_USERS)\r\n  const [filteredUsers, setFilteredUsers] = useState(MOCK_USERS)\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [roleFilter, setRoleFilter] = useState('all')\r\n  const [statusFilter, setStatusFilter] = useState('all')\r\n  // Removed unused state variables\r\n\r\n  const { t, isRTL, formatCurrency } = useI18n()\r\n\r\n  useEffect(() => {\r\n    let filtered = users\r\n\r\n    if (searchQuery) {\r\n      filtered = filtered.filter(user => \r\n        user.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        user.nameAr.includes(searchQuery) ||\r\n        user.email.toLowerCase().includes(searchQuery.toLowerCase())\r\n      )\r\n    }\r\n\r\n    if (roleFilter !== 'all') {\r\n      filtered = filtered.filter(user => user.role === roleFilter)\r\n    }\r\n\r\n    if (statusFilter !== 'all') {\r\n      filtered = filtered.filter(user => user.status === statusFilter)\r\n    }\r\n\r\n    setFilteredUsers(filtered)\r\n  }, [users, searchQuery, roleFilter, statusFilter])\r\n\r\n  // Removed unused getRoleBadge function\r\n\r\n  const getStatusBadge = (status) => {\r\n    const config = STATUS_CONFIG[status]\r\n    \r\n    return (\r\n      <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${config.color}`}>\r\n        {isRTL ? config.labelAr : config.label}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  const handleStatusChange = (userId, newStatus) => {\r\n    setUsers(prev => prev.map(user => \r\n      user.id === userId ? { ...user, status: newStatus } : user\r\n    ))\r\n  }\r\n\r\n  const handleRoleChange = (userId, newRole) => {\r\n    setUsers(prev => prev.map(user => \r\n      user.id === userId ? { ...user, role: newRole } : user\r\n    ))\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className={`flex items-center justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n        <div className={isRTL ? 'text-right' : 'text-left'}>\r\n          <h1 className=\"text-2xl font-bold text-foreground\">\r\n            {t('admin.userManagement', 'User Management')}\r\n          </h1>\r\n          <p className=\"text-foreground/60\">\r\n            {t('admin.userSubtitle', 'Manage users, roles, and permissions')}\r\n          </p>\r\n        </div>\r\n        \r\n        {/* Add User functionality will be implemented with backend API */}\r\n        <div className=\"text-sm text-foreground/60\">\r\n          {t('admin.addUser', 'Add User')} - Available after backend integration\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n        <div className={`flex items-center gap-4 flex-wrap ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n          <div className=\"relative flex-1 min-w-[300px]\">\r\n            <Search className={`absolute top-1/2 transform -translate-y-1/2 text-foreground/40 ${isRTL ? 'right-3' : 'left-3'}`} size={20} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder={t('admin.searchUsers', 'Search users...')}\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className={`w-full bg-background border border-border rounded-lg text-foreground py-2 ${\r\n                isRTL ? 'pr-10 pl-4 text-right' : 'pl-10 pr-4 text-left'\r\n              }`}\r\n            />\r\n          </div>\r\n\r\n          <select\r\n            value={roleFilter}\r\n            onChange={(e) => setRoleFilter(e.target.value)}\r\n            className=\"px-3 py-2 bg-background border border-border rounded-lg text-foreground\"\r\n          >\r\n            <option value=\"all\">{t('admin.allRoles', 'All Roles')}</option>\r\n            {Object.entries(ROLE_CONFIG).map(([key, config]) => (\r\n              <option key={key} value={key}>{isRTL ? config.labelAr : config.label}</option>\r\n            ))}\r\n          </select>\r\n\r\n          <select\r\n            value={statusFilter}\r\n            onChange={(e) => setStatusFilter(e.target.value)}\r\n            className=\"px-3 py-2 bg-background border border-border rounded-lg text-foreground\"\r\n          >\r\n            <option value=\"all\">{t('admin.allStatuses', 'All Statuses')}</option>\r\n            {Object.entries(STATUS_CONFIG).map(([key, config]) => (\r\n              <option key={key} value={key}>{isRTL ? config.labelAr : config.label}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Users Table */}\r\n      <div className=\"bg-surface border border-border rounded-xl overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-background border-b border-border\">\r\n              <tr>\r\n                <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                  {t('admin.user', 'User')}\r\n                </th>\r\n                <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                  {t('admin.role', 'Role')}\r\n                </th>\r\n                <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                  {t('admin.status', 'Status')}\r\n                </th>\r\n                <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                  {t('admin.activity', 'Activity')}\r\n                </th>\r\n                <th className={`p-4 font-medium text-foreground ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                  {t('admin.actions', 'Actions')}\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <AnimatePresence>\r\n                {filteredUsers.map(user => (\r\n                  <motion.tr\r\n                    key={user.id}\r\n                    layout\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    exit={{ opacity: 0, y: -20 }}\r\n                    className=\"hover:bg-background/50 transition-colors border-b border-border last:border-0\"\r\n                  >\r\n                    <td className=\"p-4\">\r\n                      <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                        <img \r\n                          src={user.avatar} \r\n                          alt={isRTL ? user.nameAr : user.name}\r\n                          className=\"w-10 h-10 rounded-full object-cover\"\r\n                        />\r\n                        <div className={isRTL ? 'text-right' : 'text-left'}>\r\n                          <div className=\"font-medium text-foreground\">\r\n                            {isRTL ? user.nameAr : user.name}\r\n                          </div>\r\n                          <div className=\"text-sm text-foreground/60\">{user.email}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <select\r\n                        value={user.role}\r\n                        onChange={(e) => handleRoleChange(user.id, e.target.value)}\r\n                        className=\"px-2 py-1 text-xs border border-border rounded bg-background\"\r\n                      >\r\n                        {Object.entries(ROLE_CONFIG).map(([key, config]) => (\r\n                          <option key={key} value={key}>{isRTL ? config.labelAr : config.label}</option>\r\n                        ))}\r\n                      </select>\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      {getStatusBadge(user.status)}\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <div className={`text-sm ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                        <div className=\"text-foreground\">{user.orders} orders</div>\r\n                        <div className=\"text-foreground/60\">{formatCurrency(user.totalSpent)}</div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"p-4\">\r\n                      <div className={`flex items-center gap-2 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                        <button className=\"p-2 hover:bg-background rounded-lg transition-colors\">\r\n                          <Eye size={16} />\r\n                        </button>\r\n                        <button className=\"p-2 hover:bg-background rounded-lg transition-colors\">\r\n                          <Edit size={16} />\r\n                        </button>\r\n                        <select\r\n                          value={user.status}\r\n                          onChange={(e) => handleStatusChange(user.id, e.target.value)}\r\n                          className=\"px-2 py-1 text-xs border border-border rounded bg-background\"\r\n                        >\r\n                          {Object.entries(STATUS_CONFIG).map(([key, config]) => (\r\n                            <option key={key} value={key}>{isRTL ? config.labelAr : config.label}</option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                    </td>\r\n                  </motion.tr>\r\n                ))}\r\n              </AnimatePresence>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {filteredUsers.length === 0 && (\r\n          <div className=\"py-12 text-center\">\r\n            <Users size={48} className=\"mx-auto text-foreground/30 mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-foreground mb-2\">No users found</h3>\r\n            <p className=\"text-foreground/60\">Try adjusting your search criteria</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Stats Summary */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n              <Users className=\"text-blue-600\" size={20} />\r\n            </div>\r\n            <div className={isRTL ? 'text-right' : 'text-left'}>\r\n              <div className=\"text-sm text-foreground/60\">{t('admin.totalUsers', 'Total Users')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">{users.length}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <div className=\"p-2 bg-green-100 rounded-lg\">\r\n              <CheckCircle className=\"text-green-600\" size={20} />\r\n            </div>\r\n            <div className={isRTL ? 'text-right' : 'text-left'}>\r\n              <div className=\"text-sm text-foreground/60\">{t('admin.activeUsers', 'Active Users')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">\r\n                {users.filter(u => u.status === 'active').length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <div className=\"p-2 bg-red-100 rounded-lg\">\r\n              <ShieldCheck className=\"text-red-600\" size={20} />\r\n            </div>\r\n            <div className={isRTL ? 'text-right' : 'text-left'}>\r\n              <div className=\"text-sm text-foreground/60\">{t('admin.adminUsers', 'Admins')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">\r\n                {users.filter(u => u.role === 'admin').length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <div className=\"p-2 bg-green-100 rounded-lg\">\r\n              <Users className=\"text-green-600\" size={20} />\r\n            </div>\r\n            <div className={isRTL ? 'text-right' : 'text-left'}>\r\n              <div className=\"text-sm text-foreground/60\">{t('admin.customers', 'Customers')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">\r\n                {users.filter(u => u.role === 'customer').length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  BarChart3, Users, ShoppingBag, TrendingUp, \r\n  Package, DollarSign, Clock, MessageSquare,\r\n  ArrowUp, ArrowDown, Eye, MoreHorizontal,\r\n  MapPin, Smartphone, CreditCard, Truck,\r\n  Star, Filter, Calendar, Download,\r\n  PieChart, Activity, Target\r\n} from 'lucide-react'\r\nimport { useSegment } from '../../../ui/contexts/SegmentContext.jsx'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext.jsx'\r\n\r\n// Mock India-specific analytics data\r\nconst INDIA_ANALYTICS = {\r\n  overview: {\r\n    totalRevenue: 2856420, // in INR\r\n    totalOrders: 5284,\r\n    totalCustomers: 2892,\r\n    conversionRate: 4.2,\r\n    changes: {\r\n      revenue: 18.5,\r\n      orders: 12.8,\r\n      customers: 25.7,\r\n      conversion: 3.1\r\n    }\r\n  },\r\n  paymentMethods: {\r\n    cod: { orders: 2640, percentage: 50, revenue: 1285420 },\r\n    upi: { orders: 1586, percentage: 30, revenue: 856420 },\r\n    cards: { orders: 792, percentage: 15, revenue: 524670 },\r\n    netBanking: { orders: 266, percentage: 5, revenue: 189910 }\r\n  },\r\n  regions: [\r\n    { state: 'Maharashtra', orders: 1285, revenue: 685420, growth: 22.1 },\r\n    { state: 'Karnataka', orders: 987, revenue: 542830, growth: 18.5 },\r\n    { state: 'Delhi', orders: 856, revenue: 456720, growth: 15.2 },\r\n    { state: 'Tamil Nadu', orders: 742, revenue: 398560, growth: 12.8 },\r\n    { state: 'Gujarat', orders: 634, revenue: 342180, growth: 19.3 },\r\n    { state: 'Uttar Pradesh', orders: 580, revenue: 298340, growth: 16.7 }\r\n  ],\r\n  languages: {\r\n    english: { users: 2023, percentage: 70 },\r\n    hindi: { users: 869, percentage: 30 }\r\n  },\r\n  deviceTypes: {\r\n    mobile: { orders: 3700, percentage: 70, revenue: 1999494 },\r\n    desktop: { orders: 1056, percentage: 20, revenue: 571684 },\r\n    tablet: { orders: 528, percentage: 10, revenue: 285242 }\r\n  },\r\n  topProducts: [\r\n    { name: 'Premium Leather Wallet', sales: 245, revenue: 612450, category: 'leather' },\r\n    { name: 'Wireless Bluetooth Earbuds', sales: 189, revenue: 755211, category: 'electronics' },\r\n    { name: 'Ergonomic Office Chair', sales: 87, revenue: 1391913, category: 'furniture' },\r\n    { name: 'Handcrafted Leather Belt', sales: 156, revenue: 249344, category: 'leather' },\r\n    { name: 'Smart Fitness Watch', sales: 98, revenue: 1273902, category: 'electronics' }\r\n  ],\r\n  hourlyTrends: [\r\n    { hour: '00:00', orders: 12, revenue: 18420 },\r\n    { hour: '06:00', orders: 45, revenue: 67850 },\r\n    { hour: '12:00', orders: 189, revenue: 285420 },\r\n    { hour: '18:00', orders: 234, revenue: 354780 },\r\n    { hour: '21:00', orders: 167, revenue: 251890 }\r\n  ]\r\n}\r\n\r\nexport default function IndiaAnalytics() {\r\n  const { theme } = useSegment()\r\n  const { t, formatCurrency } = useI18n()\r\n  const [timeRange, setTimeRange] = useState('30d')\r\n  const [selectedMetric, setSelectedMetric] = useState('revenue')\r\n  const [analytics, setAnalytics] = useState(INDIA_ANALYTICS)\r\n\r\n  const MetricCard = ({ title, value, change, icon: Icon, format = 'number', color = theme.colors.primary }) => {\r\n    const isPositive = change > 0\r\n    const formatValue = (val) => {\r\n      if (format === 'currency') return formatCurrency(val)\r\n      if (format === 'percentage') return `${val}%`\r\n      return val.toLocaleString()\r\n    }\r\n    \r\n    return (\r\n      <motion.div\r\n        className=\"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100\"\r\n        whileHover={{ y: -2 }}\r\n        layout\r\n      >\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div \r\n            className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\r\n            style={{ backgroundColor: `${color}15` }}\r\n          >\r\n            <Icon size={24} style={{ color }} />\r\n          </div>\r\n          <div className={`flex items-center gap-1 text-sm font-medium ${\r\n            isPositive ? 'text-green-600' : 'text-red-600'\r\n          }`}>\r\n            {isPositive ? <ArrowUp size={16} /> : <ArrowDown size={16} />}\r\n            {Math.abs(change)}%\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h3 className=\"text-3xl font-bold text-gray-900 mb-1\">\r\n            {formatValue(value)}\r\n          </h3>\r\n          <p className=\"text-gray-600 text-sm\">{title}</p>\r\n        </div>\r\n      </motion.div>\r\n    )\r\n  }\r\n\r\n  const PaymentMethodChart = () => (\r\n    <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Payment Methods Distribution</h3>\r\n      <div className=\"space-y-4\">\r\n        {Object.entries(analytics.paymentMethods).map(([method, data]) => {\r\n          const methodLabels = {\r\n            cod: 'Cash on Delivery',\r\n            upi: 'UPI Payments',\r\n            cards: 'Credit/Debit Cards',\r\n            netBanking: 'Net Banking'\r\n          }\r\n          \r\n          return (\r\n            <div key={method} className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div \r\n                  className=\"w-4 h-4 rounded-full\"\r\n                  style={{ \r\n                    backgroundColor: method === 'cod' ? '#16a34a' : \r\n                                   method === 'upi' ? '#2563eb' :\r\n                                   method === 'cards' ? '#dc2626' : '#7c3aed'\r\n                  }}\r\n                />\r\n                <span className=\"text-gray-700 font-medium\">{methodLabels[method]}</span>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <div className=\"text-lg font-bold text-gray-900\">{data.percentage}%</div>\r\n                <div className=\"text-sm text-gray-500\">{formatCurrency(data.revenue)}</div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const RegionalPerformance = () => (\r\n    <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900\">Regional Performance</h3>\r\n        <button className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\">\r\n          View Map\r\n        </button>\r\n      </div>\r\n      <div className=\"space-y-4\">\r\n        {analytics.regions.slice(0, 6).map((region, index) => (\r\n          <div key={region.state} className=\"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-sm font-bold text-blue-600\">\r\n                {index + 1}\r\n              </div>\r\n              <div>\r\n                <div className=\"font-medium text-gray-900\">{region.state}</div>\r\n                <div className=\"text-sm text-gray-500\">{region.orders} orders</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"font-semibold text-gray-900\">{formatCurrency(region.revenue)}</div>\r\n              <div className=\"text-sm text-green-600 flex items-center gap-1\">\r\n                <ArrowUp size={12} />\r\n                {region.growth}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"min-h-screen py-8 bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-8\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">India Market Analytics</h1>\r\n            <p className=\"text-gray-600\">Comprehensive insights for the Indian market launch</p>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-4\">\r\n            <select\r\n              value={timeRange}\r\n              onChange={(e) => setTimeRange(e.target.value)}\r\n              className=\"px-4 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 focus:ring-2 focus:ring-blue-500 transition-all\"\r\n            >\r\n              <option value=\"7d\">Last 7 Days</option>\r\n              <option value=\"30d\">Last 30 Days</option>\r\n              <option value=\"90d\">Last 90 Days</option>\r\n              <option value=\"1y\">Last Year</option>\r\n            </select>\r\n            \r\n            <motion.button\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium shadow-sm hover:shadow-md transition-all flex items-center gap-2\"\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n            >\r\n              <Download size={16} />\r\n              Export Report\r\n            </motion.button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Overview Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          <MetricCard\r\n            title=\"Total Revenue (INR)\"\r\n            value={analytics.overview.totalRevenue}\r\n            change={analytics.overview.changes.revenue}\r\n            icon={DollarSign}\r\n            format=\"currency\"\r\n            color=\"#16a34a\"\r\n          />\r\n          <MetricCard\r\n            title=\"Total Orders\"\r\n            value={analytics.overview.totalOrders}\r\n            change={analytics.overview.changes.orders}\r\n            icon={ShoppingBag}\r\n            color=\"#2563eb\"\r\n          />\r\n          <MetricCard\r\n            title=\"Active Customers\"\r\n            value={analytics.overview.totalCustomers}\r\n            change={analytics.overview.changes.customers}\r\n            icon={Users}\r\n            color=\"#7c3aed\"\r\n          />\r\n          <MetricCard\r\n            title=\"Conversion Rate\"\r\n            value={analytics.overview.conversionRate}\r\n            change={analytics.overview.changes.conversion}\r\n            icon={TrendingUp}\r\n            format=\"percentage\"\r\n            color=\"#dc2626\"\r\n          />\r\n        </div>\r\n\r\n        {/* India-Specific Metrics */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\r\n          <PaymentMethodChart />\r\n          <RegionalPerformance />\r\n          \r\n          {/* Device & Language Stats */}\r\n          <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">User Preferences</h3>\r\n            \r\n            {/* Device Types */}\r\n            <div className=\"mb-6\">\r\n              <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Device Types</h4>\r\n              <div className=\"space-y-2\">\r\n                {Object.entries(analytics.deviceTypes).map(([device, data]) => (\r\n                  <div key={device} className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Smartphone size={16} className=\"text-gray-500\" />\r\n                      <span className=\"text-sm text-gray-700 capitalize\">{device}</span>\r\n                    </div>\r\n                    <span className=\"text-sm font-medium text-gray-900\">{data.percentage}%</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Language Preferences */}\r\n            <div>\r\n              <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Language Preferences</h4>\r\n              <div className=\"space-y-2\">\r\n                {Object.entries(analytics.languages).map(([lang, data]) => (\r\n                  <div key={lang} className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <MessageSquare size={16} className=\"text-gray-500\" />\r\n                      <span className=\"text-sm text-gray-700 capitalize\">{lang}</span>\r\n                    </div>\r\n                    <span className=\"text-sm font-medium text-gray-900\">{data.percentage}%</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Top Products */}\r\n        <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100 mb-8\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Top Performing Products</h3>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"border-b border-gray-200\">\r\n                  <th className=\"text-left py-3 px-4 font-medium text-gray-700\">Product</th>\r\n                  <th className=\"text-left py-3 px-4 font-medium text-gray-700\">Category</th>\r\n                  <th className=\"text-left py-3 px-4 font-medium text-gray-700\">Sales</th>\r\n                  <th className=\"text-left py-3 px-4 font-medium text-gray-700\">Revenue</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {analytics.topProducts.map((product, index) => (\r\n                  <tr key={index} className=\"border-b border-gray-100 hover:bg-gray-50 transition-colors\">\r\n                    <td className=\"py-3 px-4\">\r\n                      <div className=\"font-medium text-gray-900\">{product.name}</div>\r\n                    </td>\r\n                    <td className=\"py-3 px-4\">\r\n                      <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 capitalize\">\r\n                        {product.category}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"py-3 px-4 text-gray-700\">{product.sales}</td>\r\n                    <td className=\"py-3 px-4 font-semibold text-gray-900\">{formatCurrency(product.revenue)}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Insights & Recommendations */}\r\n        <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200\">\r\n          <h3 className=\"text-lg font-semibold text-blue-900 mb-4 flex items-center gap-2\">\r\n            <Target size={20} />\r\n            Key Insights for India Market\r\n          </h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"bg-white p-4 rounded-lg border border-blue-100\">\r\n              <h4 className=\"font-medium text-gray-900 mb-2\">Payment Preference</h4>\r\n              <p className=\"text-sm text-gray-600\">\r\n                50% of customers prefer Cash on Delivery, indicating trust-building opportunities for digital payments.\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-white p-4 rounded-lg border border-blue-100\">\r\n              <h4 className=\"font-medium text-gray-900 mb-2\">Mobile-First Strategy</h4>\r\n              <p className=\"text-sm text-gray-600\">\r\n                70% of orders come from mobile devices. Prioritize mobile UX optimization.\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-white p-4 rounded-lg border border-blue-100\">\r\n              <h4 className=\"font-medium text-gray-900 mb-2\">Regional Focus</h4>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Maharashtra and Karnataka drive 40% of total revenue. Consider regional marketing campaigns.\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-white p-4 rounded-lg border border-blue-100\">\r\n              <h4 className=\"font-medium text-gray-900 mb-2\">Language Localization</h4>\r\n              <p className=\"text-sm text-gray-600\">\r\n                30% of users prefer Hindi interface. Expanding Hindi content could increase engagement.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { \r\n  Brain, Target, TrendingUp, Users, Package,\r\n  Settings, Eye, Edit3, Trash2, Plus, Search,\r\n  Filter, Calendar, Download, BarChart3,\r\n  RefreshCw, CheckCircle, AlertCircle, Clock\r\n} from 'lucide-react'\r\nimport { useSegment } from '../../../ui/contexts/SegmentContext.jsx'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext.jsx'\r\n\r\n// Mock recommendation data\r\nconst RECOMMENDATION_DATA = {\r\n  algorithms: [\r\n    {\r\n      id: 'collaborative',\r\n      name: 'Collaborative Filtering',\r\n      description: 'Recommendations based on user behavior patterns',\r\n      status: 'active',\r\n      performance: 87.5,\r\n      usage: 45.2,\r\n      lastUpdated: '2025-01-20',\r\n      config: { minSimilarity: 0.7, maxRecommendations: 10 }\r\n    },\r\n    {\r\n      id: 'content_based',\r\n      name: 'Content-Based Filtering',\r\n      description: 'Recommendations based on product attributes',\r\n      status: 'active',\r\n      performance: 82.3,\r\n      usage: 38.7,\r\n      lastUpdated: '2025-01-19',\r\n      config: { weightFeatures: ['category', 'brand', 'price'], similarity: 0.8 }\r\n    },\r\n    {\r\n      id: 'hybrid',\r\n      name: 'Hybrid Recommendations',\r\n      description: 'Combined approach using multiple algorithms',\r\n      status: 'testing',\r\n      performance: 91.2,\r\n      usage: 16.1,\r\n      lastUpdated: '2025-01-20',\r\n      config: { collaborativeWeight: 0.6, contentWeight: 0.4 }\r\n    }\r\n  ],\r\n  categories: [\r\n    {\r\n      id: 'related_products',\r\n      name: 'Related Products',\r\n      enabled: true,\r\n      clicks: 15420,\r\n      conversions: 1854,\r\n      revenue: 285420,\r\n      position: 'product_page'\r\n    },\r\n    {\r\n      id: 'frequently_bought',\r\n      name: 'Frequently Bought Together',\r\n      enabled: true,\r\n      clicks: 8650,\r\n      conversions: 2140,\r\n      revenue: 456780,\r\n      position: 'cart_page'\r\n    },\r\n    {\r\n      id: 'you_may_like',\r\n      name: 'You May Also Like',\r\n      enabled: true,\r\n      clicks: 12890,\r\n      conversions: 1023,\r\n      revenue: 198450,\r\n      position: 'homepage'\r\n    },\r\n    {\r\n      id: 'trending',\r\n      name: 'Trending Now',\r\n      enabled: false,\r\n      clicks: 0,\r\n      conversions: 0,\r\n      revenue: 0,\r\n      position: 'homepage'\r\n    }\r\n  ],\r\n  userSegments: [\r\n    {\r\n      id: 'new_users',\r\n      name: 'New Users',\r\n      count: 1250,\r\n      strategy: 'trending_popular',\r\n      performance: 78.5\r\n    },\r\n    {\r\n      id: 'repeat_customers',\r\n      name: 'Repeat Customers',\r\n      count: 892,\r\n      strategy: 'personalized',\r\n      performance: 91.2\r\n    },\r\n    {\r\n      id: 'high_value',\r\n      name: 'High-Value Customers',\r\n      count: 156,\r\n      strategy: 'premium_recommendations',\r\n      performance: 94.8\r\n    }\r\n  ]\r\n}\r\n\r\nexport default function RecommendationManagement() {\r\n  const { theme } = useSegment()\r\n  const { t, formatCurrency } = useI18n()\r\n  const [activeTab, setActiveTab] = useState('algorithms')\r\n  const [data, setData] = useState(RECOMMENDATION_DATA)\r\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(null)\r\n  const [showConfigModal, setShowConfigModal] = useState(false)\r\n\r\n  const StatusBadge = ({ status }) => {\r\n    const colors = {\r\n      active: 'bg-green-100 text-green-800',\r\n      testing: 'bg-yellow-100 text-yellow-800',\r\n      inactive: 'bg-red-100 text-red-800'\r\n    }\r\n    \r\n    return (\r\n      <span className={`px-2 py-1 text-xs font-medium rounded-full ${colors[status]}`}>\r\n        {status.charAt(0).toUpperCase() + status.slice(1)}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  const PerformanceBar = ({ value, color = theme.colors.primary }) => (\r\n    <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n      <div \r\n        className=\"h-2 rounded-full transition-all duration-500\"\r\n        style={{ \r\n          width: `${value}%`, \r\n          backgroundColor: color \r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n\r\n  const AlgorithmCard = ({ algorithm }) => (\r\n    <motion.div\r\n      className=\"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100\"\r\n      whileHover={{ y: -2 }}\r\n      layout\r\n    >\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div \r\n            className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\r\n            style={{ backgroundColor: `${theme.colors.primary}15` }}\r\n          >\r\n            <Brain size={24} style={{ color: theme.colors.primary }} />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">{algorithm.name}</h3>\r\n            <p className=\"text-sm text-gray-600\">{algorithm.description}</p>\r\n          </div>\r\n        </div>\r\n        <StatusBadge status={algorithm.status} />\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <div className=\"flex justify-between text-sm mb-1\">\r\n            <span className=\"text-gray-600\">Performance</span>\r\n            <span className=\"font-medium text-gray-900\">{algorithm.performance}%</span>\r\n          </div>\r\n          <PerformanceBar value={algorithm.performance} />\r\n        </div>\r\n\r\n        <div>\r\n          <div className=\"flex justify-between text-sm mb-1\">\r\n            <span className=\"text-gray-600\">Usage</span>\r\n            <span className=\"font-medium text-gray-900\">{algorithm.usage}%</span>\r\n          </div>\r\n          <PerformanceBar value={algorithm.usage} color=\"#6366f1\" />\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between pt-4 border-t border-gray-100\">\r\n          <span className=\"text-xs text-gray-500\">\r\n            Updated: {algorithm.lastUpdated}\r\n          </span>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={() => {\r\n                setSelectedAlgorithm(algorithm)\r\n                setShowConfigModal(true)\r\n              }}\r\n              className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              title=\"Configure\"\r\n            >\r\n              <Settings size={16} className=\"text-gray-600\" />\r\n            </button>\r\n            <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\" title=\"View Details\">\r\n              <Eye size={16} className=\"text-gray-600\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  )\r\n\r\n  const CategoryRow = ({ category }) => (\r\n    <tr className=\"border-b border-gray-100 hover:bg-gray-50 transition-colors\">\r\n      <td className=\"py-4 px-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className={`w-3 h-3 rounded-full ${category.enabled ? 'bg-green-500' : 'bg-gray-300'}`} />\r\n          <div>\r\n            <div className=\"font-medium text-gray-900\">{category.name}</div>\r\n            <div className=\"text-sm text-gray-500\">{category.position}</div>\r\n          </div>\r\n        </div>\r\n      </td>\r\n      <td className=\"py-4 px-6 text-gray-700\">{category.clicks.toLocaleString()}</td>\r\n      <td className=\"py-4 px-6 text-gray-700\">{category.conversions.toLocaleString()}</td>\r\n      <td className=\"py-4 px-6 font-semibold text-gray-900\">{formatCurrency(category.revenue)}</td>\r\n      <td className=\"py-4 px-6\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\r\n            <Edit3 size={16} className=\"text-gray-600\" />\r\n          </button>\r\n          <button className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\r\n            <BarChart3 size={16} className=\"text-gray-600\" />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  )\r\n\r\n  return (\r\n    <div className=\"min-h-screen py-8 bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-8\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Recommendation Management</h1>\r\n            <p className=\"text-gray-600\">Manage AI-powered product recommendations and algorithms</p>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-4\">\r\n            <motion.button\r\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all flex items-center gap-2\"\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n            >\r\n              <RefreshCw size={16} />\r\n              Refresh Data\r\n            </motion.button>\r\n            \r\n            <motion.button\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium shadow-sm hover:shadow-md transition-all flex items-center gap-2\"\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n            >\r\n              <Download size={16} />\r\n              Export Report\r\n            </motion.button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex items-center gap-1 mb-8 bg-white rounded-lg p-1 shadow-sm\">\r\n          {[\r\n            { id: 'algorithms', label: 'Algorithms', icon: Brain },\r\n            { id: 'categories', label: 'Categories', icon: Package },\r\n            { id: 'segments', label: 'User Segments', icon: Users },\r\n            { id: 'performance', label: 'Performance', icon: BarChart3 }\r\n          ].map(tab => {\r\n            const Icon = tab.icon\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${\r\n                  activeTab === tab.id \r\n                    ? 'bg-blue-600 text-white shadow-sm' \r\n                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                <Icon size={18} />\r\n                {tab.label}\r\n              </button>\r\n            )\r\n          })}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        {activeTab === 'algorithms' && (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n            {data.algorithms.map(algorithm => (\r\n              <AlgorithmCard key={algorithm.id} algorithm={algorithm} />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'categories' && (\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-100\">\r\n            <div className=\"p-6 border-b border-gray-100\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Recommendation Categories</h3>\r\n                <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center gap-2\">\r\n                  <Plus size={16} />\r\n                  Add Category\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead>\r\n                  <tr className=\"border-b border-gray-200 bg-gray-50\">\r\n                    <th className=\"text-left py-3 px-6 font-medium text-gray-700\">Category</th>\r\n                    <th className=\"text-left py-3 px-6 font-medium text-gray-700\">Clicks</th>\r\n                    <th className=\"text-left py-3 px-6 font-medium text-gray-700\">Conversions</th>\r\n                    <th className=\"text-left py-3 px-6 font-medium text-gray-700\">Revenue</th>\r\n                    <th className=\"text-left py-3 px-6 font-medium text-gray-700\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {data.categories.map(category => (\r\n                    <CategoryRow key={category.id} category={category} />\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'segments' && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {data.userSegments.map(segment => (\r\n              <motion.div\r\n                key={segment.id}\r\n                className=\"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100\"\r\n                whileHover={{ y: -2 }}\r\n                layout\r\n              >\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div \r\n                    className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\r\n                    style={{ backgroundColor: `${theme.colors.secondary}15` }}\r\n                  >\r\n                    <Users size={24} style={{ color: theme.colors.secondary }} />\r\n                  </div>\r\n                  <span className=\"text-2xl font-bold text-gray-900\">{segment.count}</span>\r\n                </div>\r\n                \r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">{segment.name}</h3>\r\n                  <p className=\"text-sm text-gray-600 mb-4\">Strategy: {segment.strategy.replace('_', ' ')}</p>\r\n                  \r\n                  <div>\r\n                    <div className=\"flex justify-between text-sm mb-1\">\r\n                      <span className=\"text-gray-600\">Performance</span>\r\n                      <span className=\"font-medium text-gray-900\">{segment.performance}%</span>\r\n                    </div>\r\n                    <PerformanceBar value={segment.performance} color={theme.colors.secondary} />\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'performance' && (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Performance Overview */}\r\n            <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Overall Performance</h3>\r\n              <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between p-4 bg-green-50 rounded-lg\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <CheckCircle size={24} className=\"text-green-600\" />\r\n                    <div>\r\n                      <div className=\"font-medium text-green-900\">Active Recommendations</div>\r\n                      <div className=\"text-sm text-green-700\">All systems operational</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold text-green-600\">3</div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between p-4 bg-blue-50 rounded-lg\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Target size={24} className=\"text-blue-600\" />\r\n                    <div>\r\n                      <div className=\"font-medium text-blue-900\">Avg. Click Rate</div>\r\n                      <div className=\"text-sm text-blue-700\">Across all categories</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold text-blue-600\">12.5%</div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between p-4 bg-purple-50 rounded-lg\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <TrendingUp size={24} className=\"text-purple-600\" />\r\n                    <div>\r\n                      <div className=\"font-medium text-purple-900\">Revenue Impact</div>\r\n                      <div className=\"text-sm text-purple-700\">Last 30 days</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold text-purple-600\">{formatCurrency(940650)}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recent Activity */}\r\n            <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Recent Activity</h3>\r\n              <div className=\"space-y-4\">\r\n                {[\r\n                  { action: 'Algorithm updated', target: 'Hybrid Recommendations', time: '2 hours ago', type: 'update' },\r\n                  { action: 'Category enabled', target: 'Trending Now', time: '5 hours ago', type: 'enable' },\r\n                  { action: 'Performance report', target: 'Weekly Summary', time: '1 day ago', type: 'report' },\r\n                  { action: 'User segment created', target: 'Premium Customers', time: '2 days ago', type: 'create' }\r\n                ].map((activity, index) => (\r\n                  <div key={index} className=\"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors\">\r\n                    <div className={`w-2 h-2 rounded-full ${\r\n                      activity.type === 'update' ? 'bg-blue-500' :\r\n                      activity.type === 'enable' ? 'bg-green-500' :\r\n                      activity.type === 'report' ? 'bg-purple-500' : 'bg-orange-500'\r\n                    }`} />\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">{activity.action}</div>\r\n                      <div className=\"text-xs text-gray-500\">{activity.target}</div>\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-400\">{activity.time}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Configuration Modal */}\r\n        {showConfigModal && selectedAlgorithm && (\r\n          <motion.div\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n          >\r\n            <motion.div\r\n              className=\"bg-white rounded-xl p-6 max-w-md w-full mx-4\"\r\n              initial={{ scale: 0.9, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.9, opacity: 0 }}\r\n            >\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                  Configure {selectedAlgorithm.name}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowConfigModal(false)}\r\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <X size={20} className=\"text-gray-500\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                {Object.entries(selectedAlgorithm.config).map(([key, value]) => (\r\n                  <div key={key}>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2 capitalize\">\r\n                      {key.replace(/([A-Z])/g, ' $1').toLowerCase()}\r\n                    </label>\r\n                    <input\r\n                      type={typeof value === 'number' ? 'number' : 'text'}\r\n                      defaultValue={value}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-3 mt-6\">\r\n                <button\r\n                  onClick={() => setShowConfigModal(false)}\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowConfigModal(false)}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors\"\r\n                >\r\n                  Save Changes\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { useAudit, ROLES, PERMISSIONS, ROLE_PERMISSIONS, AUDIT_ACTIONS } from '../../../ui/contexts/AuditContext'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext'\r\nimport { Shield, User, Lock, Edit3, Save, X, Check, AlertTriangle } from 'lucide-react'\r\n\r\nconst RoleManagement = () => {\r\n  const { \r\n    hasPermission, \r\n    hasMinimumRole, \r\n    currentUser, \r\n    logAction,\r\n    ROLES: AVAILABLE_ROLES \r\n  } = useAudit()\r\n  const { t, language, isRTL } = useI18n()\r\n  \r\n  const [selectedUser, setSelectedUser] = useState(null)\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [newRole, setNewRole] = useState('')\r\n  const [showPermissions, setShowPermissions] = useState({})\r\n\r\n  // Keep only super admin Faisal - other users will be loaded from API\r\n  const [users] = useState([\r\n    {\r\n      id: '1',\r\n      name: 'Faisal Khan',\r\n      email: 'faisal@limitlessinfotech.com',\r\n      role: ROLES.SUPER_ADMIN,\r\n      avatar: null,\r\n      lastLogin: new Date().toISOString(),\r\n      status: 'active'\r\n    }\r\n  ])\r\n\r\n  // Check if current user can manage roles\r\n  const canManageRoles = hasPermission(PERMISSIONS.ROLES_MANAGE)\r\n  const canViewUsers = hasPermission(PERMISSIONS.USERS_VIEW)\r\n\r\n  if (!canViewUsers) {\r\n    return (\r\n      <div className=\"p-8 text-center\">\r\n        <AlertTriangle className=\"mx-auto h-12 w-12 text-red-500 mb-4\" />\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-2\">\r\n          {t('roles.accessDenied', 'Access Denied')}\r\n        </h3>\r\n        <p className=\"text-foreground/60\">\r\n          {t('roles.noPermission', 'You do not have permission to view user roles')}\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const getRoleDisplayName = (role) => {\r\n    const roleNames = {\r\n      [ROLES.SUPER_ADMIN]: language === 'ar' ? 'مدير عام' : 'Super Admin',\r\n      [ROLES.ADMIN]: language === 'ar' ? 'مدير' : 'Admin',\r\n      [ROLES.MANAGER]: language === 'ar' ? 'مدير قسم' : 'Manager',\r\n      [ROLES.MODERATOR]: language === 'ar' ? 'منسق' : 'Moderator',\r\n      [ROLES.VIEWER]: language === 'ar' ? 'مشاهد' : 'Viewer',\r\n      [ROLES.CUSTOMER]: language === 'ar' ? 'عميل' : 'Customer'\r\n    }\r\n    return roleNames[role] || role\r\n  }\r\n\r\n  const getRoleColor = (role) => {\r\n    const colors = {\r\n      [ROLES.SUPER_ADMIN]: 'bg-purple-100 text-purple-800 border-purple-200',\r\n      [ROLES.ADMIN]: 'bg-red-100 text-red-800 border-red-200',\r\n      [ROLES.MANAGER]: 'bg-blue-100 text-blue-800 border-blue-200',\r\n      [ROLES.MODERATOR]: 'bg-green-100 text-green-800 border-green-200',\r\n      [ROLES.VIEWER]: 'bg-gray-100 text-gray-800 border-gray-200',\r\n      [ROLES.CUSTOMER]: 'bg-yellow-100 text-yellow-800 border-yellow-200'\r\n    }\r\n    return colors[role] || 'bg-gray-100 text-gray-800 border-gray-200'\r\n  }\r\n\r\n  const handleRoleChange = async (userId, oldRole, newRole) => {\r\n    try {\r\n      // Log the role change\r\n      await logAction(AUDIT_ACTIONS.ROLE_CHANGE, `user:${userId}`, {\r\n        oldRole,\r\n        newRole,\r\n        targetUserId: userId,\r\n        success: true\r\n      })\r\n\r\n      // Here you would make API call to update role\r\n      console.log(`Role changed for user ${userId}: ${oldRole} → ${newRole}`)\r\n      \r\n      setIsEditing(false)\r\n      setSelectedUser(null)\r\n    } catch (error) {\r\n      console.error('Failed to change role:', error)\r\n    }\r\n  }\r\n\r\n  const togglePermissionView = (role) => {\r\n    setShowPermissions(prev => ({\r\n      ...prev,\r\n      [role]: !prev[role]\r\n    }))\r\n  }\r\n\r\n  const formatLastLogin = (timestamp) => {\r\n    const date = new Date(timestamp)\r\n    return new Intl.DateTimeFormat(language === 'ar' ? 'ar-SA' : 'en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    }).format(date)\r\n  }\r\n\r\n  const getPermissionDisplayName = (permission) => {\r\n    const permissionNames = {\r\n      // Product permissions\r\n      'products:view': language === 'ar' ? 'عرض المنتجات' : 'View Products',\r\n      'products:create': language === 'ar' ? 'إنشاء المنتجات' : 'Create Products',\r\n      'products:edit': language === 'ar' ? 'تعديل المنتجات' : 'Edit Products',\r\n      'products:delete': language === 'ar' ? 'حذف المنتجات' : 'Delete Products',\r\n      \r\n      // Order permissions\r\n      'orders:view': language === 'ar' ? 'عرض الطلبات' : 'View Orders',\r\n      'orders:edit': language === 'ar' ? 'تعديل الطلبات' : 'Edit Orders',\r\n      'orders:refund': language === 'ar' ? 'استرداد الطلبات' : 'Refund Orders',\r\n      \r\n      // User permissions\r\n      'users:view': language === 'ar' ? 'عرض المستخدمين' : 'View Users',\r\n      'users:create': language === 'ar' ? 'إنشاء المستخدمين' : 'Create Users',\r\n      'users:edit': language === 'ar' ? 'تعديل المستخدمين' : 'Edit Users',\r\n      'users:delete': language === 'ar' ? 'حذف المستخدمين' : 'Delete Users',\r\n      \r\n      // Analytics permissions\r\n      'analytics:view': language === 'ar' ? 'عرض التحليلات' : 'View Analytics',\r\n      'analytics:export': language === 'ar' ? 'تصدير التحليلات' : 'Export Analytics',\r\n      \r\n      // Settings permissions\r\n      'settings:view': language === 'ar' ? 'عرض الإعدادات' : 'View Settings',\r\n      'settings:edit': language === 'ar' ? 'تعديل الإعدادات' : 'Edit Settings',\r\n      \r\n      // Security permissions\r\n      'security:manage': language === 'ar' ? 'إدارة الأمان' : 'Manage Security',\r\n      'roles:manage': language === 'ar' ? 'إدارة الأدوار' : 'Manage Roles'\r\n    }\r\n    return permissionNames[permission] || permission\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-6\">\r\n      <div className={`mb-8 ${isRTL ? 'text-right' : 'text-left'}`}>\r\n        <h1 className=\"text-3xl font-bold text-foreground mb-2 flex items-center gap-3\">\r\n          <Shield className=\"h-8 w-8 text-primary\" />\r\n          {t('roles.title', 'Role Management')}\r\n        </h1>\r\n        <p className=\"text-foreground/60\">\r\n          {t('roles.description', 'Manage user roles and permissions across the platform')}\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n        {/* Users List */}\r\n        <div className=\"lg:col-span-2\">\r\n          <div className=\"bg-surface border border-border rounded-xl overflow-hidden\">\r\n            <div className=\"p-6 border-b border-border\">\r\n              <h2 className=\"text-xl font-semibold text-foreground flex items-center gap-2\">\r\n                <User className=\"h-5 w-5\" />\r\n                {t('roles.users', 'Users')}\r\n              </h2>\r\n            </div>\r\n\r\n            <div className=\"divide-y divide-border\">\r\n              {users.map((user) => {\r\n                const userPermissions = ROLE_PERMISSIONS[user.role] || []\r\n                \r\n                return (\r\n                  <motion.div\r\n                    key={user.id}\r\n                    layout\r\n                    className={`p-6 hover:bg-background/50 transition-colors cursor-pointer ${\r\n                      selectedUser?.id === user.id ? 'bg-primary/5 border-primary/20' : ''\r\n                    }`}\r\n                    onClick={() => setSelectedUser(user)}\r\n                  >\r\n                    <div className={`flex items-center justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                      <div className={`flex items-center gap-4 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                        <div className=\"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center\">\r\n                          <User className=\"h-5 w-5 text-primary\" />\r\n                        </div>\r\n                        <div className={isRTL ? 'text-right' : 'text-left'}>\r\n                          <h3 className=\"font-semibold text-foreground\">{user.name}</h3>\r\n                          <p className=\"text-sm text-foreground/60\">{user.email}</p>\r\n                          <p className=\"text-xs text-foreground/50 mt-1\">\r\n                            {t('roles.lastLogin', 'Last login')}: {formatLastLogin(user.lastLogin)}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                        <span className={`px-3 py-1 text-xs font-medium rounded-full border ${getRoleColor(user.role)}`}>\r\n                          {getRoleDisplayName(user.role)}\r\n                        </span>\r\n                        <span className={`w-2 h-2 rounded-full ${\r\n                          user.status === 'active' ? 'bg-green-500' : 'bg-gray-400'\r\n                        }`}></span>\r\n                        {canManageRoles && (\r\n                          <motion.button\r\n                            whileHover={{ scale: 1.1 }}\r\n                            whileTap={{ scale: 0.9 }}\r\n                            onClick={(e) => {\r\n                              e.stopPropagation()\r\n                              setSelectedUser(user)\r\n                              setNewRole(user.role)\r\n                              setIsEditing(true)\r\n                            }}\r\n                            className=\"p-1 text-foreground/40 hover:text-primary transition-colors\"\r\n                          >\r\n                            <Edit3 className=\"h-4 w-4\" />\r\n                          </motion.button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className={`mt-4 text-sm text-foreground/60 ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                      <span className=\"font-medium\">\r\n                        {t('roles.permissions', 'Permissions')}: {userPermissions.length}\r\n                      </span>\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation()\r\n                          togglePermissionView(user.role)\r\n                        }}\r\n                        className={`text-primary hover:text-primary/80 font-medium ${\r\n                          isRTL ? 'mr-2' : 'ml-2'\r\n                        }`}\r\n                      >\r\n                        {showPermissions[user.role] \r\n                          ? t('roles.hidePermissions', 'Hide') \r\n                          : t('roles.showPermissions', 'Show')\r\n                        }\r\n                      </button>\r\n                    </div>\r\n\r\n                    <AnimatePresence>\r\n                      {showPermissions[user.role] && (\r\n                        <motion.div\r\n                          initial={{ height: 0, opacity: 0 }}\r\n                          animate={{ height: 'auto', opacity: 1 }}\r\n                          exit={{ height: 0, opacity: 0 }}\r\n                          className=\"mt-4 pt-4 border-t border-border\"\r\n                        >\r\n                          <div className=\"grid grid-cols-2 gap-2\">\r\n                            {userPermissions.map((permission) => (\r\n                              <div\r\n                                key={permission}\r\n                                className={`flex items-center gap-2 text-xs text-foreground/70 ${\r\n                                  isRTL ? 'flex-row-reverse text-right' : ''\r\n                                }`}\r\n                              >\r\n                                <Check className=\"h-3 w-3 text-green-500 flex-shrink-0\" />\r\n                                <span>{getPermissionDisplayName(permission)}</span>\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        </motion.div>\r\n                      )}\r\n                    </AnimatePresence>\r\n                  </motion.div>\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Role Editor */}\r\n        <div className=\"lg:col-span-1\">\r\n          <div className=\"bg-surface border border-border rounded-xl p-6 sticky top-6\">\r\n            <h3 className=\"text-lg font-semibold text-foreground mb-4 flex items-center gap-2\">\r\n              <Lock className=\"h-5 w-5\" />\r\n              {selectedUser ? t('roles.editRole', 'Edit Role') : t('roles.selectUser', 'Select User')}\r\n            </h3>\r\n\r\n            {selectedUser ? (\r\n              <div className=\"space-y-4\">\r\n                <div className={isRTL ? 'text-right' : 'text-left'}>\r\n                  <p className=\"text-sm text-foreground/60 mb-1\">\r\n                    {t('roles.selectedUser', 'Selected User')}\r\n                  </p>\r\n                  <p className=\"font-medium text-foreground\">{selectedUser.name}</p>\r\n                  <p className=\"text-sm text-foreground/60\">{selectedUser.email}</p>\r\n                </div>\r\n\r\n                {isEditing && canManageRoles ? (\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                        {t('roles.selectNewRole', 'Select New Role')}\r\n                      </label>\r\n                      <select\r\n                        value={newRole}\r\n                        onChange={(e) => setNewRole(e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground\"\r\n                      >\r\n                        {Object.values(AVAILABLE_ROLES)\r\n                          .filter(role => role !== ROLES.CUSTOMER) // Don't allow setting customer role\r\n                          .map((role) => (\r\n                            <option key={role} value={role}>\r\n                              {getRoleDisplayName(role)}\r\n                            </option>\r\n                          ))}\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div className={`flex gap-2 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.98 }}\r\n                        onClick={() => handleRoleChange(selectedUser.id, selectedUser.role, newRole)}\r\n                        className=\"flex-1 bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2\"\r\n                      >\r\n                        <Save className=\"h-4 w-4\" />\r\n                        {t('roles.saveChanges', 'Save Changes')}\r\n                      </motion.button>\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.98 }}\r\n                        onClick={() => {\r\n                          setIsEditing(false)\r\n                          setNewRole('')\r\n                        }}\r\n                        className=\"px-4 py-2 border border-border rounded-lg text-foreground hover:bg-background/50 transition-colors\"\r\n                      >\r\n                        <X className=\"h-4 w-4\" />\r\n                      </motion.button>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <span className=\"text-sm text-foreground/60\">\r\n                        {t('roles.currentRole', 'Current Role')}\r\n                      </span>\r\n                      <div className={`mt-1 px-3 py-2 rounded-lg border ${getRoleColor(selectedUser.role)}`}>\r\n                        {getRoleDisplayName(selectedUser.role)}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {canManageRoles && (\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.98 }}\r\n                        onClick={() => {\r\n                          setNewRole(selectedUser.role)\r\n                          setIsEditing(true)\r\n                        }}\r\n                        className=\"w-full bg-surface border border-border text-foreground px-4 py-2 rounded-lg font-medium hover:bg-background/50 transition-colors flex items-center justify-center gap-2\"\r\n                      >\r\n                        <Edit3 className=\"h-4 w-4\" />\r\n                        {t('roles.editRole', 'Edit Role')}\r\n                      </motion.button>\r\n                    )}\r\n\r\n                    <div className=\"pt-4 border-t border-border\">\r\n                      <h4 className=\"text-sm font-medium text-foreground mb-3\">\r\n                        {t('roles.rolePermissions', 'Role Permissions')}\r\n                      </h4>\r\n                      <div className=\"space-y-2 max-h-40 overflow-y-auto\">\r\n                        {(ROLE_PERMISSIONS[selectedUser.role] || []).map((permission) => (\r\n                          <div\r\n                            key={permission}\r\n                            className={`flex items-center gap-2 text-xs text-foreground/70 ${\r\n                              isRTL ? 'flex-row-reverse text-right' : ''\r\n                            }`}\r\n                          >\r\n                            <Check className=\"h-3 w-3 text-green-500 flex-shrink-0\" />\r\n                            <span>{getPermissionDisplayName(permission)}</span>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8\">\r\n                <User className=\"mx-auto h-12 w-12 text-foreground/30 mb-4\" />\r\n                <p className=\"text-foreground/60\">\r\n                  {t('roles.selectUserToEdit', 'Select a user to view or edit their role')}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RoleManagement","import { createContext, useContext, useReducer, useEffect } from 'react'\r\nimport { useNotifications, NOTIFICATION_TYPES, NOTIFICATION_CHANNELS } from './NotificationContext.jsx'\r\n\r\nconst AdminSecurityContext = createContext()\r\n\r\n// Enhanced admin security features\r\nexport const ADMIN_SECURITY_LEVELS = {\r\n  BASIC: 'basic',\r\n  ENHANCED: 'enhanced', \r\n  MAXIMUM: 'maximum'\r\n}\r\n\r\nexport const SECURITY_EVENTS = {\r\n  LOGIN_SUCCESS: 'login_success',\r\n  LOGIN_FAILED: 'login_failed',\r\n  INVALID_2FA: 'invalid_2fa',\r\n  ACCOUNT_LOCKED: 'account_locked',\r\n  SUSPICIOUS_ACTIVITY: 'suspicious_activity',\r\n  IP_BLOCKED: 'ip_blocked',\r\n  SESSION_TIMEOUT: 'session_timeout',\r\n  UNAUTHORIZED_ACCESS: 'unauthorized_access',\r\n  PRIVILEGE_ESCALATION: 'privilege_escalation'\r\n}\r\n\r\nconst initialState = {\r\n  securityLevel: ADMIN_SECURITY_LEVELS.ENHANCED,\r\n  loginAttempts: {},\r\n  blockedIPs: new Set(),\r\n  suspiciousActivities: [],\r\n  activeSessions: [],\r\n  securityEvents: [],\r\n  twoFactorRequired: true,\r\n  sessionTimeout: 30 * 60 * 1000, // 30 minutes\r\n  maxLoginAttempts: 5,\r\n  lockoutDuration: 15 * 60 * 1000, // 15 minutes\r\n  ipWhitelist: new Set(),\r\n  trustedDevices: new Set()\r\n}\r\n\r\nconst securityReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'RECORD_LOGIN_ATTEMPT': {\r\n      const { ip, success } = action.payload\r\n      const attempts = state.loginAttempts[ip] || { count: 0, lastAttempt: null, locked: false }\r\n      \r\n      if (success) {\r\n        // Reset attempts on successful login\r\n        return {\r\n          ...state,\r\n          loginAttempts: {\r\n            ...state.loginAttempts,\r\n            [ip]: { count: 0, lastAttempt: Date.now(), locked: false }\r\n          }\r\n        }\r\n      } else {\r\n        // Increment failed attempts\r\n        const newCount = attempts.count + 1\r\n        const shouldLock = newCount >= state.maxLoginAttempts\r\n        \r\n        return {\r\n          ...state,\r\n          loginAttempts: {\r\n            ...state.loginAttempts,\r\n            [ip]: {\r\n              count: newCount,\r\n              lastAttempt: Date.now(),\r\n              locked: shouldLock,\r\n              lockoutExpiry: shouldLock ? Date.now() + state.lockoutDuration : null\r\n            }\r\n          },\r\n          blockedIPs: shouldLock ? new Set([...state.blockedIPs, ip]) : state.blockedIPs\r\n        }\r\n      }\r\n    }\r\n\r\n    case 'ADD_SECURITY_EVENT':\r\n      return {\r\n        ...state,\r\n        securityEvents: [action.payload, ...state.securityEvents.slice(0, 99)] // Keep last 100 events\r\n      }\r\n\r\n    case 'ADD_SUSPICIOUS_ACTIVITY':\r\n      return {\r\n        ...state,\r\n        suspiciousActivities: [action.payload, ...state.suspiciousActivities.slice(0, 49)]\r\n      }\r\n\r\n    case 'UPDATE_SESSION':\r\n      return {\r\n        ...state,\r\n        activeSessions: action.payload\r\n      }\r\n\r\n    case 'BLOCK_IP':\r\n      return {\r\n        ...state,\r\n        blockedIPs: new Set([...state.blockedIPs, action.payload])\r\n      }\r\n\r\n    case 'UNBLOCK_IP': {\r\n      const newBlockedIPs = new Set(state.blockedIPs)\r\n      newBlockedIPs.delete(action.payload)\r\n      return {\r\n        ...state,\r\n        blockedIPs: newBlockedIPs\r\n      }\r\n    }\r\n\r\n    case 'CLEAR_EXPIRED_LOCKOUTS': {\r\n      const now = Date.now()\r\n      const updatedAttempts = {}\r\n      const unblockedIPs = new Set(state.blockedIPs)\r\n      \r\n      Object.entries(state.loginAttempts).forEach(([ip, data]) => {\r\n        if (data.locked && data.lockoutExpiry && now > data.lockoutExpiry) {\r\n          updatedAttempts[ip] = { count: 0, lastAttempt: now, locked: false }\r\n          unblockedIPs.delete(ip)\r\n        } else {\r\n          updatedAttempts[ip] = data\r\n        }\r\n      })\r\n      \r\n      return {\r\n        ...state,\r\n        loginAttempts: updatedAttempts,\r\n        blockedIPs: unblockedIPs\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const AdminSecurityProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(securityReducer, initialState)\r\n  const { sendNotification } = useNotifications()\r\n\r\n  // Clear expired lockouts periodically\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      dispatch({ type: 'CLEAR_EXPIRED_LOCKOUTS' })\r\n    }, 60000) // Check every minute\r\n\r\n    return () => clearInterval(interval)\r\n  }, [])\r\n\r\n  // Monitor session activity\r\n  useEffect(() => {\r\n    let activityTimer\r\n\r\n    const resetActivityTimer = () => {\r\n      clearTimeout(activityTimer)\r\n      activityTimer = setTimeout(() => {\r\n        logSecurityEvent(SECURITY_EVENTS.SESSION_TIMEOUT, {\r\n          reason: 'Inactivity timeout',\r\n          duration: state.sessionTimeout\r\n        })\r\n      }, state.sessionTimeout)\r\n    }\r\n\r\n    const handleActivity = () => resetActivityTimer()\r\n\r\n    // Listen for user activity\r\n    document.addEventListener('mousedown', handleActivity)\r\n    document.addEventListener('keydown', handleActivity)\r\n    document.addEventListener('scroll', handleActivity)\r\n    \r\n    resetActivityTimer()\r\n\r\n    return () => {\r\n      clearTimeout(activityTimer)\r\n      document.removeEventListener('mousedown', handleActivity)\r\n      document.removeEventListener('keydown', handleActivity)\r\n      document.removeEventListener('scroll', handleActivity)\r\n    }\r\n  }, [state.sessionTimeout])\r\n\r\n  const getClientInfo = () => {\r\n    return {\r\n      ip: '192.168.1.1', // Would be real IP in production\r\n      userAgent: navigator.userAgent,\r\n      timestamp: new Date().toISOString(),\r\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n      language: navigator.language,\r\n      screen: `${screen.width}x${screen.height}`,\r\n      platform: navigator.platform\r\n    }\r\n  }\r\n\r\n  const logSecurityEvent = async (eventType, details = {}) => {\r\n    const event = {\r\n      id: `sec_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n      type: eventType,\r\n      timestamp: new Date().toISOString(),\r\n      clientInfo: getClientInfo(),\r\n      details,\r\n      severity: getSeverity(eventType)\r\n    }\r\n\r\n    dispatch({ type: 'ADD_SECURITY_EVENT', payload: event })\r\n\r\n    // Send notifications for high severity events\r\n    if (event.severity === 'high') {\r\n      await sendNotification(\r\n        NOTIFICATION_TYPES.SECURITY_ALERT,\r\n        {\r\n          message: `Security Alert: ${eventType}`,\r\n          messageAr: `تنبيه أمني: ${eventType}`,\r\n          details,\r\n          severity: 'high'\r\n        },\r\n        [NOTIFICATION_CHANNELS.IN_APP, NOTIFICATION_CHANNELS.EMAIL]\r\n      )\r\n    }\r\n\r\n    console.log('🛡️ Security Event:', event)\r\n    return event\r\n  }\r\n\r\n  const getSeverity = (eventType) => {\r\n    const highSeverityEvents = [\r\n      SECURITY_EVENTS.ACCOUNT_LOCKED,\r\n      SECURITY_EVENTS.SUSPICIOUS_ACTIVITY,\r\n      SECURITY_EVENTS.UNAUTHORIZED_ACCESS,\r\n      SECURITY_EVENTS.PRIVILEGE_ESCALATION\r\n    ]\r\n    \r\n    const mediumSeverityEvents = [\r\n      SECURITY_EVENTS.LOGIN_FAILED,\r\n      SECURITY_EVENTS.INVALID_2FA,\r\n      SECURITY_EVENTS.IP_BLOCKED\r\n    ]\r\n\r\n    if (highSeverityEvents.includes(eventType)) return 'high'\r\n    if (mediumSeverityEvents.includes(eventType)) return 'medium'\r\n    return 'low'\r\n  }\r\n\r\n  const checkIPBlocked = (ip) => {\r\n    return state.blockedIPs.has(ip)\r\n  }\r\n\r\n  const isAccountLocked = (ip) => {\r\n    const attempts = state.loginAttempts[ip]\r\n    if (!attempts) return false\r\n    \r\n    if (attempts.locked && attempts.lockoutExpiry) {\r\n      return Date.now() < attempts.lockoutExpiry\r\n    }\r\n    \r\n    return attempts.locked\r\n  }\r\n\r\n  const getRemainingAttempts = (ip) => {\r\n    const attempts = state.loginAttempts[ip]\r\n    if (!attempts) return state.maxLoginAttempts\r\n    \r\n    return Math.max(0, state.maxLoginAttempts - attempts.count)\r\n  }\r\n\r\n  const getLockoutTimeRemaining = (ip) => {\r\n    const attempts = state.loginAttempts[ip]\r\n    if (!attempts || !attempts.locked || !attempts.lockoutExpiry) return 0\r\n    \r\n    return Math.max(0, attempts.lockoutExpiry - Date.now())\r\n  }\r\n\r\n  const recordLoginAttempt = async (ip, success, details = {}) => {\r\n    dispatch({\r\n      type: 'RECORD_LOGIN_ATTEMPT',\r\n      payload: { ip, success }\r\n    })\r\n\r\n    if (success) {\r\n      await logSecurityEvent(SECURITY_EVENTS.LOGIN_SUCCESS, {\r\n        ip,\r\n        ...details\r\n      })\r\n    } else {\r\n      await logSecurityEvent(SECURITY_EVENTS.LOGIN_FAILED, {\r\n        ip,\r\n        remainingAttempts: getRemainingAttempts(ip),\r\n        ...details\r\n      })\r\n\r\n      // Check if account should be locked\r\n      if (getRemainingAttempts(ip) <= 0) {\r\n        await logSecurityEvent(SECURITY_EVENTS.ACCOUNT_LOCKED, {\r\n          ip,\r\n          lockoutDuration: state.lockoutDuration\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  const detectSuspiciousActivity = async (activity) => {\r\n    const suspiciousPatterns = [\r\n      // Multiple rapid login attempts from different IPs\r\n      {\r\n        check: () => {\r\n          const recentFailures = state.securityEvents\r\n            .filter(e => e.type === SECURITY_EVENTS.LOGIN_FAILED)\r\n            .filter(e => Date.now() - new Date(e.timestamp).getTime() < 300000) // 5 minutes\r\n          \r\n          const uniqueIPs = new Set(recentFailures.map(e => e.clientInfo.ip))\r\n          return uniqueIPs.size >= 3\r\n        },\r\n        severity: 'high',\r\n        message: 'Multiple IPs attempting login'\r\n      },\r\n      // Unusual time-based access patterns\r\n      {\r\n        check: () => {\r\n          const hour = new Date().getHours()\r\n          return hour < 6 || hour > 22 // Outside business hours\r\n        },\r\n        severity: 'medium',\r\n        message: 'Access attempt outside business hours'\r\n      },\r\n      // Geolocation anomalies (mock implementation)\r\n      {\r\n        check: () => activity.location && activity.location !== 'usual_location',\r\n        severity: 'medium', \r\n        message: 'Access from unusual location'\r\n      }\r\n    ]\r\n\r\n    for (const pattern of suspiciousPatterns) {\r\n      if (pattern.check()) {\r\n        const suspiciousActivity = {\r\n          id: `suspicious_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n          timestamp: new Date().toISOString(),\r\n          pattern: pattern.message,\r\n          severity: pattern.severity,\r\n          activity,\r\n          clientInfo: getClientInfo()\r\n        }\r\n\r\n        dispatch({ type: 'ADD_SUSPICIOUS_ACTIVITY', payload: suspiciousActivity })\r\n        \r\n        await logSecurityEvent(SECURITY_EVENTS.SUSPICIOUS_ACTIVITY, {\r\n          pattern: pattern.message,\r\n          severity: pattern.severity,\r\n          activity\r\n        })\r\n\r\n        return true\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  const validateAdminAccess = (path, userRole) => {\r\n    // Check if accessing admin panel through secure path\r\n    const securePaths = ['/admin-panel-secure', '/admin-panel']\r\n    const isSecurePath = securePaths.some(p => path.includes(p))\r\n    \r\n    if (!isSecurePath) {\r\n      logSecurityEvent(SECURITY_EVENTS.UNAUTHORIZED_ACCESS, {\r\n        path,\r\n        userRole,\r\n        reason: 'Invalid admin path'\r\n      })\r\n      return false\r\n    }\r\n\r\n    // Check if user has admin privileges\r\n    const adminRoles = ['admin', 'super_admin']\r\n    if (!adminRoles.includes(userRole)) {\r\n      logSecurityEvent(SECURITY_EVENTS.PRIVILEGE_ESCALATION, {\r\n        path,\r\n        userRole,\r\n        reason: 'Insufficient privileges'\r\n      })\r\n      return false\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  const generateSecurityReport = () => {\r\n    const last24Hours = Date.now() - 24 * 60 * 60 * 1000\r\n    \r\n    const recentEvents = state.securityEvents.filter(\r\n      e => new Date(e.timestamp).getTime() > last24Hours\r\n    )\r\n\r\n    const report = {\r\n      summary: {\r\n        totalEvents: recentEvents.length,\r\n        highSeverity: recentEvents.filter(e => e.severity === 'high').length,\r\n        mediumSeverity: recentEvents.filter(e => e.severity === 'medium').length,\r\n        blockedIPs: state.blockedIPs.size,\r\n        suspiciousActivities: state.suspiciousActivities.length\r\n      },\r\n      events: recentEvents,\r\n      topThreats: getTopThreats(recentEvents),\r\n      recommendations: generateSecurityRecommendations()\r\n    }\r\n\r\n    return report\r\n  }\r\n\r\n  const getTopThreats = (events) => {\r\n    const threatCounts = {}\r\n    events.forEach(event => {\r\n      threatCounts[event.type] = (threatCounts[event.type] || 0) + 1\r\n    })\r\n\r\n    return Object.entries(threatCounts)\r\n      .sort(([,a], [,b]) => b - a)\r\n      .slice(0, 5)\r\n      .map(([type, count]) => ({ type, count }))\r\n  }\r\n\r\n  const generateSecurityRecommendations = () => {\r\n    const recommendations = []\r\n\r\n    if (state.blockedIPs.size > 10) {\r\n      recommendations.push({\r\n        type: 'warning',\r\n        message: 'High number of blocked IPs detected. Consider reviewing firewall rules.',\r\n        priority: 'high'\r\n      })\r\n    }\r\n\r\n    if (state.suspiciousActivities.length > 5) {\r\n      recommendations.push({\r\n        type: 'alert',\r\n        message: 'Multiple suspicious activities detected. Enhanced monitoring recommended.',\r\n        priority: 'high'\r\n      })\r\n    }\r\n\r\n    return recommendations\r\n  }\r\n\r\n  const value = {\r\n    // State\r\n    securityLevel: state.securityLevel,\r\n    securityEvents: state.securityEvents,\r\n    suspiciousActivities: state.suspiciousActivities,\r\n    blockedIPs: Array.from(state.blockedIPs),\r\n    \r\n    // Functions\r\n    logSecurityEvent,\r\n    detectSuspiciousActivity,\r\n    recordLoginAttempt,\r\n    checkIPBlocked,\r\n    isAccountLocked,\r\n    getRemainingAttempts,\r\n    getLockoutTimeRemaining,\r\n    validateAdminAccess,\r\n    generateSecurityReport,\r\n    \r\n    // Constants\r\n    SECURITY_EVENTS,\r\n    ADMIN_SECURITY_LEVELS\r\n  }\r\n\r\n  return (\r\n    <AdminSecurityContext.Provider value={value}>\r\n      {children}\r\n    </AdminSecurityContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useAdminSecurity = () => {\r\n  const context = useContext(AdminSecurityContext)\r\n  if (!context) {\r\n    throw new Error('useAdminSecurity must be used within an AdminSecurityProvider')\r\n  }\r\n  return context\r\n}\r\n\r\nexport default AdminSecurityContext","import { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  Activity, User, MapPin, Clock, \r\n  Search, Download, AlertCircle,\r\n  Laptop, Smartphone, Tablet, Globe, Shield,\r\n  CheckCircle\r\n} from 'lucide-react';\r\n\r\nconst ActivityTracker = () => {\r\n  const [activities, setActivities] = useState([]);\r\n  const [filteredActivities, setFilteredActivities] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    user: '',\r\n    action: '',\r\n    resource: '',\r\n    dateRange: '7d',\r\n    status: '',\r\n    riskLevel: ''\r\n  });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [stats, setStats] = useState({});\r\n\r\n  // Mock activity data with comprehensive tracking\r\n  const mockActivities = useMemo(() => [\r\n    {\r\n      id: 1,\r\n      timestamp: new Date(Date.now() - 1000 * 60 * 30),\r\n      userId: 'admin001',\r\n      userName: 'Admin User',\r\n      action: 'bulk_delete',\r\n      resource: 'products',\r\n      resourceId: 'bulk-operation-001',\r\n      details: 'Deleted 15 products via bulk operation',\r\n      ipAddress: '192.168.1.100',\r\n      userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0.0.0',\r\n      deviceType: 'desktop',\r\n      location: 'Mumbai, India',\r\n      status: 'success',\r\n      riskLevel: 'medium',\r\n      duration: 2340,\r\n      affectedRecords: 15,\r\n      sessionId: 'sess_abc123'\r\n    },\r\n    {\r\n      id: 2,\r\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 2),\r\n      userId: 'admin002',\r\n      userName: 'Security Admin',\r\n      action: 'login_attempt',\r\n      resource: 'authentication',\r\n      resourceId: 'auth-001',\r\n      details: 'Failed login attempt - Invalid credentials',\r\n      ipAddress: '203.192.12.45',\r\n      userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 17_0 like Mac OS X) Safari/604.1',\r\n      deviceType: 'mobile',\r\n      location: 'Delhi, India',\r\n      status: 'failed',\r\n      riskLevel: 'high',\r\n      duration: 0,\r\n      affectedRecords: 0,\r\n      sessionId: null\r\n    },\r\n    {\r\n      id: 3,\r\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 4),\r\n      userId: 'admin001',\r\n      userName: 'Admin User',\r\n      action: 'export_data',\r\n      resource: 'analytics',\r\n      resourceId: 'analytics-export-001',\r\n      details: 'Exported customer analytics to PDF',\r\n      ipAddress: '192.168.1.100',\r\n      userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0.0.0',\r\n      deviceType: 'desktop',\r\n      location: 'Mumbai, India',\r\n      status: 'success',\r\n      riskLevel: 'low',\r\n      duration: 5600,\r\n      affectedRecords: 1,\r\n      sessionId: 'sess_abc123'\r\n    }\r\n  ], []);\r\n\r\n  useEffect(() => {\r\n    // Simulate API call\r\n    const loadActivities = async () => {\r\n      setIsLoading(true);\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      const extendedActivities = [];\r\n      for (let i = 0; i < 50; i++) {\r\n        const baseActivity = mockActivities[i % mockActivities.length];\r\n        extendedActivities.push({\r\n          ...baseActivity,\r\n          id: i + 1,\r\n          timestamp: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000)\r\n        });\r\n      }\r\n      \r\n      setActivities(extendedActivities.sort((a, b) => b.timestamp - a.timestamp));\r\n      setIsLoading(false);\r\n    };\r\n\r\n    loadActivities();\r\n  }, [mockActivities]);\r\n\r\n  useEffect(() => {\r\n    filterActivities();\r\n    calculateStats();\r\n  }, [activities, filters, searchTerm, filterActivities, calculateStats]);\r\n\r\n  const filterActivities = useCallback(() => {\r\n    let filtered = activities;\r\n\r\n    // Apply search filter\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(activity =>\r\n        activity.userName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        activity.action.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        activity.resource.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        activity.details.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Apply filters\r\n    Object.keys(filters).forEach(key => {\r\n      if (filters[key] && key !== 'dateRange') {\r\n        filtered = filtered.filter(activity => activity[key] === filters[key]);\r\n      }\r\n    });\r\n\r\n    // Apply date range filter\r\n    if (filters.dateRange) {\r\n      const now = new Date();\r\n      const ranges = {\r\n        '1d': 1,\r\n        '7d': 7,\r\n        '30d': 30,\r\n        '90d': 90\r\n      };\r\n      const days = ranges[filters.dateRange];\r\n      if (days) {\r\n        const cutoff = new Date(now.getTime() - days * 24 * 60 * 60 * 1000);\r\n        filtered = filtered.filter(activity => activity.timestamp >= cutoff);\r\n      }\r\n    }\r\n\r\n    setFilteredActivities(filtered);\r\n  }, [activities, filters, searchTerm]);\r\n\r\n  const calculateStats = useCallback(() => {\r\n    const total = filteredActivities.length;\r\n    const successful = filteredActivities.filter(a => a.status === 'success').length;\r\n    const failed = filteredActivities.filter(a => a.status === 'failed').length;\r\n    const highRisk = filteredActivities.filter(a => a.riskLevel === 'high').length;\r\n    \r\n    const uniqueUsers = new Set(filteredActivities.map(a => a.userId)).size;\r\n    const uniqueIPs = new Set(filteredActivities.map(a => a.ipAddress)).size;\r\n    \r\n    setStats({\r\n      total,\r\n      successful,\r\n      failed,\r\n      highRisk,\r\n      uniqueUsers,\r\n      uniqueIPs,\r\n      successRate: total > 0 ? Math.round((successful / total) * 100) : 0\r\n    });\r\n  }, [filteredActivities]);\r\n\r\n  const getDeviceIcon = (deviceType) => {\r\n    switch (deviceType) {\r\n      case 'mobile': return Smartphone;\r\n      case 'tablet': return Tablet;\r\n      default: return Laptop;\r\n    }\r\n  };\r\n\r\n  const getRiskColor = (level) => {\r\n    switch (level) {\r\n      case 'high': return 'text-red-600 bg-red-100';\r\n      case 'medium': return 'text-orange-600 bg-orange-100';\r\n      case 'low': return 'text-green-600 bg-green-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'success': return 'text-green-600 bg-green-100';\r\n      case 'failed': return 'text-red-600 bg-red-100';\r\n      case 'pending': return 'text-yellow-600 bg-yellow-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  const exportActivities = () => {\r\n    const csvData = filteredActivities.map(activity => ({\r\n      Timestamp: activity.timestamp.toISOString(),\r\n      User: activity.userName,\r\n      Action: activity.action,\r\n      Resource: activity.resource,\r\n      Status: activity.status,\r\n      'Risk Level': activity.riskLevel,\r\n      'IP Address': activity.ipAddress,\r\n      Location: activity.location,\r\n      Details: activity.details\r\n    }));\r\n\r\n    const csv = [\r\n      Object.keys(csvData[0]).join(','),\r\n      ...csvData.map(row => Object.values(row).join(','))\r\n    ].join('\\n');\r\n\r\n    const blob = new Blob([csv], { type: 'text/csv' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `activity-log-${new Date().toISOString().split('T')[0]}.csv`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Stats Overview */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Total Activities</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.total}</p>\r\n            </div>\r\n            <Activity className=\"w-8 h-8 text-blue-600\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Success Rate</p>\r\n              <p className=\"text-2xl font-bold text-green-600\">{stats.successRate}%</p>\r\n            </div>\r\n            <CheckCircle className=\"w-8 h-8 text-green-600\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">High Risk</p>\r\n              <p className=\"text-2xl font-bold text-red-600\">{stats.highRisk}</p>\r\n            </div>\r\n            <AlertCircle className=\"w-8 h-8 text-red-600\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Unique Users</p>\r\n              <p className=\"text-2xl font-bold text-purple-600\">{stats.uniqueUsers}</p>\r\n            </div>\r\n            <User className=\"w-8 h-8 text-purple-600\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Unique IPs</p>\r\n              <p className=\"text-2xl font-bold text-orange-600\">{stats.uniqueIPs}</p>\r\n            </div>\r\n            <Globe className=\"w-8 h-8 text-orange-600\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Failed</p>\r\n              <p className=\"text-2xl font-bold text-red-600\">{stats.failed}</p>\r\n            </div>\r\n            <Shield className=\"w-8 h-8 text-red-600\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n        <div className=\"flex flex-wrap gap-4 items-center justify-between\">\r\n          <div className=\"flex flex-wrap gap-4 items-center\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search activities...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n\r\n            <select\r\n              value={filters.dateRange}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, dateRange: e.target.value }))}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"1d\">Last 24 hours</option>\r\n              <option value=\"7d\">Last 7 days</option>\r\n              <option value=\"30d\">Last 30 days</option>\r\n              <option value=\"90d\">Last 90 days</option>\r\n            </select>\r\n\r\n            <select\r\n              value={filters.riskLevel}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, riskLevel: e.target.value }))}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"\">All Risk Levels</option>\r\n              <option value=\"low\">Low Risk</option>\r\n              <option value=\"medium\">Medium Risk</option>\r\n              <option value=\"high\">High Risk</option>\r\n            </select>\r\n\r\n            <select\r\n              value={filters.status}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"\">All Statuses</option>\r\n              <option value=\"success\">Success</option>\r\n              <option value=\"failed\">Failed</option>\r\n              <option value=\"pending\">Pending</option>\r\n            </select>\r\n          </div>\r\n\r\n          <button\r\n            onClick={exportActivities}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            <Download className=\"w-4 h-4\" />\r\n            Export\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Activities List */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border overflow-hidden\">\r\n        <div className=\"max-h-96 overflow-y-auto\">\r\n          {filteredActivities.map((activity) => {\r\n            const DeviceIcon = getDeviceIcon(activity.deviceType);\r\n            \r\n            return (\r\n              <motion.div\r\n                key={activity.id}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"p-4 border-b hover:bg-gray-50 transition-colors\"\r\n              >\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex items-start gap-3 flex-1\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className={`p-2 rounded-full ${getRiskColor(activity.riskLevel)}`}>\r\n                        <Activity className=\"w-4 h-4\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex-1 space-y-1\">\r\n                      <div className=\"flex items-center gap-2 flex-wrap\">\r\n                        <span className=\"font-medium text-gray-900\">\r\n                          {activity.userName}\r\n                        </span>\r\n                        <span className=\"text-gray-500\">performed</span>\r\n                        <span className=\"font-medium text-blue-600\">\r\n                          {activity.action.replace('_', ' ')}\r\n                        </span>\r\n                        <span className=\"text-gray-500\">on</span>\r\n                        <span className=\"font-medium text-gray-700\">\r\n                          {activity.resource}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        {activity.details}\r\n                      </p>\r\n\r\n                      <div className=\"flex items-center gap-4 text-sm text-gray-500\">\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <Clock className=\"w-3 h-3\" />\r\n                          {activity.timestamp.toLocaleString()}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <MapPin className=\"w-3 h-3\" />\r\n                          {activity.location}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <DeviceIcon className=\"w-3 h-3\" />\r\n                          {activity.deviceType}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <Globe className=\"w-3 h-3\" />\r\n                          {activity.ipAddress}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(activity.status)}`}>\r\n                      {activity.status}\r\n                    </span>\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${getRiskColor(activity.riskLevel)}`}>\r\n                      {activity.riskLevel} risk\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {filteredActivities.length === 0 && (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            <Activity className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\r\n            <p>No activities found matching your criteria</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActivityTracker;","import { useState, useEffect, useMemo } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  AlertTriangle, Brain, TrendingDown, TrendingUp, \r\n  Eye, Shield, Zap, Clock, Users,\r\n  DollarSign, RefreshCw,\r\n  CheckCircle, XCircle, Filter\r\n} from 'lucide-react';\r\n\r\nconst AnomalyDetection = () => {\r\n  const [anomalies, setAnomalies] = useState([]);\r\n  const [isScanning, setIsScanning] = useState(false);\r\n  const [settings] = useState({\r\n    sensitivity: 'medium',\r\n    autoScan: true,\r\n    notifications: true,\r\n    categories: ['security', 'performance', 'business', 'user_behavior']\r\n  });\r\n  const [filters, setFilters] = useState({\r\n    severity: 'all',\r\n    category: 'all',\r\n    status: 'all',\r\n    timeRange: '24h'\r\n  });\r\n\r\n  const severityConfig = {\r\n    critical: { color: 'red', bg: 'bg-red-100', text: 'text-red-800', icon: AlertTriangle },\r\n    high: { color: 'orange', bg: 'bg-orange-100', text: 'text-orange-800', icon: TrendingDown },\r\n    medium: { color: 'yellow', bg: 'bg-yellow-100', text: 'text-yellow-800', icon: Eye },\r\n    low: { color: 'blue', bg: 'bg-blue-100', text: 'text-blue-800', icon: TrendingUp }\r\n  };\r\n\r\n  const categoryConfig = {\r\n    security: { icon: Shield, color: 'text-red-600', label: 'Security' },\r\n    performance: { icon: Zap, color: 'text-orange-600', label: 'Performance' },\r\n    business: { icon: DollarSign, color: 'text-green-600', label: 'Business' },\r\n    user_behavior: { icon: Users, color: 'text-purple-600', label: 'User Behavior' }\r\n  };\r\n\r\n  // Mock anomaly data\r\n  const mockAnomalies = useMemo(() => [\r\n    {\r\n      id: 1,\r\n      title: 'Unusual Login Pattern Detected',\r\n      description: 'Multiple failed login attempts from IP 203.192.12.45 in Delhi',\r\n      category: 'security',\r\n      severity: 'critical',\r\n      timestamp: new Date(Date.now() - 1000 * 60 * 30),\r\n      status: 'active',\r\n      confidence: 95,\r\n      affectedMetric: 'Failed Login Attempts',\r\n      expectedValue: 2,\r\n      actualValue: 47,\r\n      impact: 'High security risk - potential brute force attack',\r\n      recommendation: 'Block IP address and enable additional security measures',\r\n      autoActions: ['IP blocked temporarily', 'Security team notified']\r\n    },\r\n    {\r\n      id: 2,\r\n      title: 'Revenue Drop Anomaly',\r\n      description: 'Significant decrease in revenue compared to historical patterns',\r\n      category: 'business',\r\n      severity: 'high',\r\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 2),\r\n      status: 'investigating',\r\n      confidence: 87,\r\n      affectedMetric: 'Daily Revenue',\r\n      expectedValue: 245000,\r\n      actualValue: 156000,\r\n      impact: '36% revenue decrease - immediate attention required',\r\n      recommendation: 'Review marketing campaigns and product availability',\r\n      autoActions: ['Marketing team alerted', 'Inventory check initiated']\r\n    },\r\n    {\r\n      id: 3,\r\n      title: 'Unusual Product View Spike',\r\n      description: 'Leather goods category showing 340% increase in views',\r\n      category: 'user_behavior',\r\n      severity: 'medium',\r\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 4),\r\n      status: 'resolved',\r\n      confidence: 78,\r\n      affectedMetric: 'Product Views',\r\n      expectedValue: 1200,\r\n      actualValue: 5280,\r\n      impact: 'Positive anomaly - potential viral trend or marketing success',\r\n      recommendation: 'Increase inventory and capitalize on trend',\r\n      autoActions: ['Inventory team notified', 'Marketing analysis queued']\r\n    },\r\n    {\r\n      id: 4,\r\n      title: 'Page Load Time Increase',\r\n      description: 'Website performance degradation detected across multiple pages',\r\n      category: 'performance',\r\n      severity: 'medium',\r\n      timestamp: new Date(Date.now() - 1000 * 60 * 60 * 6),\r\n      status: 'active',\r\n      confidence: 82,\r\n      affectedMetric: 'Average Load Time',\r\n      expectedValue: 1.2,\r\n      actualValue: 3.8,\r\n      impact: 'User experience impact - potential bounce rate increase',\r\n      recommendation: 'Check server resources and optimize critical resources',\r\n      autoActions: ['DevOps team notified', 'Performance monitoring increased']\r\n    }\r\n  ], []);\r\n\r\n  useEffect(() => {\r\n    // Initialize with mock data\r\n    setAnomalies(mockAnomalies);\r\n    \r\n    // Set up auto-scanning if enabled\r\n    if (settings.autoScan && mockAnomalies) {\r\n      const interval = setInterval(() => {\r\n        performAnomalyDetection();\r\n      }, 60000); // Scan every minute\r\n      \r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [settings.autoScan, mockAnomalies]);\r\n\r\n  const performAnomalyDetection = async () => {\r\n    setIsScanning(true);\r\n    \r\n    // Simulate AI-powered anomaly detection\r\n    await new Promise(resolve => setTimeout(resolve, 2000));\r\n    \r\n    // Randomly generate new anomalies for demo\r\n    if (Math.random() > 0.7) {\r\n      const newAnomaly = {\r\n        id: Date.now(),\r\n        title: 'New Anomaly Detected',\r\n        description: 'AI detected unusual pattern in system metrics',\r\n        category: ['security', 'performance', 'business', 'user_behavior'][Math.floor(Math.random() * 4)],\r\n        severity: ['low', 'medium', 'high', 'critical'][Math.floor(Math.random() * 4)],\r\n        timestamp: new Date(),\r\n        status: 'active',\r\n        confidence: Math.floor(Math.random() * 30) + 70,\r\n        affectedMetric: 'System Metric',\r\n        expectedValue: 100,\r\n        actualValue: 150,\r\n        impact: 'Requires investigation',\r\n        recommendation: 'Review and analyze pattern',\r\n        autoActions: ['Team notified']\r\n      };\r\n      \r\n      setAnomalies(prev => [newAnomaly, ...prev]);\r\n    }\r\n    \r\n    setIsScanning(false);\r\n  };\r\n\r\n  const filteredAnomalies = anomalies.filter(anomaly => {\r\n    if (filters.severity !== 'all' && anomaly.severity !== filters.severity) return false;\r\n    if (filters.category !== 'all' && anomaly.category !== filters.category) return false;\r\n    if (filters.status !== 'all' && anomaly.status !== filters.status) return false;\r\n    \r\n    // Time range filter\r\n    const now = new Date();\r\n    const anomalyTime = new Date(anomaly.timestamp);\r\n    const hoursDiff = (now - anomalyTime) / (1000 * 60 * 60);\r\n    \r\n    if (filters.timeRange === '1h' && hoursDiff > 1) return false;\r\n    if (filters.timeRange === '24h' && hoursDiff > 24) return false;\r\n    if (filters.timeRange === '7d' && hoursDiff > 168) return false;\r\n    \r\n    return true;\r\n  });\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'active': return <AlertTriangle className=\"w-4 h-4 text-red-600\" />;\r\n      case 'investigating': return <Eye className=\"w-4 h-4 text-orange-600\" />;\r\n      case 'resolved': return <CheckCircle className=\"w-4 h-4 text-green-600\" />;\r\n      default: return <XCircle className=\"w-4 h-4 text-gray-600\" />;\r\n    }\r\n  };\r\n\r\n  const updateAnomalyStatus = (id, newStatus) => {\r\n    setAnomalies(prev => prev.map(anomaly => \r\n      anomaly.id === id ? { ...anomaly, status: newStatus } : anomaly\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Brain className=\"w-8 h-8 text-purple-600\" />\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">AI Anomaly Detection</h2>\r\n            <p className=\"text-gray-600\">Intelligent monitoring and threat detection</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={performAnomalyDetection}\r\n            disabled={isScanning}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50\"\r\n          >\r\n            <RefreshCw className={`w-4 h-4 ${isScanning ? 'animate-spin' : ''}`} />\r\n            {isScanning ? 'Scanning...' : 'Scan Now'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Overview */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n        {Object.entries(severityConfig).map(([severity, config]) => {\r\n          const count = filteredAnomalies.filter(a => a.severity === severity).length;\r\n          const Icon = config.icon;\r\n          \r\n          return (\r\n            <motion.div\r\n              key={severity}\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"bg-white p-4 rounded-lg shadow-sm border\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600 capitalize\">{severity}</p>\r\n                  <p className=\"text-2xl font-bold text-gray-900\">{count}</p>\r\n                </div>\r\n                <Icon className={`w-6 h-6 text-${config.color}-600`} />\r\n              </div>\r\n            </motion.div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\r\n        <div className=\"flex flex-wrap items-center gap-4\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Filter className=\"w-4 h-4 text-gray-500\" />\r\n            <span className=\"text-sm font-medium text-gray-700\">Filters:</span>\r\n          </div>\r\n          \r\n          <select\r\n            value={filters.severity}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, severity: e.target.value }))}\r\n            className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\r\n          >\r\n            <option value=\"all\">All Severities</option>\r\n            <option value=\"critical\">Critical</option>\r\n            <option value=\"high\">High</option>\r\n            <option value=\"medium\">Medium</option>\r\n            <option value=\"low\">Low</option>\r\n          </select>\r\n\r\n          <select\r\n            value={filters.category}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, category: e.target.value }))}\r\n            className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\r\n          >\r\n            <option value=\"all\">All Categories</option>\r\n            {Object.entries(categoryConfig).map(([key, config]) => (\r\n              <option key={key} value={key}>{config.label}</option>\r\n            ))}\r\n          </select>\r\n\r\n          <select\r\n            value={filters.status}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\r\n            className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\r\n          >\r\n            <option value=\"all\">All Statuses</option>\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"investigating\">Investigating</option>\r\n            <option value=\"resolved\">Resolved</option>\r\n          </select>\r\n\r\n          <select\r\n            value={filters.timeRange}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, timeRange: e.target.value }))}\r\n            className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500\"\r\n          >\r\n            <option value=\"1h\">Last Hour</option>\r\n            <option value=\"24h\">Last 24 Hours</option>\r\n            <option value=\"7d\">Last 7 Days</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Anomalies List */}\r\n      <div className=\"space-y-4\">\r\n        <AnimatePresence>\r\n          {filteredAnomalies.map((anomaly) => {\r\n            const severityConfig_item = severityConfig[anomaly.severity];\r\n            const categoryConfig_item = categoryConfig[anomaly.category];\r\n            const CategoryIcon = categoryConfig_item.icon;\r\n            \r\n            return (\r\n              <motion.div\r\n                key={anomaly.id}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                className=\"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow\"\r\n              >\r\n                <div className=\"p-6\">\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex items-start gap-4\">\r\n                      <div className={`p-2 rounded-lg ${severityConfig_item.bg}`}>\r\n                        <CategoryIcon className={`w-5 h-5 ${categoryConfig_item.color}`} />\r\n                      </div>\r\n                      \r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-3 mb-2\">\r\n                          <h3 className=\"font-semibold text-gray-900\">{anomaly.title}</h3>\r\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${severityConfig_item.bg} ${severityConfig_item.text}`}>\r\n                            {anomaly.severity.toUpperCase()}\r\n                          </span>\r\n                          <span className=\"text-xs text-gray-500\">\r\n                            {anomaly.confidence}% confidence\r\n                          </span>\r\n                        </div>\r\n                        \r\n                        <p className=\"text-gray-600 mb-3\">{anomaly.description}</p>\r\n                        \r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                          <div className=\"space-y-2\">\r\n                            <div className=\"flex justify-between text-sm\">\r\n                              <span className=\"text-gray-500\">Expected:</span>\r\n                              <span className=\"font-medium\">{anomaly.expectedValue.toLocaleString()}</span>\r\n                            </div>\r\n                            <div className=\"flex justify-between text-sm\">\r\n                              <span className=\"text-gray-500\">Actual:</span>\r\n                              <span className={`font-medium ${\r\n                                anomaly.actualValue > anomaly.expectedValue ? 'text-red-600' : 'text-green-600'\r\n                              }`}>\r\n                                {anomaly.actualValue.toLocaleString()}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          <div className=\"space-y-2\">\r\n                            <div className=\"text-sm\">\r\n                              <span className=\"text-gray-500\">Impact:</span>\r\n                              <p className=\"font-medium text-gray-900\">{anomaly.impact}</p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"bg-gray-50 rounded-lg p-3 mb-4\">\r\n                          <h4 className=\"text-sm font-medium text-gray-900 mb-2\">AI Recommendation:</h4>\r\n                          <p className=\"text-sm text-gray-700\">{anomaly.recommendation}</p>\r\n                        </div>\r\n                        \r\n                        {anomaly.autoActions.length > 0 && (\r\n                          <div className=\"mb-4\">\r\n                            <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Auto Actions Taken:</h4>\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                              {anomaly.autoActions.map((action, index) => (\r\n                                <span key={index} className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">\r\n                                  {action}\r\n                                </span>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center gap-2\">\r\n                      {getStatusIcon(anomaly.status)}\r\n                      <span className=\"text-sm text-gray-500\">\r\n                        {anomaly.timestamp.toLocaleTimeString()}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center justify-between pt-4 border-t border-gray-200\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Clock className=\"w-4 h-4 text-gray-400\" />\r\n                      <span className=\"text-sm text-gray-500\">\r\n                        {anomaly.timestamp.toLocaleDateString()} {anomaly.timestamp.toLocaleTimeString()}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center gap-2\">\r\n                      {anomaly.status === 'active' && (\r\n                        <button\r\n                          onClick={() => updateAnomalyStatus(anomaly.id, 'investigating')}\r\n                          className=\"px-3 py-1.5 bg-orange-600 text-white text-sm rounded-lg hover:bg-orange-700 transition-colors\"\r\n                        >\r\n                          Investigate\r\n                        </button>\r\n                      )}\r\n                      {anomaly.status === 'investigating' && (\r\n                        <button\r\n                          onClick={() => updateAnomalyStatus(anomaly.id, 'resolved')}\r\n                          className=\"px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors\"\r\n                        >\r\n                          Mark Resolved\r\n                        </button>\r\n                      )}\r\n                      <button className=\"px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 transition-colors\">\r\n                        View Details\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            );\r\n          })}\r\n        </AnimatePresence>\r\n        \r\n        {filteredAnomalies.length === 0 && (\r\n          <div className=\"bg-white rounded-lg shadow-sm border p-8 text-center\">\r\n            <Brain className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Anomalies Detected</h3>\r\n            <p className=\"text-gray-600\">\r\n              {isScanning ? 'Scanning for anomalies...' : 'Your system is running normally'}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnomalyDetection;","import { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Plus, Trash2, Edit3, BarChart3, PieChart, \r\n  LineChart, TrendingUp, Users, Package,\r\n  Settings, Save, Download,\r\n  Grid, Layout, Palette, Monitor, Smartphone, Tablet\r\n} from 'lucide-react';\r\n\r\nconst CustomDashboardBuilder = () => {\r\n  const [dashboards, setDashboards] = useState([\r\n    {\r\n      id: 1,\r\n      name: 'Executive Summary',\r\n      description: 'High-level KPIs for executive team',\r\n      widgets: [\r\n        { id: 1, type: 'metric', title: 'Total Revenue', position: { x: 0, y: 0, w: 3, h: 2 } },\r\n        { id: 2, type: 'chart', title: 'Sales Trend', position: { x: 3, y: 0, w: 6, h: 4 } },\r\n        { id: 3, type: 'metric', title: 'Active Users', position: { x: 9, y: 0, w: 3, h: 2 } }\r\n      ],\r\n      layout: '12-column',\r\n      theme: 'light',\r\n      isDefault: true\r\n    }\r\n  ]);\r\n  \r\n  const [selectedDashboard, setSelectedDashboard] = useState(dashboards[0]);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [showWidgetLibrary, setShowWidgetLibrary] = useState(false);\r\n  const [previewDevice, setPreviewDevice] = useState('desktop');\r\n\r\n  const widgetTypes = [\r\n    {\r\n      id: 'metric',\r\n      name: 'Metric Card',\r\n      icon: TrendingUp,\r\n      description: 'Display single KPI value with trend',\r\n      defaultSize: { w: 3, h: 2 },\r\n      configurable: ['title', 'metric', 'format', 'color']\r\n    },\r\n    {\r\n      id: 'chart',\r\n      name: 'Line Chart',\r\n      icon: LineChart,\r\n      description: 'Time series data visualization',\r\n      defaultSize: { w: 6, h: 4 },\r\n      configurable: ['title', 'data_source', 'time_range', 'metrics']\r\n    },\r\n    {\r\n      id: 'bar_chart',\r\n      name: 'Bar Chart',\r\n      icon: BarChart3,\r\n      description: 'Compare categories or periods',\r\n      defaultSize: { w: 6, h: 4 },\r\n      configurable: ['title', 'data_source', 'grouping', 'metrics']\r\n    },\r\n    {\r\n      id: 'pie_chart',\r\n      name: 'Pie Chart',\r\n      icon: PieChart,\r\n      description: 'Show proportions and percentages',\r\n      defaultSize: { w: 4, h: 4 },\r\n      configurable: ['title', 'data_source', 'category', 'value']\r\n    },\r\n    {\r\n      id: 'user_list',\r\n      name: 'User Activity',\r\n      icon: Users,\r\n      description: 'Recent user activities and stats',\r\n      defaultSize: { w: 4, h: 6 },\r\n      configurable: ['title', 'user_filter', 'activity_type', 'limit']\r\n    },\r\n    {\r\n      id: 'product_grid',\r\n      name: 'Product Grid',\r\n      icon: Package,\r\n      description: 'Top products by various metrics',\r\n      defaultSize: { w: 8, h: 6 },\r\n      configurable: ['title', 'sort_by', 'category_filter', 'limit']\r\n    }\r\n  ];\r\n\r\n  const themes = [\r\n    { id: 'light', name: 'Light', colors: { bg: '#ffffff', text: '#374151', accent: '#3b82f6' } },\r\n    { id: 'dark', name: 'Dark', colors: { bg: '#1f2937', text: '#f9fafb', accent: '#60a5fa' } },\r\n    { id: 'professional', name: 'Professional', colors: { bg: '#f8fafc', text: '#1e293b', accent: '#0f172a' } },\r\n    { id: 'colorful', name: 'Colorful', colors: { bg: '#fef3c7', text: '#92400e', accent: '#f59e0b' } }\r\n  ];\r\n\r\n  const devices = [\r\n    { id: 'desktop', name: 'Desktop', icon: Monitor, width: '100%' },\r\n    { id: 'tablet', name: 'Tablet', icon: Tablet, width: '768px' },\r\n    { id: 'mobile', name: 'Mobile', icon: Smartphone, width: '375px' }\r\n  ];\r\n\r\n  const createNewDashboard = () => {\r\n    const newDashboard = {\r\n      id: Date.now(),\r\n      name: `Dashboard ${dashboards.length + 1}`,\r\n      description: 'Custom dashboard',\r\n      widgets: [],\r\n      layout: '12-column',\r\n      theme: 'light',\r\n      isDefault: false\r\n    };\r\n    \r\n    setDashboards(prev => [...prev, newDashboard]);\r\n    setSelectedDashboard(newDashboard);\r\n    setEditMode(true);\r\n  };\r\n\r\n  const addWidget = (widgetType) => {\r\n    const newWidget = {\r\n      id: Date.now(),\r\n      type: widgetType.id,\r\n      title: widgetType.name,\r\n      position: { \r\n        x: 0, \r\n        y: Math.max(...selectedDashboard.widgets.map(w => w.position.y + w.position.h), 0),\r\n        ...widgetType.defaultSize \r\n      },\r\n      config: {}\r\n    };\r\n\r\n    setSelectedDashboard(prev => ({\r\n      ...prev,\r\n      widgets: [...prev.widgets, newWidget]\r\n    }));\r\n\r\n    setDashboards(prev => prev.map(d => \r\n      d.id === selectedDashboard.id \r\n        ? { ...d, widgets: [...d.widgets, newWidget] }\r\n        : d\r\n    ));\r\n\r\n    setShowWidgetLibrary(false);\r\n  };\r\n\r\n  const removeWidget = (widgetId) => {\r\n    setSelectedDashboard(prev => ({\r\n      ...prev,\r\n      widgets: prev.widgets.filter(w => w.id !== widgetId)\r\n    }));\r\n\r\n    setDashboards(prev => prev.map(d => \r\n      d.id === selectedDashboard.id \r\n        ? { ...d, widgets: d.widgets.filter(w => w.id !== widgetId) }\r\n        : d\r\n    ));\r\n  };\r\n\r\n  const saveDashboard = () => {\r\n    // In real app, this would save to backend\r\n    console.log('Saving dashboard:', selectedDashboard);\r\n    setEditMode(false);\r\n  };\r\n\r\n  const exportDashboard = () => {\r\n    const exportData = {\r\n      ...selectedDashboard,\r\n      exportDate: new Date().toISOString(),\r\n      version: '1.0'\r\n    };\r\n\r\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `dashboard-${selectedDashboard.name.toLowerCase().replace(/\\s+/g, '-')}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const renderWidget = (widget) => {\r\n    const widgetType = widgetTypes.find(t => t.id === widget.type);\r\n    const Icon = widgetType?.icon || Package;\r\n\r\n    return (\r\n      <motion.div\r\n        key={widget.id}\r\n        className={`bg-white rounded-lg border shadow-sm relative group ${\r\n          editMode ? 'cursor-move' : ''\r\n        }`}\r\n        style={{\r\n          gridColumn: `${widget.position.x + 1} / span ${widget.position.w}`,\r\n          gridRow: `${widget.position.y + 1} / span ${widget.position.h}`,\r\n          minHeight: `${widget.position.h * 80}px`\r\n        }}\r\n        whileHover={editMode ? { scale: 1.02 } : {}}\r\n      >\r\n        {/* Widget Header */}\r\n        <div className=\"flex items-center justify-between p-4 border-b\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Icon className=\"w-4 h-4 text-gray-600\" />\r\n            <h3 className=\"font-medium text-gray-900\">{widget.title}</h3>\r\n          </div>\r\n          \r\n          {editMode && (\r\n            <div className=\"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1\">\r\n              <button\r\n                onClick={() => {/* Open widget config */}}\r\n                className=\"p-1.5 hover:bg-gray-100 rounded transition-colors\"\r\n              >\r\n                <Settings className=\"w-4 h-4 text-gray-600\" />\r\n              </button>\r\n              <button\r\n                onClick={() => removeWidget(widget.id)}\r\n                className=\"p-1.5 hover:bg-red-100 rounded transition-colors\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Widget Content */}\r\n        <div className=\"p-4\">\r\n          {widget.type === 'metric' && (\r\n            <div className=\"text-center\">\r\n              <div className=\"text-3xl font-bold text-gray-900 mb-2\">₹2.4M</div>\r\n              <div className=\"text-sm text-green-600 flex items-center justify-center gap-1\">\r\n                <TrendingUp className=\"w-4 h-4\" />\r\n                +15.2%\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {widget.type === 'chart' && (\r\n            <div className=\"h-32 bg-gradient-to-r from-blue-50 to-purple-50 rounded flex items-center justify-center\">\r\n              <LineChart className=\"w-8 h-8 text-blue-600\" />\r\n              <span className=\"ml-2 text-blue-600\">Chart Visualization</span>\r\n            </div>\r\n          )}\r\n          \r\n          {widget.type === 'bar_chart' && (\r\n            <div className=\"h-32 bg-gradient-to-r from-green-50 to-blue-50 rounded flex items-center justify-center\">\r\n              <BarChart3 className=\"w-8 h-8 text-green-600\" />\r\n              <span className=\"ml-2 text-green-600\">Bar Chart</span>\r\n            </div>\r\n          )}\r\n          \r\n          {widget.type === 'pie_chart' && (\r\n            <div className=\"h-32 bg-gradient-to-r from-purple-50 to-pink-50 rounded flex items-center justify-center\">\r\n              <PieChart className=\"w-8 h-8 text-purple-600\" />\r\n              <span className=\"ml-2 text-purple-600\">Pie Chart</span>\r\n            </div>\r\n          )}\r\n          \r\n          {widget.type === 'user_list' && (\r\n            <div className=\"space-y-2\">\r\n              {[1, 2, 3].map(i => (\r\n                <div key={i} className=\"flex items-center gap-3 p-2 bg-gray-50 rounded\">\r\n                  <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\r\n                    U{i}\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"text-sm font-medium\">User {i}</div>\r\n                    <div className=\"text-xs text-gray-500\">Online 2m ago</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n          \r\n          {widget.type === 'product_grid' && (\r\n            <div className=\"grid grid-cols-2 gap-2\">\r\n              {[1, 2, 3, 4].map(i => (\r\n                <div key={i} className=\"bg-gray-50 rounded p-2 text-center\">\r\n                  <Package className=\"w-6 h-6 text-gray-600 mx-auto mb-1\" />\r\n                  <div className=\"text-xs font-medium\">Product {i}</div>\r\n                  <div className=\"text-xs text-gray-500\">₹{(i * 1000).toLocaleString()}</div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </motion.div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Custom Dashboard Builder</h2>\r\n          <p className=\"text-gray-600\">Create personalized dashboards with drag-and-drop widgets</p>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={() => setPreviewDevice(previewDevice === 'desktop' ? 'tablet' : previewDevice === 'tablet' ? 'mobile' : 'desktop')}\r\n            className=\"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n          >\r\n            {(() => {\r\n              const DeviceIcon = devices.find(d => d.id === previewDevice)?.icon;\r\n              return DeviceIcon ? <DeviceIcon className=\"w-4 h-4\" /> : null;\r\n            })()}\r\n            {devices.find(d => d.id === previewDevice)?.name}\r\n          </button>\r\n          \r\n          {editMode ? (\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => setEditMode(false)}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={saveDashboard}\r\n                className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                <Save className=\"w-4 h-4\" />\r\n                Save\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={exportDashboard}\r\n                className=\"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n              >\r\n                <Download className=\"w-4 h-4\" />\r\n                Export\r\n              </button>\r\n              <button\r\n                onClick={() => setEditMode(true)}\r\n                className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                <Edit3 className=\"w-4 h-4\" />\r\n                Edit\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Dashboard Selector */}\r\n      <div className=\"flex items-center gap-4 overflow-x-auto pb-2\">\r\n        {dashboards.map(dashboard => (\r\n          <button\r\n            key={dashboard.id}\r\n            onClick={() => setSelectedDashboard(dashboard)}\r\n            className={`flex-shrink-0 px-4 py-2 rounded-lg font-medium transition-colors ${\r\n              selectedDashboard.id === dashboard.id\r\n                ? 'bg-blue-100 text-blue-700 border-2 border-blue-200'\r\n                : 'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'\r\n            }`}\r\n          >\r\n            {dashboard.name}\r\n            {dashboard.isDefault && (\r\n              <span className=\"ml-2 text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded\">\r\n                Default\r\n              </span>\r\n            )}\r\n          </button>\r\n        ))}\r\n        \r\n        <button\r\n          onClick={createNewDashboard}\r\n          className=\"flex-shrink-0 flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-colors\"\r\n        >\r\n          <Plus className=\"w-4 h-4\" />\r\n          New Dashboard\r\n        </button>\r\n      </div>\r\n\r\n      {/* Edit Mode Controls */}\r\n      {editMode && (\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <button\r\n                onClick={() => setShowWidgetLibrary(true)}\r\n                className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                <Plus className=\"w-4 h-4\" />\r\n                Add Widget\r\n              </button>\r\n              \r\n              <div className=\"flex items-center gap-2\">\r\n                <Palette className=\"w-4 h-4 text-gray-600\" />\r\n                <select\r\n                  value={selectedDashboard.theme}\r\n                  onChange={(e) => {\r\n                    setSelectedDashboard(prev => ({ ...prev, theme: e.target.value }));\r\n                    setDashboards(prev => prev.map(d => \r\n                      d.id === selectedDashboard.id ? { ...d, theme: e.target.value } : d\r\n                    ));\r\n                  }}\r\n                  className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  {themes.map(theme => (\r\n                    <option key={theme.id} value={theme.id}>{theme.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"text-sm text-blue-700\">\r\n              <Grid className=\"w-4 h-4 inline mr-1\" />\r\n              Drag widgets to rearrange • Click settings to configure\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Dashboard Preview */}\r\n      <div className=\"bg-white rounded-lg border shadow-sm overflow-hidden\">\r\n        <div \r\n          className=\"mx-auto transition-all duration-300\"\r\n          style={{ \r\n            width: devices.find(d => d.id === previewDevice)?.width,\r\n            minHeight: '600px'\r\n          }}\r\n        >\r\n          <div \r\n            className=\"grid gap-4 p-6\"\r\n            style={{ \r\n              gridTemplateColumns: 'repeat(12, 1fr)',\r\n              gridAutoRows: '80px'\r\n            }}\r\n          >\r\n            {selectedDashboard.widgets.map(renderWidget)}\r\n            \r\n            {selectedDashboard.widgets.length === 0 && (\r\n              <div className=\"col-span-12 row-span-6 flex items-center justify-center bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\r\n                <div className=\"text-center\">\r\n                  <Layout className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Empty Dashboard</h3>\r\n                  <p className=\"text-gray-600 mb-4\">Start building your dashboard by adding widgets</p>\r\n                  {editMode && (\r\n                    <button\r\n                      onClick={() => setShowWidgetLibrary(true)}\r\n                      className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n                    >\r\n                      <Plus className=\"w-4 h-4\" />\r\n                      Add Your First Widget\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Widget Library Modal */}\r\n      <AnimatePresence>\r\n        {showWidgetLibrary && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\r\n          >\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n              className=\"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h3 className=\"text-xl font-semibold text-gray-900\">Widget Library</h3>\r\n                <button\r\n                  onClick={() => setShowWidgetLibrary(false)}\r\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {widgetTypes.map(widget => {\r\n                  const Icon = widget.icon;\r\n                  \r\n                  return (\r\n                    <motion.button\r\n                      key={widget.id}\r\n                      onClick={() => addWidget(widget)}\r\n                      className=\"p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-left\"\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                    >\r\n                      <div className=\"flex items-center gap-3 mb-3\">\r\n                        <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                          <Icon className=\"w-5 h-5 text-blue-600\" />\r\n                        </div>\r\n                        <h4 className=\"font-medium text-gray-900\">{widget.name}</h4>\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-600 mb-3\">{widget.description}</p>\r\n                      <div className=\"flex flex-wrap gap-1\">\r\n                        {widget.configurable.map(config => (\r\n                          <span key={config} className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded\">\r\n                            {config.replace('_', ' ')}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    </motion.button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomDashboardBuilder;","import { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Sun, Moon, Monitor, Palette, Settings, \r\n  Download, Upload, Save,\r\n  Check, Copy, Smartphone, Tablet\r\n} from 'lucide-react';\r\n\r\nconst ThemeManager = () => {\r\n  const [currentTheme, setCurrentTheme] = useState('light');\r\n  const [customThemes, setCustomThemes] = useState([]);\r\n  const [isCreating, setIsCreating] = useState(false);\r\n  const [selectedDevice, setSelectedDevice] = useState('desktop');\r\n  \r\n  const [themeEditor, setThemeEditor] = useState({\r\n    name: '',\r\n    colors: {\r\n      primary: '#3b82f6',\r\n      secondary: '#64748b',\r\n      background: '#ffffff',\r\n      surface: '#f8fafc',\r\n      text: '#1e293b',\r\n      textSecondary: '#64748b',\r\n      border: '#e2e8f0',\r\n      success: '#10b981',\r\n      warning: '#f59e0b',\r\n      error: '#ef4444'\r\n    },\r\n    typography: {\r\n      fontFamily: 'Inter',\r\n      fontSize: 14,\r\n      fontWeight: 400,\r\n      lineHeight: 1.5\r\n    },\r\n    spacing: {\r\n      unit: 8,\r\n      container: 1200\r\n    },\r\n    borderRadius: {\r\n      sm: 4,\r\n      md: 8,\r\n      lg: 12,\r\n      xl: 16\r\n    },\r\n    shadows: {\r\n      sm: '0 1px 2px 0 rgb(0 0 0 / 0.05)',\r\n      md: '0 4px 6px -1px rgb(0 0 0 / 0.1)',\r\n      lg: '0 10px 15px -3px rgb(0 0 0 / 0.1)'\r\n    }\r\n  });\r\n\r\n  const builtInThemes = useMemo(() => [\r\n    {\r\n      id: 'light',\r\n      name: 'Light',\r\n      icon: Sun,\r\n      colors: {\r\n        primary: '#3b82f6',\r\n        secondary: '#64748b',\r\n        background: '#ffffff',\r\n        surface: '#f8fafc',\r\n        text: '#1e293b',\r\n        textSecondary: '#64748b',\r\n        border: '#e2e8f0',\r\n        success: '#10b981',\r\n        warning: '#f59e0b',\r\n        error: '#ef4444'\r\n      }\r\n    },\r\n    {\r\n      id: 'dark',\r\n      name: 'Dark',\r\n      icon: Moon,\r\n      colors: {\r\n        primary: '#60a5fa',\r\n        secondary: '#94a3b8',\r\n        background: '#0f172a',\r\n        surface: '#1e293b',\r\n        text: '#f1f5f9',\r\n        textSecondary: '#94a3b8',\r\n        border: '#334155',\r\n        success: '#34d399',\r\n        warning: '#fbbf24',\r\n        error: '#f87171'\r\n      }\r\n    },\r\n    {\r\n      id: 'system',\r\n      name: 'System',\r\n      icon: Monitor,\r\n      colors: {\r\n        primary: '#6366f1',\r\n        secondary: '#6b7280',\r\n        background: '#ffffff',\r\n        surface: '#f9fafb',\r\n        text: '#111827',\r\n        textSecondary: '#6b7280',\r\n        border: '#d1d5db',\r\n        success: '#059669',\r\n        warning: '#d97706',\r\n        error: '#dc2626'\r\n      }\r\n    }\r\n  ], []);\r\n\r\n  const colorPresets = [\r\n    { name: 'Blue', primary: '#3b82f6', secondary: '#1e40af' },\r\n    { name: 'Purple', primary: '#8b5cf6', secondary: '#7c3aed' },\r\n    { name: 'Green', primary: '#10b981', secondary: '#059669' },\r\n    { name: 'Orange', primary: '#f59e0b', secondary: '#d97706' },\r\n    { name: 'Red', primary: '#ef4444', secondary: '#dc2626' },\r\n    { name: 'Pink', primary: '#ec4899', secondary: '#db2777' },\r\n    { name: 'Indigo', primary: '#6366f1', secondary: '#4f46e5' },\r\n    { name: 'Teal', primary: '#14b8a6', secondary: '#0d9488' }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // Load saved theme from localStorage\r\n    const savedTheme = localStorage.getItem('ivolex-theme');\r\n    if (savedTheme) {\r\n      setCurrentTheme(savedTheme);\r\n      applyTheme(savedTheme);\r\n    } else {\r\n      // Detect system preference\r\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n      const initialTheme = prefersDark ? 'dark' : 'light';\r\n      setCurrentTheme(initialTheme);\r\n      applyTheme(initialTheme);\r\n    }\r\n\r\n    // Load custom themes\r\n    const savedCustomThemes = localStorage.getItem('ivolex-custom-themes');\r\n    if (savedCustomThemes) {\r\n      setCustomThemes(JSON.parse(savedCustomThemes));\r\n    }\r\n  }, [applyTheme]);\r\n\r\n  const applyTheme = useCallback((themeId) => {\r\n    const theme = [...builtInThemes, ...customThemes].find(t => t.id === themeId);\r\n    if (!theme) return;\r\n\r\n    const root = document.documentElement;\r\n    \r\n    // Apply CSS custom properties\r\n    Object.entries(theme.colors).forEach(([key, value]) => {\r\n      root.style.setProperty(`--color-${key}`, value);\r\n    });\r\n\r\n    // Apply additional theme properties if available\r\n    if (theme.typography) {\r\n      root.style.setProperty('--font-family', theme.typography.fontFamily);\r\n      root.style.setProperty('--font-size', `${theme.typography.fontSize}px`);\r\n    }\r\n\r\n    if (theme.borderRadius) {\r\n      Object.entries(theme.borderRadius).forEach(([key, value]) => {\r\n        root.style.setProperty(`--radius-${key}`, `${value}px`);\r\n      });\r\n    }\r\n\r\n    // Update body class for dark/light mode\r\n    document.body.className = document.body.className.replace(/theme-\\w+/g, '');\r\n    document.body.classList.add(`theme-${themeId}`);\r\n  }, [builtInThemes, customThemes]);\r\n\r\n  const handleThemeChange = (themeId) => {\r\n    setCurrentTheme(themeId);\r\n    applyTheme(themeId);\r\n    localStorage.setItem('ivolex-theme', themeId);\r\n  };\r\n\r\n  const createCustomTheme = () => {\r\n    if (!themeEditor.name.trim()) return;\r\n\r\n    const newTheme = {\r\n      id: `custom-${Date.now()}`,\r\n      name: themeEditor.name,\r\n      colors: { ...themeEditor.colors },\r\n      typography: { ...themeEditor.typography },\r\n      spacing: { ...themeEditor.spacing },\r\n      borderRadius: { ...themeEditor.borderRadius },\r\n      shadows: { ...themeEditor.shadows },\r\n      isCustom: true\r\n    };\r\n\r\n    const updatedCustomThemes = [...customThemes, newTheme];\r\n    setCustomThemes(updatedCustomThemes);\r\n    localStorage.setItem('ivolex-custom-themes', JSON.stringify(updatedCustomThemes));\r\n    \r\n    setIsCreating(false);\r\n    setThemeEditor({ ...themeEditor, name: '' });\r\n    handleThemeChange(newTheme.id);\r\n  };\r\n\r\n  const exportTheme = (theme) => {\r\n    const exportData = {\r\n      ...theme,\r\n      exportDate: new Date().toISOString(),\r\n      version: '1.0'\r\n    };\r\n\r\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `theme-${theme.name.toLowerCase().replace(/\\s+/g, '-')}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const importTheme = (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      try {\r\n        const importedTheme = JSON.parse(e.target.result);\r\n        const newTheme = {\r\n          ...importedTheme,\r\n          id: `imported-${Date.now()}`,\r\n          isCustom: true\r\n        };\r\n\r\n        const updatedCustomThemes = [...customThemes, newTheme];\r\n        setCustomThemes(updatedCustomThemes);\r\n        localStorage.setItem('ivolex-custom-themes', JSON.stringify(updatedCustomThemes));\r\n      } catch (error) {\r\n        console.error('Failed to import theme:', error);\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  const copyThemeCode = (theme) => {\r\n    const css = Object.entries(theme.colors)\r\n      .map(([key, value]) => `  --color-${key}: ${value};`)\r\n      .join('\\n');\r\n    \r\n    const fullCSS = `:root {\\n${css}\\n}`;\r\n    navigator.clipboard.writeText(fullCSS);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Palette className=\"w-8 h-8 text-blue-600\" />\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Theme Manager</h2>\r\n            <p className=\"text-gray-600\">Customize appearance and create custom themes</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-3\">\r\n          <label className=\"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer\">\r\n            <Upload className=\"w-4 h-4\" />\r\n            Import Theme\r\n            <input\r\n              type=\"file\"\r\n              accept=\".json\"\r\n              onChange={importTheme}\r\n              className=\"hidden\"\r\n            />\r\n          </label>\r\n          \r\n          <button\r\n            onClick={() => setIsCreating(true)}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            <Palette className=\"w-4 h-4\" />\r\n            Create Theme\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Theme Selection */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Current Theme</h3>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6\">\r\n          {builtInThemes.map((theme) => {\r\n            const Icon = theme.icon;\r\n            const isActive = currentTheme === theme.id;\r\n            \r\n            return (\r\n              <motion.button\r\n                key={theme.id}\r\n                onClick={() => handleThemeChange(theme.id)}\r\n                className={`p-4 rounded-lg border-2 transition-all text-left ${\r\n                  isActive \r\n                    ? 'border-blue-500 bg-blue-50' \r\n                    : 'border-gray-200 hover:border-gray-300 bg-white'\r\n                }`}\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n              >\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <Icon className=\"w-6 h-6 text-gray-600\" />\r\n                  {isActive && <Check className=\"w-5 h-5 text-blue-600\" />}\r\n                </div>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <h4 className=\"font-medium text-gray-900\">{theme.name}</h4>\r\n                  \r\n                  <div className=\"flex gap-1\">\r\n                    {Object.entries(theme.colors).slice(0, 4).map(([key, color]) => (\r\n                      <div\r\n                        key={key}\r\n                        className=\"w-4 h-4 rounded border border-gray-200\"\r\n                        style={{ backgroundColor: color }}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </motion.button>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Custom Themes */}\r\n        {customThemes.length > 0 && (\r\n          <div>\r\n            <h4 className=\"font-medium text-gray-900 mb-3\">Custom Themes</h4>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n              {customThemes.map((theme) => {\r\n                const isActive = currentTheme === theme.id;\r\n                \r\n                return (\r\n                  <div\r\n                    key={theme.id}\r\n                    className={`p-4 rounded-lg border-2 transition-all ${\r\n                      isActive \r\n                        ? 'border-blue-500 bg-blue-50' \r\n                        : 'border-gray-200 hover:border-gray-300 bg-white'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                      <Palette className=\"w-6 h-6 text-gray-600\" />\r\n                      <div className=\"flex items-center gap-1\">\r\n                        {isActive && <Check className=\"w-4 h-4 text-blue-600\" />}\r\n                        <button\r\n                          onClick={() => copyThemeCode(theme)}\r\n                          className=\"p-1 hover:bg-gray-200 rounded transition-colors\"\r\n                          title=\"Copy CSS\"\r\n                        >\r\n                          <Copy className=\"w-3 h-3 text-gray-500\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => exportTheme(theme)}\r\n                          className=\"p-1 hover:bg-gray-200 rounded transition-colors\"\r\n                          title=\"Export theme\"\r\n                        >\r\n                          <Download className=\"w-3 h-3 text-gray-500\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <button\r\n                      onClick={() => handleThemeChange(theme.id)}\r\n                      className=\"w-full text-left\"\r\n                    >\r\n                      <h4 className=\"font-medium text-gray-900 mb-2\">{theme.name}</h4>\r\n                      <div className=\"flex gap-1\">\r\n                        {Object.entries(theme.colors).slice(0, 4).map(([key, color]) => (\r\n                          <div\r\n                            key={key}\r\n                            className=\"w-4 h-4 rounded border border-gray-200\"\r\n                            style={{ backgroundColor: color }}\r\n                          />\r\n                        ))}\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Theme Creator Modal */}\r\n      <AnimatePresence>\r\n        {isCreating && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\r\n          >\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n              className=\"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h3 className=\"text-xl font-semibold text-gray-900\">Create Custom Theme</h3>\r\n                <button\r\n                  onClick={() => setIsCreating(false)}\r\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  ✕\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                {/* Theme Editor */}\r\n                <div className=\"space-y-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Theme Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={themeEditor.name}\r\n                      onChange={(e) => setThemeEditor(prev => ({ ...prev, name: e.target.value }))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                      placeholder=\"My Custom Theme\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                      Color Palette\r\n                    </label>\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                      {Object.entries(themeEditor.colors).map(([key, value]) => (\r\n                        <div key={key} className=\"flex items-center gap-2\">\r\n                          <input\r\n                            type=\"color\"\r\n                            value={value}\r\n                            onChange={(e) => setThemeEditor(prev => ({\r\n                              ...prev,\r\n                              colors: { ...prev.colors, [key]: e.target.value }\r\n                            }))}\r\n                            className=\"w-8 h-8 rounded border border-gray-300\"\r\n                          />\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"text-sm font-medium text-gray-900 capitalize\">\r\n                              {key.replace(/([A-Z])/g, ' $1').trim()}\r\n                            </div>\r\n                            <div className=\"text-xs text-gray-500\">{value}</div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                      Quick Presets\r\n                    </label>\r\n                    <div className=\"grid grid-cols-4 gap-2\">\r\n                      {colorPresets.map((preset) => (\r\n                        <button\r\n                          key={preset.name}\r\n                          onClick={() => setThemeEditor(prev => ({\r\n                            ...prev,\r\n                            colors: { ...prev.colors, primary: preset.primary, secondary: preset.secondary }\r\n                          }))}\r\n                          className=\"p-2 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors\"\r\n                        >\r\n                          <div\r\n                            className=\"w-full h-6 rounded mb-1\"\r\n                            style={{ backgroundColor: preset.primary }}\r\n                          />\r\n                          <div className=\"text-xs text-gray-600\">{preset.name}</div>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Preview */}\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h4 className=\"font-medium text-gray-900\">Preview</h4>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={() => setSelectedDevice('desktop')}\r\n                        className={`p-1.5 rounded ${selectedDevice === 'desktop' ? 'bg-blue-100 text-blue-600' : 'text-gray-500'}`}\r\n                      >\r\n                        <Monitor className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setSelectedDevice('tablet')}\r\n                        className={`p-1.5 rounded ${selectedDevice === 'tablet' ? 'bg-blue-100 text-blue-600' : 'text-gray-500'}`}\r\n                      >\r\n                        <Tablet className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setSelectedDevice('mobile')}\r\n                        className={`p-1.5 rounded ${selectedDevice === 'mobile' ? 'bg-blue-100 text-blue-600' : 'text-gray-500'}`}\r\n                      >\r\n                        <Smartphone className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\r\n                    <div \r\n                      className=\"p-4 space-y-4\"\r\n                      style={{\r\n                        backgroundColor: themeEditor.colors.background,\r\n                        color: themeEditor.colors.text,\r\n                        width: selectedDevice === 'mobile' ? '375px' : selectedDevice === 'tablet' ? '768px' : '100%'\r\n                      }}\r\n                    >\r\n                      {/* Preview Header */}\r\n                      <div \r\n                        className=\"p-3 rounded-lg flex items-center justify-between\"\r\n                        style={{ backgroundColor: themeEditor.colors.surface }}\r\n                      >\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div \r\n                            className=\"w-6 h-6 rounded\"\r\n                            style={{ backgroundColor: themeEditor.colors.primary }}\r\n                          />\r\n                          <span className=\"font-medium\">IVOLEX Admin</span>\r\n                        </div>\r\n                        <Settings className=\"w-4 h-4\" style={{ color: themeEditor.colors.textSecondary }} />\r\n                      </div>\r\n\r\n                      {/* Preview Cards */}\r\n                      <div className=\"grid grid-cols-2 gap-3\">\r\n                        <div \r\n                          className=\"p-3 rounded-lg\"\r\n                          style={{ backgroundColor: themeEditor.colors.surface }}\r\n                        >\r\n                          <div className=\"text-sm\" style={{ color: themeEditor.colors.textSecondary }}>\r\n                            Revenue\r\n                          </div>\r\n                          <div className=\"text-xl font-bold\">₹2.4M</div>\r\n                          <div className=\"text-sm\" style={{ color: themeEditor.colors.success }}>\r\n                            +15.2%\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div \r\n                          className=\"p-3 rounded-lg\"\r\n                          style={{ backgroundColor: themeEditor.colors.surface }}\r\n                        >\r\n                          <div className=\"text-sm\" style={{ color: themeEditor.colors.textSecondary }}>\r\n                            Orders\r\n                          </div>\r\n                          <div className=\"text-xl font-bold\">1,834</div>\r\n                          <div className=\"text-sm\" style={{ color: themeEditor.colors.success }}>\r\n                            +8.7%\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Preview Button */}\r\n                      <button \r\n                        className=\"w-full p-2 rounded-lg text-white font-medium\"\r\n                        style={{ backgroundColor: themeEditor.colors.primary }}\r\n                      >\r\n                        Primary Action\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200\">\r\n                <button\r\n                  onClick={() => setIsCreating(false)}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={createCustomTheme}\r\n                  disabled={!themeEditor.name.trim()}\r\n                  className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n                >\r\n                  <Save className=\"w-4 h-4\" />\r\n                  Create Theme\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemeManager;","import { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Globe, Plus, Edit3, Trash2, Download, \r\n  Upload, Check, X, Search, RefreshCw, Copy,\r\n  AlertCircle, CheckCircle, Languages\r\n} from 'lucide-react';\r\n\r\nconst LanguageManager = () => {\r\n  const [languages, setLanguages] = useState([\r\n    {\r\n      code: 'en',\r\n      name: 'English',\r\n      nativeName: 'English',\r\n      flag: '🇺🇸',\r\n      isDefault: true,\r\n      isActive: true,\r\n      progress: 100,\r\n      lastUpdated: '2024-01-20',\r\n      translationCount: 1247\r\n    },\r\n    {\r\n      code: 'ar',\r\n      name: 'Arabic',\r\n      nativeName: 'العربية',\r\n      flag: '🇸🇦',\r\n      isDefault: false,\r\n      isActive: true,\r\n      progress: 95,\r\n      direction: 'rtl',\r\n      lastUpdated: '2024-01-18',\r\n      translationCount: 1185\r\n    },\r\n    {\r\n      code: 'hi',\r\n      name: 'Hindi',\r\n      nativeName: 'हिन्दी',\r\n      flag: '🇮🇳',\r\n      isDefault: false,\r\n      isActive: true,\r\n      progress: 87,\r\n      lastUpdated: '2024-01-15',\r\n      translationCount: 1085\r\n    }\r\n  ]);\r\n\r\n  const [translations, setTranslations] = useState({\r\n    en: {\r\n      'common.hello': 'Hello',\r\n      'common.welcome': 'Welcome',\r\n      'common.save': 'Save',\r\n      'common.cancel': 'Cancel',\r\n      'common.delete': 'Delete',\r\n      'admin.dashboard': 'Dashboard',\r\n      'admin.products': 'Products',\r\n      'admin.orders': 'Orders',\r\n      'admin.customers': 'Customers',\r\n      'admin.settings': 'Settings'\r\n    },\r\n    ar: {\r\n      'common.hello': 'مرحبا',\r\n      'common.welcome': 'أهلا وسهلا',\r\n      'common.save': 'حفظ',\r\n      'common.cancel': 'إلغاء',\r\n      'common.delete': 'حذف',\r\n      'admin.dashboard': 'لوحة التحكم',\r\n      'admin.products': 'المنتجات',\r\n      'admin.orders': 'الطلبات',\r\n      'admin.customers': 'العملاء',\r\n      'admin.settings': 'الإعدادات'\r\n    },\r\n    hi: {\r\n      'common.hello': 'नमस्ते',\r\n      'common.welcome': 'स्वागत है',\r\n      'common.save': 'सहेजें',\r\n      'common.cancel': 'रद्द करें',\r\n      'common.delete': 'हटाएं',\r\n      'admin.dashboard': 'डैशबोर्ड',\r\n      'admin.products': 'उत्पाद',\r\n      'admin.orders': 'आदेश',\r\n      'admin.customers': 'ग्राहक',\r\n      'admin.settings': 'सेटिंग्स'\r\n    }\r\n  });\r\n\r\n  const [selectedLanguage, setSelectedLanguage] = useState('en');\r\n  const [editingKey, setEditingKey] = useState(null);\r\n  const [editValue, setEditValue] = useState('');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showAddLanguage, setShowAddLanguage] = useState(false);\r\n  const [newLanguage, setNewLanguage] = useState({\r\n    code: '',\r\n    name: '',\r\n    nativeName: '',\r\n    flag: '',\r\n    direction: 'ltr'\r\n  });\r\n\r\n  const availableLanguages = [\r\n    { code: 'es', name: 'Spanish', nativeName: 'Español', flag: '🇪🇸' },\r\n    { code: 'fr', name: 'French', nativeName: 'Français', flag: '🇫🇷' },\r\n    { code: 'de', name: 'German', nativeName: 'Deutsch', flag: '🇩🇪' },\r\n    { code: 'it', name: 'Italian', nativeName: 'Italiano', flag: '🇮🇹' },\r\n    { code: 'pt', name: 'Portuguese', nativeName: 'Português', flag: '🇵🇹' },\r\n    { code: 'ru', name: 'Russian', nativeName: 'Русский', flag: '🇷🇺' },\r\n    { code: 'ja', name: 'Japanese', nativeName: '日本語', flag: '🇯🇵' },\r\n    { code: 'ko', name: 'Korean', nativeName: '한국어', flag: '🇰🇷' },\r\n    { code: 'zh', name: 'Chinese', nativeName: '中文', flag: '🇨🇳' },\r\n    { code: 'ur', name: 'Urdu', nativeName: 'اردو', flag: '🇵🇰', direction: 'rtl' }\r\n  ];\r\n\r\n  const filteredTranslations = Object.entries(translations[selectedLanguage] || {})\r\n    .filter(([key, value]) => \r\n      key.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      value.toLowerCase().includes(searchQuery.toLowerCase())\r\n    );\r\n\r\n  const getMissingTranslations = (langCode) => {\r\n    const englishKeys = Object.keys(translations.en || {});\r\n    const langKeys = Object.keys(translations[langCode] || {});\r\n    return englishKeys.filter(key => !langKeys.includes(key));\r\n  };\r\n\r\n  const addLanguage = () => {\r\n    if (!newLanguage.code || !newLanguage.name) return;\r\n\r\n    const language = {\r\n      ...newLanguage,\r\n      isDefault: false,\r\n      isActive: true,\r\n      progress: 0,\r\n      lastUpdated: new Date().toISOString().split('T')[0],\r\n      translationCount: 0\r\n    };\r\n\r\n    setLanguages(prev => [...prev, language]);\r\n    setTranslations(prev => ({ ...prev, [newLanguage.code]: {} }));\r\n    setNewLanguage({ code: '', name: '', nativeName: '', flag: '', direction: 'ltr' });\r\n    setShowAddLanguage(false);\r\n  };\r\n\r\n  const removeLanguage = (langCode) => {\r\n    if (langCode === 'en') return; // Can't remove default language\r\n    \r\n    setLanguages(prev => prev.filter(lang => lang.code !== langCode));\r\n    setTranslations(prev => {\r\n      const updated = { ...prev };\r\n      delete updated[langCode];\r\n      return updated;\r\n    });\r\n    \r\n    if (selectedLanguage === langCode) {\r\n      setSelectedLanguage('en');\r\n    }\r\n  };\r\n\r\n  const startEditing = (key, value) => {\r\n    setEditingKey(key);\r\n    setEditValue(value);\r\n  };\r\n\r\n  const saveTranslation = () => {\r\n    if (!editingKey) return;\r\n\r\n    setTranslations(prev => ({\r\n      ...prev,\r\n      [selectedLanguage]: {\r\n        ...prev[selectedLanguage],\r\n        [editingKey]: editValue\r\n      }\r\n    }));\r\n\r\n    // Update language progress\r\n    const totalKeys = Object.keys(translations.en).length;\r\n    const translatedKeys = Object.keys({\r\n      ...translations[selectedLanguage],\r\n      [editingKey]: editValue\r\n    }).length;\r\n    const progress = Math.round((translatedKeys / totalKeys) * 100);\r\n\r\n    setLanguages(prev => prev.map(lang => \r\n      lang.code === selectedLanguage \r\n        ? { ...lang, progress, translationCount: translatedKeys, lastUpdated: new Date().toISOString().split('T')[0] }\r\n        : lang\r\n    ));\r\n\r\n    setEditingKey(null);\r\n    setEditValue('');\r\n  };\r\n\r\n  const cancelEditing = () => {\r\n    setEditingKey(null);\r\n    setEditValue('');\r\n  };\r\n\r\n  const exportTranslations = (langCode) => {\r\n    const data = {\r\n      language: languages.find(l => l.code === langCode),\r\n      translations: translations[langCode],\r\n      exportDate: new Date().toISOString(),\r\n      version: '1.0'\r\n    };\r\n\r\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `translations-${langCode}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const importTranslations = (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      try {\r\n        const data = JSON.parse(e.target.result);\r\n        if (data.language && data.translations) {\r\n          setTranslations(prev => ({\r\n            ...prev,\r\n            [data.language.code]: data.translations\r\n          }));\r\n          \r\n          if (!languages.find(l => l.code === data.language.code)) {\r\n            setLanguages(prev => [...prev, data.language]);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to import translations:', error);\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  const autoTranslate = async (langCode) => {\r\n    // Simulate auto-translation API call\r\n    const missingKeys = getMissingTranslations(langCode);\r\n    const newTranslations = {};\r\n    \r\n    for (const key of missingKeys.slice(0, 5)) { // Limit for demo\r\n      // Simulate translation\r\n      newTranslations[key] = `[AUTO] ${translations.en[key]}`;\r\n    }\r\n\r\n    setTranslations(prev => ({\r\n      ...prev,\r\n      [langCode]: { ...prev[langCode], ...newTranslations }\r\n    }));\r\n\r\n    // Update progress\r\n    const totalKeys = Object.keys(translations.en).length;\r\n    const translatedKeys = Object.keys({ ...translations[langCode], ...newTranslations }).length;\r\n    const progress = Math.round((translatedKeys / totalKeys) * 100);\r\n\r\n    setLanguages(prev => prev.map(lang => \r\n      lang.code === langCode \r\n        ? { ...lang, progress, translationCount: translatedKeys, lastUpdated: new Date().toISOString().split('T')[0] }\r\n        : lang\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Languages className=\"w-8 h-8 text-blue-600\" />\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Language Manager</h2>\r\n            <p className=\"text-gray-600\">Manage translations and multi-language support</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-3\">\r\n          <label className=\"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer\">\r\n            <Upload className=\"w-4 h-4\" />\r\n            Import\r\n            <input\r\n              type=\"file\"\r\n              accept=\".json\"\r\n              onChange={importTranslations}\r\n              className=\"hidden\"\r\n            />\r\n          </label>\r\n          \r\n          <button\r\n            onClick={() => setShowAddLanguage(true)}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            <Plus className=\"w-4 h-4\" />\r\n            Add Language\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Language Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {languages.map((language) => (\r\n          <motion.div\r\n            key={language.code}\r\n            className={`bg-white rounded-lg shadow-sm border p-4 cursor-pointer transition-all ${\r\n              selectedLanguage === language.code ? 'ring-2 ring-blue-500 border-blue-200' : 'hover:border-gray-300'\r\n            }`}\r\n            onClick={() => setSelectedLanguage(language.code)}\r\n            whileHover={{ scale: 1.02 }}\r\n          >\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <span className=\"text-2xl\">{language.flag}</span>\r\n                <div>\r\n                  <h3 className=\"font-medium text-gray-900\">{language.name}</h3>\r\n                  <p className=\"text-sm text-gray-600\">{language.nativeName}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-1\">\r\n                {language.isDefault && (\r\n                  <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full\">\r\n                    Default\r\n                  </span>\r\n                )}\r\n                {language.isActive ? (\r\n                  <CheckCircle className=\"w-4 h-4 text-green-600\" />\r\n                ) : (\r\n                  <AlertCircle className=\"w-4 h-4 text-gray-400\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">Progress</span>\r\n                <span className=\"font-medium\">{language.progress}%</span>\r\n              </div>\r\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                <div \r\n                  className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                  style={{ width: `${language.progress}%` }}\r\n                />\r\n              </div>\r\n              <div className=\"flex justify-between text-xs text-gray-500\">\r\n                <span>{language.translationCount} translations</span>\r\n                <span>Updated {language.lastUpdated}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-2 mt-3 pt-3 border-t border-gray-100\">\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  exportTranslations(language.code);\r\n                }}\r\n                className=\"flex items-center gap-1 px-2 py-1 text-xs text-gray-600 hover:text-gray-800 transition-colors\"\r\n              >\r\n                <Download className=\"w-3 h-3\" />\r\n                Export\r\n              </button>\r\n              \r\n              {language.progress < 100 && (\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    autoTranslate(language.code);\r\n                  }}\r\n                  className=\"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:text-blue-800 transition-colors\"\r\n                >\r\n                  <RefreshCw className=\"w-3 h-3\" />\r\n                  Auto-translate\r\n                </button>\r\n              )}\r\n              \r\n              {!language.isDefault && (\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    removeLanguage(language.code);\r\n                  }}\r\n                  className=\"flex items-center gap-1 px-2 py-1 text-xs text-red-600 hover:text-red-800 transition-colors\"\r\n                >\r\n                  <Trash2 className=\"w-3 h-3\" />\r\n                  Remove\r\n                </button>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Translation Editor */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border\">\r\n        <div className=\"p-4 border-b border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"text-2xl\">{languages.find(l => l.code === selectedLanguage)?.flag}</span>\r\n              <div>\r\n                <h3 className=\"font-medium text-gray-900\">\r\n                  {languages.find(l => l.code === selectedLanguage)?.name} Translations\r\n                </h3>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  {filteredTranslations.length} of {Object.keys(translations.en).length} translations\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search translations...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"max-h-96 overflow-y-auto\">\r\n          {filteredTranslations.map(([key, value]) => (\r\n            <div key={key} className=\"p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors\">\r\n              {editingKey === key ? (\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Translation Key\r\n                    </label>\r\n                    <div className=\"text-sm text-gray-600 bg-gray-100 p-2 rounded\">{key}</div>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Original (English)\r\n                    </label>\r\n                    <div className=\"text-sm text-gray-600 bg-gray-100 p-2 rounded\">\r\n                      {translations.en[key]}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                      Translation ({languages.find(l => l.code === selectedLanguage)?.name})\r\n                    </label>\r\n                    <textarea\r\n                      value={editValue}\r\n                      onChange={(e) => setEditValue(e.target.value)}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                      rows={3}\r\n                      dir={languages.find(l => l.code === selectedLanguage)?.direction || 'ltr'}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                      onClick={saveTranslation}\r\n                      className=\"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n                    >\r\n                      <Check className=\"w-4 h-4\" />\r\n                      Save\r\n                    </button>\r\n                    <button\r\n                      onClick={cancelEditing}\r\n                      className=\"flex items-center gap-2 px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\r\n                    >\r\n                      <X className=\"w-4 h-4\" />\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1 space-y-2\">\r\n                    <div className=\"text-sm font-medium text-gray-900\">{key}</div>\r\n                    <div className=\"text-sm text-gray-600\">{translations.en[key]}</div>\r\n                    <div \r\n                      className=\"text-sm text-gray-900 font-medium\"\r\n                      dir={languages.find(l => l.code === selectedLanguage)?.direction || 'ltr'}\r\n                    >\r\n                      {value || <span className=\"text-red-500 italic\">Missing translation</span>}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center gap-1\">\r\n                    <button\r\n                      onClick={() => navigator.clipboard.writeText(value)}\r\n                      className=\"p-1.5 hover:bg-gray-200 rounded transition-colors\"\r\n                      title=\"Copy translation\"\r\n                    >\r\n                      <Copy className=\"w-4 h-4 text-gray-500\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => startEditing(key, value || '')}\r\n                      className=\"p-1.5 hover:bg-gray-200 rounded transition-colors\"\r\n                      title=\"Edit translation\"\r\n                    >\r\n                      <Edit3 className=\"w-4 h-4 text-gray-500\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        {filteredTranslations.length === 0 && (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            <Globe className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\r\n            <p>No translations found matching your search</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Add Language Modal */}\r\n      <AnimatePresence>\r\n        {showAddLanguage && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\r\n          >\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n              className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h3 className=\"text-xl font-semibold text-gray-900\">Add New Language</h3>\r\n                <button\r\n                  onClick={() => setShowAddLanguage(false)}\r\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Select Language\r\n                  </label>\r\n                  <select\r\n                    value={newLanguage.code}\r\n                    onChange={(e) => {\r\n                      const selected = availableLanguages.find(l => l.code === e.target.value);\r\n                      if (selected) {\r\n                        setNewLanguage(selected);\r\n                      }\r\n                    }}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"\">Choose a language</option>\r\n                    {availableLanguages\r\n                      .filter(lang => !languages.find(l => l.code === lang.code))\r\n                      .map(lang => (\r\n                        <option key={lang.code} value={lang.code}>\r\n                          {lang.flag} {lang.name} ({lang.nativeName})\r\n                        </option>\r\n                      ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                {newLanguage.code && (\r\n                  <div className=\"p-3 bg-gray-50 rounded-lg\">\r\n                    <div className=\"flex items-center gap-3 mb-2\">\r\n                      <span className=\"text-2xl\">{newLanguage.flag}</span>\r\n                      <div>\r\n                        <div className=\"font-medium\">{newLanguage.name}</div>\r\n                        <div className=\"text-sm text-gray-600\">{newLanguage.nativeName}</div>\r\n                      </div>\r\n                    </div>\r\n                    {newLanguage.direction === 'rtl' && (\r\n                      <div className=\"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded\">\r\n                        Right-to-left language\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"flex justify-end gap-3 mt-6\">\r\n                <button\r\n                  onClick={() => setShowAddLanguage(false)}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={addLanguage}\r\n                  disabled={!newLanguage.code}\r\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n                >\r\n                  Add Language\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LanguageManager;","import { useState } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { \r\n  LayoutDashboard, \r\n  Package, \r\n  Palette, \r\n  Users, \r\n  Settings, \r\n  LogOut,\r\n  Menu,\r\n  X,\r\n  Bell,\r\n  Search,\r\n  Shield,\r\n  FileText,\r\n  Warehouse,\r\n  Truck,\r\n  BarChart3,\r\n  Brain,\r\n  MapPin\r\n} from 'lucide-react'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext.jsx'\r\nimport { useSegment } from '../../../ui/contexts/SegmentContext.jsx'\r\nimport { AdminDashboard, ProductCatalog, ThemeEditor, CustomizationRequests, UserManagement, IndiaAnalytics, RecommendationManagement } from './index.js'\r\nimport RoleManagement from './RoleManagement.jsx'\r\nimport AuditLogs from './AuditLogs.jsx'\r\nimport InventoryManagement from './InventoryManagement.jsx'\r\nimport ShippingManagement from './ShippingManagement.jsx'\r\nimport SessionManager from './Security/SessionManager.jsx'\r\nimport AdminActivityPage from './AdminActivityPage.jsx'\r\nimport IntelligenceDashboard from './IntelligenceDashboard.jsx'\r\nimport AdvancedSettings from './AdvancedSettings.jsx'\r\n\r\nconst ADMIN_MENU = [\r\n  { \r\n    id: 'dashboard', \r\n    label: 'admin.dashboard', \r\n    icon: LayoutDashboard, \r\n    component: AdminDashboard \r\n  },\r\n  { \r\n    id: 'india-analytics', \r\n    label: 'admin.indiaAnalytics', \r\n    icon: MapPin, \r\n    component: IndiaAnalytics \r\n  },\r\n  { \r\n    id: 'products', \r\n    label: 'admin.products', \r\n    icon: Package, \r\n    component: ProductCatalog \r\n  },\r\n  { \r\n    id: 'recommendations', \r\n    label: 'admin.recommendations', \r\n    icon: Brain, \r\n    component: RecommendationManagement \r\n  },\r\n  { \r\n    id: 'inventory', \r\n    label: 'admin.inventory', \r\n    icon: Warehouse, \r\n    component: InventoryManagement \r\n  },\r\n  { \r\n    id: 'shipping', \r\n    label: 'admin.shipping', \r\n    icon: Truck, \r\n    component: ShippingManagement \r\n  },\r\n  { \r\n    id: 'requests', \r\n    label: 'admin.customizationRequests', \r\n    icon: Settings, \r\n    component: CustomizationRequests \r\n  },\r\n  { \r\n    id: 'theme', \r\n    label: 'admin.themeEditor', \r\n    icon: Palette, \r\n    component: ThemeEditor \r\n  },\r\n  { \r\n    id: 'users', \r\n    label: 'admin.userManagement', \r\n    icon: Users, \r\n    component: UserManagement \r\n  },\r\n  { \r\n    id: 'roles', \r\n    label: 'admin.roleManagement', \r\n    icon: Shield, \r\n    component: RoleManagement \r\n  },\r\n  { \r\n    id: 'audit', \r\n    label: 'admin.auditLogs', \r\n    icon: FileText, \r\n    component: AuditLogs \r\n  },\r\n  { \r\n    id: 'activity', \r\n    label: 'admin.activityLog', \r\n    icon: BarChart3, \r\n    component: AdminActivityPage \r\n  },\r\n  { \r\n    id: 'intelligence', \r\n    label: 'admin.intelligence', \r\n    icon: Brain, \r\n    component: IntelligenceDashboard \r\n  },\r\n  { \r\n    id: 'sessions', \r\n    label: 'admin.sessionManager', \r\n    icon: Shield, \r\n    component: SessionManager \r\n  },\r\n  { \r\n    id: 'settings', \r\n    label: 'admin.settings', \r\n    icon: Settings, \r\n    component: AdvancedSettings\r\n  }\r\n]\r\n\r\nexport default function AdminPanel() {\r\n  const [activeSection, setActiveSection] = useState('dashboard')\r\n  const [sidebarOpen, setSidebarOpen] = useState(true)\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  \r\n  const { t, isRTL } = useI18n()\r\n  const { theme } = useSegment()\r\n\r\n  const ActiveComponent = ADMIN_MENU.find(item => item.id === activeSection)?.component || AdminDashboard\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex\">\r\n      {/* Sidebar */}\r\n      <AnimatePresence>\r\n        {sidebarOpen && (\r\n          <motion.aside\r\n            initial={{ x: isRTL ? 300 : -300, opacity: 0 }}\r\n            animate={{ x: 0, opacity: 1 }}\r\n            exit={{ x: isRTL ? 300 : -300, opacity: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n            className={`w-64 bg-surface border-border shadow-lg flex flex-col ${\r\n              isRTL ? 'border-l' : 'border-r'\r\n            }`}\r\n          >\r\n            {/* Logo */}\r\n            <div className=\"p-6 border-b border-border\">\r\n              <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <div \r\n                  className=\"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold\"\r\n                  style={{ backgroundColor: theme.colors.primary }}\r\n                >\r\n                  I\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"font-bold text-foreground\">IVOLEX</h1>\r\n                  <p className=\"text-xs text-foreground/60\">{t('admin.panel', 'Admin Panel')}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Navigation */}\r\n            <nav className=\"flex-1 p-4\">\r\n              <div className=\"space-y-2\">\r\n                {ADMIN_MENU.map((item) => {\r\n                  const Icon = item.icon\r\n                  const isActive = activeSection === item.id\r\n                  \r\n                  return (\r\n                    <motion.button\r\n                      key={item.id}\r\n                      onClick={() => setActiveSection(item.id)}\r\n                      className={`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ${\r\n                        isRTL ? 'flex-row-reverse text-right' : 'text-left'\r\n                      } ${\r\n                        isActive \r\n                          ? 'text-white shadow-lg' \r\n                          : 'text-foreground/70 hover:text-foreground hover:bg-background/50'\r\n                      }`}\r\n                      style={isActive ? { backgroundColor: theme.colors.primary } : {}}\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                    >\r\n                      <Icon size={20} />\r\n                      <span className=\"font-medium\">{t(item.label, item.label.split('.')[1])}</span>\r\n                    </motion.button>\r\n                  )\r\n                })}\r\n              </div>\r\n            </nav>\r\n\r\n            {/* User Section */}\r\n            <div className=\"p-4 border-t border-border\">\r\n              <button className={`w-full flex items-center gap-3 px-3 py-2.5 text-foreground/70 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all ${\r\n                isRTL ? 'flex-row-reverse text-right' : 'text-left'\r\n              }`}>\r\n                <LogOut size={20} />\r\n                <span className=\"font-medium\">{t('admin.logout', 'Logout')}</span>\r\n              </button>\r\n            </div>\r\n          </motion.aside>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex flex-col\">\r\n        {/* Top Bar */}\r\n        <header className=\"bg-surface border-b border-border px-6 py-4\">\r\n          <div className={`flex items-center justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <div className={`flex items-center gap-4 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n              <button\r\n                onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                className=\"p-2 hover:bg-background rounded-lg transition-colors\"\r\n              >\r\n                {sidebarOpen ? <X size={20} /> : <Menu size={20} />}\r\n              </button>\r\n              \r\n              <h2 className=\"text-xl font-semibold text-foreground\">\r\n                {t(ADMIN_MENU.find(item => item.id === activeSection)?.label || 'admin.dashboard', 'Dashboard')}\r\n              </h2>\r\n            </div>\r\n\r\n            <div className={`flex items-center gap-4 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n              {/* Search */}\r\n              <div className=\"relative\">\r\n                <Search className={`absolute top-1/2 transform -translate-y-1/2 text-foreground/40 ${\r\n                  isRTL ? 'right-3' : 'left-3'\r\n                }`} size={16} />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder={t('admin.search', 'Search...')}\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className={`bg-background border border-border rounded-lg text-foreground placeholder-foreground/40 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary ${\r\n                    isRTL ? 'pr-10 pl-4 text-right' : 'pl-10 pr-4 text-left'\r\n                  } py-2 w-64`}\r\n                />\r\n              </div>\r\n\r\n              {/* Notifications */}\r\n              <button className=\"relative p-2 hover:bg-background rounded-lg transition-colors\">\r\n                <Bell size={20} className=\"text-foreground/70\" />\r\n                <span className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\r\n              </button>\r\n\r\n              {/* Profile */}\r\n              <div className=\"w-8 h-8 bg-gradient-to-br from-primary to-secondary rounded-full\"></div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Page Content */}\r\n        <main className=\"flex-1 p-6 overflow-auto\">\r\n          <motion.div\r\n            key={activeSection}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -20 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <ActiveComponent />\r\n          </motion.div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { \r\n  Package, \r\n  AlertTriangle, \r\n  TrendingUp, \r\n  TrendingDown, \r\n  Plus, \r\n  Minus,\r\n  Search,\r\n  Filter,\r\n  Download,\r\n  Bell,\r\n  Settings,\r\n  Eye,\r\n  Edit3,\r\n  Check,\r\n  X,\r\n  RefreshCw\r\n} from 'lucide-react'\r\nimport { useInventory } from '../../../ui/contexts/InventoryContext'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext'\r\nimport { useSegment } from '../../../ui/contexts/SegmentContext'\r\n\r\nconst InventoryManagement = () => {\r\n  const { \r\n    inventory, \r\n    alerts, \r\n    settings, \r\n    loading,\r\n    updateStock,\r\n    acknowledgeAlert,\r\n    clearAlerts,\r\n    updateSettings,\r\n    getStockStatus,\r\n    getInventorySummary,\r\n    addIncomingStock,\r\n    receiveStock\r\n  } = useInventory()\r\n  \r\n  const { language, t, isRTL } = useLanguage()\r\n  const { theme } = useTheme()\r\n  \r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [filterType, setFilterType] = useState('all')\r\n  const [viewMode, setViewMode] = useState('grid')\r\n  const [selectedProduct, setSelectedProduct] = useState(null)\r\n  const [showSettings, setShowSettings] = useState(false)\r\n  const [editingStock, setEditingStock] = useState(null)\r\n  const [stockInput, setStockInput] = useState('')\r\n\r\n  // Mock products data - in real app, this would come from API\r\n  const [products] = useState(() => {\r\n    const stored = localStorage.getItem('products')\r\n    return stored ? JSON.parse(stored) : []\r\n  })\r\n\r\n  const summary = getInventorySummary()\r\n\r\n  // Filter products based on search and filter type\r\n  const filteredProducts = products.filter(product => {\r\n    const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                         product.id.toLowerCase().includes(searchQuery.toLowerCase())\r\n    \r\n    if (!matchesSearch) return false\r\n\r\n    const stockStatus = getStockStatus(product.id)\r\n    \r\n    switch (filterType) {\r\n      case 'out_of_stock':\r\n        return stockStatus.status === 'out_of_stock'\r\n      case 'critical':\r\n        return stockStatus.status === 'critical'\r\n      case 'low':\r\n        return stockStatus.status === 'low'\r\n      case 'in_stock':\r\n        return stockStatus.status === 'in_stock'\r\n      default:\r\n        return true\r\n    }\r\n  })\r\n\r\n  // Handle stock update\r\n  const handleStockUpdate = (productId, field, value) => {\r\n    const currentStock = inventory[productId] || { stock: 0, reserved: 0, incoming: 0 }\r\n    updateStock(productId, { [field]: Math.max(0, parseInt(value) || 0) })\r\n  }\r\n\r\n  // Handle quick stock adjustment\r\n  const handleQuickAdjust = (productId, adjustment) => {\r\n    const currentStock = inventory[productId] || { stock: 0, reserved: 0, incoming: 0 }\r\n    const newStock = Math.max(0, currentStock.stock + adjustment)\r\n    updateStock(productId, { stock: newStock })\r\n  }\r\n\r\n  // Get stock status color\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'out_of_stock':\r\n        return 'text-red-500'\r\n      case 'critical':\r\n        return 'text-orange-500'\r\n      case 'low':\r\n        return 'text-yellow-500'\r\n      case 'in_stock':\r\n        return 'text-green-500'\r\n      default:\r\n        return 'text-gray-500'\r\n    }\r\n  }\r\n\r\n  // Get stock status badge\r\n  const getStatusBadge = (status) => {\r\n    const colors = {\r\n      out_of_stock: 'bg-red-100 text-red-800',\r\n      critical: 'bg-orange-100 text-orange-800',\r\n      low: 'bg-yellow-100 text-yellow-800',\r\n      in_stock: 'bg-green-100 text-green-800'\r\n    }\r\n\r\n    const labels = {\r\n      out_of_stock: 'Out of Stock',\r\n      critical: 'Critical',\r\n      low: 'Low Stock',\r\n      in_stock: 'In Stock'\r\n    }\r\n\r\n    return (\r\n      <span className={`px-2 py-1 rounded-full text-xs font-medium ${colors[status] || 'bg-gray-100 text-gray-800'}`}>\r\n        {labels[status] || 'Unknown'}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-500\" />\r\n          <p className=\"text-gray-600\">Loading inventory...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen p-6 ${theme.background}`}>\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div>\r\n              <h1 className={`text-3xl font-bold ${theme.text}`}>\r\n                Inventory Management\r\n              </h1>\r\n              <p className={`text-sm ${theme.textSecondary} mt-1`}>\r\n                Monitor and manage your product inventory levels\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <button\r\n                onClick={() => setShowSettings(true)}\r\n                className={`p-2 rounded-lg ${theme.cardBackground} ${theme.border} hover:${theme.borderHover} transition-colors`}\r\n              >\r\n                <Settings className=\"w-5 h-5\" />\r\n              </button>\r\n              <button className={`px-4 py-2 rounded-lg ${theme.accent} text-white hover:opacity-90 transition-opacity`}>\r\n                <Download className=\"w-4 h-4 inline mr-2\" />\r\n                Export Report\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Alerts Section */}\r\n          <AnimatePresence>\r\n            {alerts.length > 0 && (\r\n              <motion.div\r\n                initial={{ opacity: 0, height: 0 }}\r\n                animate={{ opacity: 1, height: 'auto' }}\r\n                exit={{ opacity: 0, height: 0 }}\r\n                className={`mb-6 p-4 rounded-lg ${theme.cardBackground} ${theme.border}`}\r\n              >\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Bell className=\"w-5 h-5 text-red-500\" />\r\n                    <span className={`font-medium ${theme.text}`}>\r\n                      Active Alerts ({alerts.length})\r\n                    </span>\r\n                  </div>\r\n                  <button\r\n                    onClick={clearAlerts}\r\n                    className=\"text-sm text-blue-500 hover:text-blue-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  {alerts.slice(0, 3).map((alert) => (\r\n                    <div\r\n                      key={alert.id}\r\n                      className={`flex items-center justify-between p-3 rounded-lg ${\r\n                        alert.type === 'critical' ? 'bg-red-50 border border-red-200' : 'bg-yellow-50 border border-yellow-200'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <AlertTriangle className={`w-4 h-4 ${alert.type === 'critical' ? 'text-red-500' : 'text-yellow-500'}`} />\r\n                        <span className=\"text-sm font-medium\">{alert.message}</span>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => acknowledgeAlert(alert.id)}\r\n                        className=\"text-sm text-gray-500 hover:text-gray-700 transition-colors\"\r\n                      >\r\n                        <Check className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* Summary Cards */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n            <div className={`p-4 rounded-lg ${theme.cardBackground} ${theme.border}`}>\r\n              <div className=\"flex items-center gap-3\">\r\n                <Package className=\"w-8 h-8 text-blue-500\" />\r\n                <div>\r\n                  <p className={`text-sm ${theme.textSecondary}`}>Total Products</p>\r\n                  <p className={`text-xl font-bold ${theme.text}`}>{summary.totalProducts}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={`p-4 rounded-lg ${theme.cardBackground} ${theme.border}`}>\r\n              <div className=\"flex items-center gap-3\">\r\n                <TrendingDown className=\"w-8 h-8 text-red-500\" />\r\n                <div>\r\n                  <p className={`text-sm ${theme.textSecondary}`}>Out of Stock</p>\r\n                  <p className={`text-xl font-bold ${theme.text}`}>{summary.outOfStock}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={`p-4 rounded-lg ${theme.cardBackground} ${theme.border}`}>\r\n              <div className=\"flex items-center gap-3\">\r\n                <AlertTriangle className=\"w-8 h-8 text-orange-500\" />\r\n                <div>\r\n                  <p className={`text-sm ${theme.textSecondary}`}>Low Stock</p>\r\n                  <p className={`text-xl font-bold ${theme.text}`}>{summary.criticalStock + summary.lowStock}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={`p-4 rounded-lg ${theme.cardBackground} ${theme.border}`}>\r\n              <div className=\"flex items-center gap-3\">\r\n                <TrendingUp className=\"w-8 h-8 text-green-500\" />\r\n                <div>\r\n                  <p className={`text-sm ${theme.textSecondary}`}>In Stock</p>\r\n                  <p className={`text-xl font-bold ${theme.text}`}>{summary.inStock}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Controls */}\r\n        <div className=\"flex flex-col md:flex-row gap-4 mb-6\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search products...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className={`w-full pl-10 pr-4 py-2 rounded-lg ${theme.cardBackground} ${theme.border} focus:${theme.borderHover} outline-none transition-colors`}\r\n              />\r\n            </div>\r\n          </div>\r\n          <select\r\n            value={filterType}\r\n            onChange={(e) => setFilterType(e.target.value)}\r\n            className={`px-4 py-2 rounded-lg ${theme.cardBackground} ${theme.border} focus:${theme.borderHover} outline-none transition-colors`}\r\n          >\r\n            <option value=\"all\">All Products</option>\r\n            <option value=\"out_of_stock\">Out of Stock</option>\r\n            <option value=\"critical\">Critical Stock</option>\r\n            <option value=\"low\">Low Stock</option>\r\n            <option value=\"in_stock\">In Stock</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Products Grid */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {filteredProducts.map((product) => {\r\n            const stockInfo = inventory[product.id] || { stock: 0, reserved: 0, incoming: 0 }\r\n            const stockStatus = getStockStatus(product.id)\r\n            const available = stockInfo.stock - stockInfo.reserved\r\n\r\n            return (\r\n              <motion.div\r\n                key={product.id}\r\n                layout\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                className={`p-6 rounded-lg ${theme.cardBackground} ${theme.border} hover:${theme.borderHover} transition-all`}\r\n              >\r\n                <div className=\"flex items-start justify-between mb-4\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className={`font-semibold ${theme.text} mb-1`}>{product.name}</h3>\r\n                    <p className={`text-sm ${theme.textSecondary} mb-2`}>ID: {product.id}</p>\r\n                    {getStatusBadge(stockStatus.status)}\r\n                  </div>\r\n                  <img\r\n                    src={product.image}\r\n                    alt={product.name}\r\n                    className=\"w-16 h-16 object-cover rounded-lg\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className={`text-sm ${theme.textSecondary}`}>Available:</span>\r\n                    <span className={`font-semibold ${getStatusColor(stockStatus.status)}`}>\r\n                      {available}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className={`text-sm ${theme.textSecondary}`}>Reserved:</span>\r\n                    <span className={`font-medium ${theme.text}`}>{stockInfo.reserved}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className={`text-sm ${theme.textSecondary}`}>Incoming:</span>\r\n                    <span className={`font-medium ${theme.text}`}>{stockInfo.incoming}</span>\r\n                  </div>\r\n\r\n                  {editingStock === product.id ? (\r\n                    <div className=\"flex items-center gap-2 pt-3 border-t\">\r\n                      <input\r\n                        type=\"number\"\r\n                        value={stockInput}\r\n                        onChange={(e) => setStockInput(e.target.value)}\r\n                        className={`flex-1 px-2 py-1 text-sm rounded ${theme.cardBackground} ${theme.border} focus:${theme.borderHover} outline-none`}\r\n                        min=\"0\"\r\n                      />\r\n                      <button\r\n                        onClick={() => {\r\n                          handleStockUpdate(product.id, 'stock', stockInput)\r\n                          setEditingStock(null)\r\n                          setStockInput('')\r\n                        }}\r\n                        className=\"p-1 text-green-500 hover:text-green-600 transition-colors\"\r\n                      >\r\n                        <Check className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          setEditingStock(null)\r\n                          setStockInput('')\r\n                        }}\r\n                        className=\"p-1 text-red-500 hover:text-red-600 transition-colors\"\r\n                      >\r\n                        <X className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"flex items-center gap-2 pt-3 border-t\">\r\n                      <button\r\n                        onClick={() => handleQuickAdjust(product.id, -1)}\r\n                        className=\"p-1 text-red-500 hover:text-red-600 transition-colors\"\r\n                      >\r\n                        <Minus className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          setEditingStock(product.id)\r\n                          setStockInput(stockInfo.stock.toString())\r\n                        }}\r\n                        className=\"flex-1 px-2 py-1 text-center text-sm font-medium hover:bg-gray-50 rounded transition-colors\"\r\n                      >\r\n                        <Edit3 className=\"w-4 h-4 inline mr-1\" />\r\n                        {stockInfo.stock}\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleQuickAdjust(product.id, 1)}\r\n                        className=\"p-1 text-green-500 hover:text-green-600 transition-colors\"\r\n                      >\r\n                        <Plus className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            )\r\n          })}\r\n        </div>\r\n\r\n        {filteredProducts.length === 0 && (\r\n          <div className=\"text-center py-12\">\r\n            <Package className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n            <h3 className={`text-lg font-medium ${theme.text} mb-2`}>No products found</h3>\r\n            <p className={`${theme.textSecondary}`}>\r\n              Try adjusting your search or filter criteria\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Settings Modal */}\r\n      <AnimatePresence>\r\n        {showSettings && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\r\n            onClick={() => setShowSettings(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className={`w-full max-w-md p-6 rounded-lg ${theme.cardBackground} ${theme.border}`}\r\n            >\r\n              <h3 className={`text-lg font-semibold ${theme.text} mb-4`}>\r\n                Inventory Settings\r\n              </h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className={`block text-sm font-medium ${theme.text} mb-2`}>\r\n                    Low Stock Threshold\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={settings.lowStockThreshold}\r\n                    onChange={(e) => updateSettings({ lowStockThreshold: parseInt(e.target.value) || 0 })}\r\n                    className={`w-full px-3 py-2 rounded-lg ${theme.cardBackground} ${theme.border} focus:${theme.borderHover} outline-none`}\r\n                    min=\"1\"\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className={`block text-sm font-medium ${theme.text} mb-2`}>\r\n                    Critical Stock Threshold\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={settings.criticalStockThreshold}\r\n                    onChange={(e) => updateSettings({ criticalStockThreshold: parseInt(e.target.value) || 0 })}\r\n                    className={`w-full px-3 py-2 rounded-lg ${theme.cardBackground} ${theme.border} focus:${theme.borderHover} outline-none`}\r\n                    min=\"0\"\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"flex items-center gap-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"enableAlerts\"\r\n                    checked={settings.enableAlerts}\r\n                    onChange={(e) => updateSettings({ enableAlerts: e.target.checked })}\r\n                    className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\r\n                  />\r\n                  <label htmlFor=\"enableAlerts\" className={`text-sm ${theme.text}`}>\r\n                    Enable inventory alerts\r\n                  </label>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center gap-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"autoReorder\"\r\n                    checked={settings.autoReorderEnabled}\r\n                    onChange={(e) => updateSettings({ autoReorderEnabled: e.target.checked })}\r\n                    className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\r\n                  />\r\n                  <label htmlFor=\"autoReorder\" className={`text-sm ${theme.text}`}>\r\n                    Enable auto-reorder alerts\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-3 mt-6\">\r\n                <button\r\n                  onClick={() => setShowSettings(false)}\r\n                  className={`flex-1 px-4 py-2 rounded-lg ${theme.cardBackground} ${theme.border} hover:${theme.borderHover} transition-colors`}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowSettings(false)}\r\n                  className={`flex-1 px-4 py-2 rounded-lg ${theme.accent} text-white hover:opacity-90 transition-opacity`}\r\n                >\r\n                  Save Changes\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InventoryManagement","import { useState } from 'react'\nimport { \n  Truck, \n  Package, \n  MapPin, \n  Search, \n  Filter,\n  Plus,\n  Edit3,\n  Eye,\n  Settings,\n  Download,\n  CheckCircle,\n  Navigation\n} from 'lucide-react'\n\nconst ShippingManagement = () => {\n  const [searchQuery, setSearchQuery] = useState('')\n\n  // Mock shipment data\n  const [shipments] = useState([\n    {\n      id: 'SHIP_001',\n      orderId: 'ORD_001',\n      trackingNumber: 'TRK1234567890ABC',\n      customer: 'Ahmed Al-Rashid',\n      status: 'in_transit',\n      method: 'Express Shipping',\n      provider: 'SMSA Express',\n      origin: 'IVOLEX Warehouse - Riyadh',\n      destination: 'Jeddah, Saudi Arabia',\n      createdAt: '2024-01-15T10:00:00Z',\n      estimatedDelivery: '2024-01-18T15:00:00Z',\n      value: 1299.99\n    },\n    {\n      id: 'SHIP_002',\n      orderId: 'ORD_002',\n      trackingNumber: 'TRK0987654321XYZ',\n      customer: 'Sarah Johnson',\n      status: 'delivered',\n      method: 'Standard Shipping',\n      provider: 'Saudi Post',\n      origin: 'IVOLEX Warehouse - Riyadh',\n      destination: 'Dammam, Saudi Arabia',\n      createdAt: '2024-01-12T14:30:00Z',\n      estimatedDelivery: '2024-01-17T12:00:00Z',\n      deliveredAt: '2024-01-16T16:45:00Z',\n      value: 899.50\n    }\n  ])\n\n  // Get status badge\n  const getStatusBadge = (status) => {\n    const statusConfig = {\n      pending: { color: 'bg-gray-100 text-gray-800', label: 'Pending' },\n      picked_up: { color: 'bg-blue-100 text-blue-800', label: 'Picked Up' },\n      in_transit: { color: 'bg-yellow-100 text-yellow-800', label: 'In Transit' },\n      out_for_delivery: { color: 'bg-orange-100 text-orange-800', label: 'Out for Delivery' },\n      delivered: { color: 'bg-green-100 text-green-800', label: 'Delivered' }\n    }\n\n    const config = statusConfig[status] || statusConfig.pending\n\n    return (\n      <span className={`px-2 py-1 rounded-full text-xs font-medium ${config.color}`}>\n        {config.label}\n      </span>\n    )\n  }\n\n  // Get status icon\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'pending':\n        return <Package className=\"w-4 h-4 text-gray-500\" />\n      case 'picked_up':\n        return <Truck className=\"w-4 h-4 text-blue-500\" />\n      case 'in_transit':\n        return <Navigation className=\"w-4 h-4 text-yellow-500\" />\n      case 'out_for_delivery':\n        return <MapPin className=\"w-4 h-4 text-orange-500\" />\n      case 'delivered':\n        return <CheckCircle className=\"w-4 h-4 text-green-500\" />\n      default:\n        return <Package className=\"w-4 h-4 text-gray-500\" />\n    }\n  }\n\n  // Filter shipments\n  const filteredShipments = shipments.filter(shipment =>\n    shipment.trackingNumber.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    shipment.customer.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    shipment.orderId.toLowerCase().includes(searchQuery.toLowerCase())\n  )\n\n  // Get shipment statistics\n  const stats = {\n    total: shipments.length,\n    pending: shipments.filter(s => s.status === 'pending').length,\n    inTransit: shipments.filter(s => ['picked_up', 'in_transit', 'out_for_delivery'].includes(s.status)).length,\n    delivered: shipments.filter(s => s.status === 'delivered').length,\n    totalValue: shipments.reduce((sum, s) => sum + s.value, 0)\n  }\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    })\n  }\n\n  return (\n    <div className=\"min-h-screen py-8 bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-6\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">\n                Shipping Management\n              </h1>\n              <p className=\"text-sm text-gray-600 mt-1\">\n                Manage shipping methods, track shipments, and monitor delivery performance\n              </p>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <button className=\"px-4 py-2 rounded-lg bg-white border border-gray-300 hover:border-gray-400 transition-colors\">\n                <Settings className=\"w-4 h-4 inline mr-2\" />\n                Settings\n              </button>\n              <button className=\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors\">\n                <Download className=\"w-4 h-4 inline mr-2\" />\n                Export Report\n              </button>\n            </div>\n          </div>\n\n          {/* Stats Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n            <div className=\"p-4 rounded-lg bg-white border border-gray-200\">\n              <div className=\"flex items-center gap-3\">\n                <Package className=\"w-8 h-8 text-blue-500\" />\n                <div>\n                  <p className=\"text-sm text-gray-600\">Total Shipments</p>\n                  <p className=\"text-xl font-bold text-gray-900\">{stats.total}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-4 rounded-lg bg-white border border-gray-200\">\n              <div className=\"flex items-center gap-3\">\n                <Truck className=\"w-8 h-8 text-yellow-500\" />\n                <div>\n                  <p className=\"text-sm text-gray-600\">In Transit</p>\n                  <p className=\"text-xl font-bold text-gray-900\">{stats.inTransit}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-4 rounded-lg bg-white border border-gray-200\">\n              <div className=\"flex items-center gap-3\">\n                <CheckCircle className=\"w-8 h-8 text-green-500\" />\n                <div>\n                  <p className=\"text-sm text-gray-600\">Delivered</p>\n                  <p className=\"text-xl font-bold text-gray-900\">{stats.delivered}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-4 rounded-lg bg-white border border-gray-200\">\n              <div className=\"flex items-center gap-3\">\n                <MapPin className=\"w-8 h-8 text-purple-500\" />\n                <div>\n                  <p className=\"text-sm text-gray-600\">Total Value</p>\n                  <p className=\"text-xl font-bold text-gray-900\">₹{stats.totalValue.toLocaleString()}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"relative flex-1\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search by tracking number, customer, or order ID...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <button className=\"px-4 py-2 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors\">\n                <Filter className=\"w-4 h-4\" />\n              </button>\n              <button className=\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors\">\n                <Plus className=\"w-4 h-4 inline mr-2\" />\n                New Shipment\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"text-left p-4 text-gray-700 font-medium\">Tracking Info</th>\n                  <th className=\"text-left p-4 text-gray-700 font-medium\">Customer</th>\n                  <th className=\"text-left p-4 text-gray-700 font-medium\">Route</th>\n                  <th className=\"text-left p-4 text-gray-700 font-medium\">Status</th>\n                  <th className=\"text-left p-4 text-gray-700 font-medium\">Value</th>\n                  <th className=\"text-left p-4 text-gray-700 font-medium\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredShipments.map((shipment) => (\n                  <tr key={shipment.id} className=\"border-b border-gray-100 hover:bg-gray-50 transition-colors\">\n                    <td className=\"p-4\">\n                      <div>\n                        <div className=\"font-medium text-gray-900\">{shipment.trackingNumber}</div>\n                        <div className=\"text-sm text-gray-500\">Order: {shipment.orderId}</div>\n                        <div className=\"text-sm text-gray-500\">{shipment.provider}</div>\n                      </div>\n                    </td>\n                    <td className=\"p-4\">\n                      <div className=\"font-medium text-gray-900\">{shipment.customer}</div>\n                      <div className=\"text-sm text-gray-500\">{formatDate(shipment.createdAt)}</div>\n                    </td>\n                    <td className=\"p-4\">\n                      <div className=\"text-sm text-gray-700\">\n                        <div className=\"mb-1\">{shipment.origin}</div>\n                        <div className=\"text-gray-400\">↓</div>\n                        <div>{shipment.destination}</div>\n                      </div>\n                    </td>\n                    <td className=\"p-4\">\n                      <div className=\"flex items-center gap-2\">\n                        {getStatusIcon(shipment.status)}\n                        {getStatusBadge(shipment.status)}\n                      </div>\n                      <div className=\"text-xs text-gray-500 mt-1\">\n                        ETA: {formatDate(shipment.estimatedDelivery)}\n                      </div>\n                    </td>\n                    <td className=\"p-4\">\n                      <div className=\"font-medium text-gray-900\">\n                        ₹{shipment.value.toLocaleString()}\n                      </div>\n                    </td>\n                    <td className=\"p-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <button className=\"p-2 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors\">\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                        <button className=\"p-2 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors\">\n                          <Edit3 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ShippingManagement\n","import { useState, useMemo } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { useAudit, AUDIT_ACTIONS } from '../../../ui/contexts/AuditContext'\r\nimport { useI18n } from '../../../ui/contexts/I18nContext'\r\nimport { \r\n  FileText, \r\n  Download, \r\n  Filter, \r\n  Search, \r\n  User,\r\n  Shield,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Clock,\r\n  X,\r\n  Globe\r\n} from 'lucide-react'\r\n\r\nconst AuditLogs = () => {\r\n  const { \r\n    logs, \r\n    getFilteredLogs, \r\n    exportLogs, \r\n    clearOldLogs, \r\n    hasPermission,\r\n    PERMISSIONS\r\n  } = useAudit()\r\n  const { t, language, isRTL } = useI18n()\r\n  \r\n  const [filters, setFilters] = useState({\r\n    userId: '',\r\n    action: '',\r\n    resource: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    success: undefined,\r\n    search: ''\r\n  })\r\n  const [showFilters, setShowFilters] = useState(false)\r\n  const [selectedLog, setSelectedLog] = useState(null)\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const logsPerPage = 20\r\n\r\n  // Check permissions\r\n  const canViewAuditLogs = hasPermission(PERMISSIONS.AUDIT_LOGS_VIEW)\r\n\r\n  // Filter and search logs - Moved before conditional return to fix hook rule\r\n  const filteredLogs = useMemo(() => {\r\n    let result = getFilteredLogs(filters)\r\n    \r\n    if (filters.search) {\r\n      const searchTerm = filters.search.toLowerCase()\r\n      result = result.filter(log => \r\n        log.userName.toLowerCase().includes(searchTerm) ||\r\n        log.userEmail.toLowerCase().includes(searchTerm) ||\r\n        log.action.toLowerCase().includes(searchTerm) ||\r\n        log.resource.toLowerCase().includes(searchTerm) ||\r\n        JSON.stringify(log.details).toLowerCase().includes(searchTerm)\r\n      )\r\n    }\r\n    \r\n    return result.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\r\n  }, [logs, filters, getFilteredLogs])\r\n  \r\n  if (!canViewAuditLogs) {\r\n    return (\r\n      <div className=\"p-8 text-center\">\r\n        <Shield className=\"mx-auto h-12 w-12 text-red-500 mb-4\" />\r\n        <h3 className=\"text-lg font-semibold text-foreground mb-2\">\r\n          {t('audit.accessDenied', 'Access Denied')}\r\n        </h3>\r\n        <p className=\"text-foreground/60\">\r\n          {t('audit.noPermission', 'You do not have permission to view audit logs')}\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Pagination\r\n  const totalPages = Math.ceil(filteredLogs.length / logsPerPage)\r\n  const paginatedLogs = filteredLogs.slice(\r\n    (currentPage - 1) * logsPerPage,\r\n    currentPage * logsPerPage\r\n  )\r\n\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters(prev => ({ ...prev, [key]: value }))\r\n    setCurrentPage(1)\r\n  }\r\n\r\n  const clearFilters = () => {\r\n    setFilters({\r\n      userId: '',\r\n      action: '',\r\n      resource: '',\r\n      startDate: '',\r\n      endDate: '',\r\n      success: undefined,\r\n      search: ''\r\n    })\r\n    setCurrentPage(1)\r\n  }\r\n\r\n  const formatTimestamp = (timestamp) => {\r\n    const date = new Date(timestamp)\r\n    return new Intl.DateTimeFormat(language === 'ar' ? 'ar-SA' : 'en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n      second: '2-digit'\r\n    }).format(date)\r\n  }\r\n\r\n  const getActionIcon = (action) => {\r\n    const icons = {\r\n      [AUDIT_ACTIONS.LOGIN]: User,\r\n      [AUDIT_ACTIONS.LOGOUT]: User,\r\n      [AUDIT_ACTIONS.CREATE]: CheckCircle,\r\n      [AUDIT_ACTIONS.UPDATE]: Clock,\r\n      [AUDIT_ACTIONS.DELETE]: AlertCircle,\r\n      [AUDIT_ACTIONS.VIEW]: Search,\r\n      [AUDIT_ACTIONS.EXPORT]: Download,\r\n      [AUDIT_ACTIONS.SECURITY_EVENT]: Shield,\r\n      [AUDIT_ACTIONS.ROLE_CHANGE]: Shield,\r\n      [AUDIT_ACTIONS.PERMISSION_CHANGE]: Shield\r\n    }\r\n    return icons[action] || FileText\r\n  }\r\n\r\n  const getActionColor = (action, success) => {\r\n    if (!success) return 'text-red-500'\r\n    \r\n    const colors = {\r\n      [AUDIT_ACTIONS.LOGIN]: 'text-green-500',\r\n      [AUDIT_ACTIONS.LOGOUT]: 'text-gray-500',\r\n      [AUDIT_ACTIONS.CREATE]: 'text-blue-500',\r\n      [AUDIT_ACTIONS.UPDATE]: 'text-yellow-500',\r\n      [AUDIT_ACTIONS.DELETE]: 'text-red-500',\r\n      [AUDIT_ACTIONS.VIEW]: 'text-gray-500',\r\n      [AUDIT_ACTIONS.EXPORT]: 'text-purple-500',\r\n      [AUDIT_ACTIONS.SECURITY_EVENT]: 'text-red-500',\r\n      [AUDIT_ACTIONS.ROLE_CHANGE]: 'text-orange-500',\r\n      [AUDIT_ACTIONS.PERMISSION_CHANGE]: 'text-orange-500'\r\n    }\r\n    return colors[action] || 'text-gray-500'\r\n  }\r\n\r\n  const getActionDisplayName = (action) => {\r\n    const actionNames = {\r\n      [AUDIT_ACTIONS.LOGIN]: language === 'ar' ? 'تسجيل دخول' : 'Login',\r\n      [AUDIT_ACTIONS.LOGOUT]: language === 'ar' ? 'تسجيل خروج' : 'Logout',\r\n      [AUDIT_ACTIONS.CREATE]: language === 'ar' ? 'إنشاء' : 'Create',\r\n      [AUDIT_ACTIONS.UPDATE]: language === 'ar' ? 'تحديث' : 'Update',\r\n      [AUDIT_ACTIONS.DELETE]: language === 'ar' ? 'حذف' : 'Delete',\r\n      [AUDIT_ACTIONS.VIEW]: language === 'ar' ? 'عرض' : 'View',\r\n      [AUDIT_ACTIONS.EXPORT]: language === 'ar' ? 'تصدير' : 'Export',\r\n      [AUDIT_ACTIONS.APPROVE]: language === 'ar' ? 'موافقة' : 'Approve',\r\n      [AUDIT_ACTIONS.REJECT]: language === 'ar' ? 'رفض' : 'Reject',\r\n      [AUDIT_ACTIONS.REFUND]: language === 'ar' ? 'استرداد' : 'Refund',\r\n      [AUDIT_ACTIONS.CANCEL]: language === 'ar' ? 'إلغاء' : 'Cancel',\r\n      [AUDIT_ACTIONS.ROLE_CHANGE]: language === 'ar' ? 'تغيير دور' : 'Role Change',\r\n      [AUDIT_ACTIONS.PERMISSION_CHANGE]: language === 'ar' ? 'تغيير صلاحية' : 'Permission Change',\r\n      [AUDIT_ACTIONS.SETTINGS_CHANGE]: language === 'ar' ? 'تغيير إعدادات' : 'Settings Change',\r\n      [AUDIT_ACTIONS.THEME_CHANGE]: language === 'ar' ? 'تغيير مظهر' : 'Theme Change',\r\n      [AUDIT_ACTIONS.SECURITY_EVENT]: language === 'ar' ? 'حدث أمني' : 'Security Event'\r\n    }\r\n    return actionNames[action] || action\r\n  }\r\n\r\n  const handleExport = (format) => {\r\n    const data = exportLogs(format, filters)\r\n    const blob = new Blob([data], { \r\n      type: format === 'csv' ? 'text/csv' : 'application/json' \r\n    })\r\n    const url = window.URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.style.display = 'none'\r\n    a.href = url\r\n    a.download = `audit-logs-${new Date().toISOString().split('T')[0]}.${format}`\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    window.URL.revokeObjectURL(url)\r\n  }\r\n\r\n  const uniqueActions = [...new Set(logs.map(log => log.action))]\r\n  const uniqueUsers = [...new Set(logs.map(log => log.userName))]\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto p-6\">\r\n      <div className={`mb-8 ${isRTL ? 'text-right' : 'text-left'}`}>\r\n        <h1 className=\"text-3xl font-bold text-foreground mb-2 flex items-center gap-3\">\r\n          <FileText className=\"h-8 w-8 text-primary\" />\r\n          {t('audit.title', 'Audit Logs')}\r\n        </h1>\r\n        <p className=\"text-foreground/60\">\r\n          {t('audit.description', 'Track all system activities and user actions')}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"mb-6 space-y-4\">\r\n        <div className={`flex flex-wrap items-center gap-4 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n          {/* Search */}\r\n          <div className=\"relative flex-1 min-w-64\">\r\n            <Search className={`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-foreground/40 ${\r\n              isRTL ? 'right-3' : 'left-3'\r\n            }`} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder={t('audit.search', 'Search logs...')}\r\n              value={filters.search}\r\n              onChange={(e) => handleFilterChange('search', e.target.value)}\r\n              className={`w-full py-2 border border-border rounded-lg bg-background text-foreground placeholder-foreground/40 focus:outline-none focus:ring-2 focus:ring-primary ${\r\n                isRTL ? 'pr-10 pl-4 text-right' : 'pl-10 pr-4 text-left'\r\n              }`}\r\n            />\r\n          </div>\r\n\r\n          {/* Filter Toggle */}\r\n          <motion.button\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            onClick={() => setShowFilters(!showFilters)}\r\n            className={`px-4 py-2 border border-border rounded-lg text-foreground hover:bg-background/50 transition-colors flex items-center gap-2 ${\r\n              showFilters ? 'bg-primary/10 border-primary/30' : ''\r\n            }`}\r\n          >\r\n            <Filter className=\"h-4 w-4\" />\r\n            {t('audit.filters', 'Filters')}\r\n          </motion.button>\r\n\r\n          {/* Export */}\r\n          <div className=\"flex gap-2\">\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={() => handleExport('json')}\r\n              className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center gap-2\"\r\n            >\r\n              <Download className=\"h-4 w-4\" />\r\n              JSON\r\n            </motion.button>\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={() => handleExport('csv')}\r\n              className=\"px-4 py-2 border border-border rounded-lg text-foreground hover:bg-background/50 transition-colors flex items-center gap-2\"\r\n            >\r\n              <Download className=\"h-4 w-4\" />\r\n              CSV\r\n            </motion.button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Advanced Filters */}\r\n        <AnimatePresence>\r\n          {showFilters && (\r\n            <motion.div\r\n              initial={{ height: 0, opacity: 0 }}\r\n              animate={{ height: 'auto', opacity: 1 }}\r\n              exit={{ height: 0, opacity: 0 }}\r\n              className=\"bg-surface border border-border rounded-lg p-4\"\r\n            >\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                    {t('audit.action', 'Action')}\r\n                  </label>\r\n                  <select\r\n                    value={filters.action}\r\n                    onChange={(e) => handleFilterChange('action', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground\"\r\n                  >\r\n                    <option value=\"\">{t('audit.allActions', 'All Actions')}</option>\r\n                    {uniqueActions.map((action) => (\r\n                      <option key={action} value={action}>\r\n                        {getActionDisplayName(action)}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                    {t('audit.user', 'User')}\r\n                  </label>\r\n                  <select\r\n                    value={filters.userId}\r\n                    onChange={(e) => handleFilterChange('userId', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground\"\r\n                  >\r\n                    <option value=\"\">{t('audit.allUsers', 'All Users')}</option>\r\n                    {uniqueUsers.map((userName) => (\r\n                      <option key={userName} value={userName}>\r\n                        {userName}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                    {t('audit.status', 'Status')}\r\n                  </label>\r\n                  <select\r\n                    value={filters.success === undefined ? '' : filters.success.toString()}\r\n                    onChange={(e) => handleFilterChange('success', e.target.value === '' ? undefined : e.target.value === 'true')}\r\n                    className=\"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground\"\r\n                  >\r\n                    <option value=\"\">{t('audit.allStatuses', 'All Statuses')}</option>\r\n                    <option value=\"true\">{t('audit.success', 'Success')}</option>\r\n                    <option value=\"false\">{t('audit.failed', 'Failed')}</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                    {t('audit.startDate', 'Start Date')}\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={filters.startDate}\r\n                    onChange={(e) => handleFilterChange('startDate', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-foreground mb-2\">\r\n                    {t('audit.endDate', 'End Date')}\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={filters.endDate}\r\n                    onChange={(e) => handleFilterChange('endDate', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex items-end\">\r\n                  <motion.button\r\n                    whileHover={{ scale: 1.02 }}\r\n                    whileTap={{ scale: 0.98 }}\r\n                    onClick={clearFilters}\r\n                    className=\"w-full px-4 py-2 border border-border rounded-lg text-foreground hover:bg-background/50 transition-colors\"\r\n                  >\r\n                    {t('audit.clearFilters', 'Clear Filters')}\r\n                  </motion.button>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n\r\n      {/* Logs Table */}\r\n      <div className=\"bg-surface border border-border rounded-xl overflow-hidden\">\r\n        <div className=\"p-6 border-b border-border\">\r\n          <div className={`flex items-center justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <h2 className=\"text-xl font-semibold text-foreground\">\r\n              {t('audit.logs', 'Activity Logs')} ({filteredLogs.length})\r\n            </h2>\r\n            {logs.length > 1000 && (\r\n              <motion.button\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n                onClick={() => clearOldLogs()}\r\n                className=\"text-sm text-red-600 hover:text-red-700 font-medium\"\r\n              >\r\n                {t('audit.clearOldLogs', 'Clear Old Logs')}\r\n              </motion.button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-background/50\">\r\n              <tr className={isRTL ? 'text-right' : 'text-left'}>\r\n                <th className=\"px-6 py-3 text-xs font-medium text-foreground/60 uppercase tracking-wider\">\r\n                  {t('audit.timestamp', 'Timestamp')}\r\n                </th>\r\n                <th className=\"px-6 py-3 text-xs font-medium text-foreground/60 uppercase tracking-wider\">\r\n                  {t('audit.user', 'User')}\r\n                </th>\r\n                <th className=\"px-6 py-3 text-xs font-medium text-foreground/60 uppercase tracking-wider\">\r\n                  {t('audit.action', 'Action')}\r\n                </th>\r\n                <th className=\"px-6 py-3 text-xs font-medium text-foreground/60 uppercase tracking-wider\">\r\n                  {t('audit.resource', 'Resource')}\r\n                </th>\r\n                <th className=\"px-6 py-3 text-xs font-medium text-foreground/60 uppercase tracking-wider\">\r\n                  {t('audit.status', 'Status')}\r\n                </th>\r\n                <th className=\"px-6 py-3 text-xs font-medium text-foreground/60 uppercase tracking-wider\">\r\n                  {t('audit.details', 'Details')}\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-border\">\r\n              {paginatedLogs.map((log) => {\r\n                const ActionIcon = getActionIcon(log.action)\r\n                \r\n                return (\r\n                  <motion.tr\r\n                    key={log.id}\r\n                    layout\r\n                    className=\"hover:bg-background/50 transition-colors cursor-pointer\"\r\n                    onClick={() => setSelectedLog(log)}\r\n                  >\r\n                    <td className={`px-6 py-4 whitespace-nowrap text-sm text-foreground/70 ${\r\n                      isRTL ? 'text-right' : 'text-left'\r\n                    }`}>\r\n                      {formatTimestamp(log.timestamp)}\r\n                    </td>\r\n                    <td className={`px-6 py-4 whitespace-nowrap ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <User className=\"h-4 w-4 text-foreground/40\" />\r\n                        <div>\r\n                          <div className=\"text-sm font-medium text-foreground\">{log.userName}</div>\r\n                          <div className=\"text-xs text-foreground/60\">{log.userRole}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className={`px-6 py-4 whitespace-nowrap ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <ActionIcon className={`h-4 w-4 ${getActionColor(log.action, log.success)}`} />\r\n                        <span className=\"text-sm text-foreground\">\r\n                          {getActionDisplayName(log.action)}\r\n                        </span>\r\n                      </div>\r\n                    </td>\r\n                    <td className={`px-6 py-4 text-sm text-foreground/70 ${\r\n                      isRTL ? 'text-right' : 'text-left'\r\n                    }`}>\r\n                      <code className=\"bg-background px-2 py-1 rounded text-xs\">\r\n                        {log.resource}\r\n                      </code>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                        log.success\r\n                          ? 'bg-green-100 text-green-800'\r\n                          : 'bg-red-100 text-red-800'\r\n                      }`}>\r\n                        {log.success \r\n                          ? t('audit.success', 'Success')\r\n                          : t('audit.failed', 'Failed')\r\n                        }\r\n                      </span>\r\n                    </td>\r\n                    <td className={`px-6 py-4 text-sm text-foreground/60 ${\r\n                      isRTL ? 'text-right' : 'text-left'\r\n                    }`}>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Globe className=\"h-3 w-3\" />\r\n                        <span className=\"text-xs\">{log.ipAddress}</span>\r\n                      </div>\r\n                    </td>\r\n                  </motion.tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        {totalPages > 1 && (\r\n          <div className=\"px-6 py-4 border-t border-border\">\r\n            <div className={`flex items-center justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n              <div className=\"text-sm text-foreground/60\">\r\n                {t('audit.showing', 'Showing')} {(currentPage - 1) * logsPerPage + 1} - {Math.min(currentPage * logsPerPage, filteredLogs.length)} {t('audit.of', 'of')} {filteredLogs.length}\r\n              </div>\r\n              <div className={`flex gap-2 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <button\r\n                  onClick={() => setCurrentPage(page => Math.max(1, page - 1))}\r\n                  disabled={currentPage === 1}\r\n                  className=\"px-3 py-1 border border-border rounded-md text-sm text-foreground disabled:opacity-50 hover:bg-background/50 transition-colors\"\r\n                >\r\n                  {t('audit.previous', 'Previous')}\r\n                </button>\r\n                <span className=\"px-3 py-1 text-sm text-foreground\">\r\n                  {currentPage} / {totalPages}\r\n                </span>\r\n                <button\r\n                  onClick={() => setCurrentPage(page => Math.min(totalPages, page + 1))}\r\n                  disabled={currentPage === totalPages}\r\n                  className=\"px-3 py-1 border border-border rounded-md text-sm text-foreground disabled:opacity-50 hover:bg-background/50 transition-colors\"\r\n                >\r\n                  {t('audit.next', 'Next')}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Log Detail Modal */}\r\n      <AnimatePresence>\r\n        {selectedLog && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => setSelectedLog(null)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              className=\"bg-surface border border-border rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <div className={`flex items-center justify-between mb-6 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <h3 className=\"text-lg font-semibold text-foreground\">\r\n                  {t('audit.logDetails', 'Log Details')}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setSelectedLog(null)}\r\n                  className=\"p-2 text-foreground/40 hover:text-foreground transition-colors\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground/60\">\r\n                      {t('audit.timestamp', 'Timestamp')}\r\n                    </label>\r\n                    <p className=\"text-foreground\">{formatTimestamp(selectedLog.timestamp)}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground/60\">\r\n                      {t('audit.action', 'Action')}\r\n                    </label>\r\n                    <p className=\"text-foreground\">{getActionDisplayName(selectedLog.action)}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground/60\">\r\n                      {t('audit.user', 'User')}\r\n                    </label>\r\n                    <p className=\"text-foreground\">{selectedLog.userName} ({selectedLog.userEmail})</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground/60\">\r\n                      {t('audit.role', 'Role')}\r\n                    </label>\r\n                    <p className=\"text-foreground\">{selectedLog.userRole}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground/60\">\r\n                      {t('audit.resource', 'Resource')}\r\n                    </label>\r\n                    <p className=\"text-foreground font-mono text-sm\">{selectedLog.resource}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground/60\">\r\n                      {t('audit.status', 'Status')}\r\n                    </label>\r\n                    <p className={selectedLog.success ? 'text-green-600' : 'text-red-600'}>\r\n                      {selectedLog.success ? t('audit.success', 'Success') : t('audit.failed', 'Failed')}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground/60\">\r\n                      {t('audit.ipAddress', 'IP Address')}\r\n                    </label>\r\n                    <p className=\"text-foreground font-mono text-sm\">{selectedLog.ipAddress}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-foreground/60\">\r\n                      {t('audit.sessionId', 'Session ID')}\r\n                    </label>\r\n                    <p className=\"text-foreground font-mono text-sm\">{selectedLog.sessionId}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-foreground/60\">\r\n                    {t('audit.userAgent', 'User Agent')}\r\n                  </label>\r\n                  <p className=\"text-foreground text-sm break-all\">{selectedLog.userAgent}</p>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-foreground/60\">\r\n                    {t('audit.details', 'Details')}\r\n                  </label>\r\n                  <pre className=\"bg-background border border-border rounded-lg p-4 text-sm text-foreground overflow-x-auto\">\r\n                    {JSON.stringify(selectedLog.details, null, 2)}\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuditLogs","import { motion } from 'framer-motion';\r\nimport { Activity, Shield, Eye, TrendingUp } from 'lucide-react';\r\nimport ActivityTracker from '../../../components/admin/ActivityTracker.jsx';\r\n\r\nconst AdminActivityPage = () => {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-3\">\r\n            <Activity className=\"w-8 h-8 text-blue-600\" />\r\n            Activity & Audit Log\r\n          </h1>\r\n          <p className=\"text-gray-600 mt-1\">\r\n            Comprehensive tracking and monitoring of all admin activities\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"bg-gradient-to-r from-blue-500 to-blue-600 p-6 rounded-xl text-white\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-blue-100\">Today&apos;s Activities</p>\r\n              <p className=\"text-3xl font-bold\">127</p>\r\n            </div>\r\n            <Activity className=\"w-8 h-8 text-blue-200\" />\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n          className=\"bg-gradient-to-r from-green-500 to-green-600 p-6 rounded-xl text-white\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-green-100\">Success Rate</p>\r\n              <p className=\"text-3xl font-bold\">98.5%</p>\r\n            </div>\r\n            <Shield className=\"w-8 h-8 text-green-200\" />\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.2 }}\r\n          className=\"bg-gradient-to-r from-orange-500 to-orange-600 p-6 rounded-xl text-white\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-orange-100\">High Risk Events</p>\r\n              <p className=\"text-3xl font-bold\">3</p>\r\n            </div>\r\n            <Eye className=\"w-8 h-8 text-orange-200\" />\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.3 }}\r\n          className=\"bg-gradient-to-r from-purple-500 to-purple-600 p-6 rounded-xl text-white\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-purple-100\">Active Sessions</p>\r\n              <p className=\"text-3xl font-bold\">12</p>\r\n            </div>\r\n            <TrendingUp className=\"w-8 h-8 text-purple-200\" />\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* Activity Tracker Component */}\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.4 }}\r\n      >\r\n        <ActivityTracker />\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminActivityPage;","import { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Brain, Layout, AlertTriangle, Zap, TrendingUp, Shield } from 'lucide-react';\r\nimport AnomalyDetection from '../../../components/intelligence/AnomalyDetection.jsx';\r\nimport CustomDashboardBuilder from '../../../components/intelligence/CustomDashboardBuilder.jsx';\r\n\r\nconst IntelligenceDashboard = () => {\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n\r\n  const tabs = [\r\n    {\r\n      id: 'overview',\r\n      label: 'Overview',\r\n      icon: Brain,\r\n      description: 'AI-powered insights and alerts overview'\r\n    },\r\n    {\r\n      id: 'anomaly',\r\n      label: 'Anomaly Detection',\r\n      icon: AlertTriangle,\r\n      description: 'Real-time anomaly detection and threat monitoring'\r\n    },\r\n    {\r\n      id: 'dashboard',\r\n      label: 'Dashboard Builder',\r\n      icon: Layout,\r\n      description: 'Create custom dashboards with drag-and-drop widgets'\r\n    }\r\n  ];\r\n\r\n  const renderOverview = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Intelligence Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"bg-gradient-to-r from-purple-500 to-purple-600 p-6 rounded-xl text-white\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-purple-100\">AI Models Active</p>\r\n              <p className=\"text-3xl font-bold\">7</p>\r\n            </div>\r\n            <Brain className=\"w-8 h-8 text-purple-200\" />\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n          className=\"bg-gradient-to-r from-red-500 to-red-600 p-6 rounded-xl text-white\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-red-100\">Active Anomalies</p>\r\n              <p className=\"text-3xl font-bold\">3</p>\r\n            </div>\r\n            <AlertTriangle className=\"w-8 h-8 text-red-200\" />\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.2 }}\r\n          className=\"bg-gradient-to-r from-green-500 to-green-600 p-6 rounded-xl text-white\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-green-100\">Predictions Made</p>\r\n              <p className=\"text-3xl font-bold\">1,247</p>\r\n            </div>\r\n            <TrendingUp className=\"w-8 h-8 text-green-200\" />\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.3 }}\r\n          className=\"bg-gradient-to-r from-blue-500 to-blue-600 p-6 rounded-xl text-white\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-blue-100\">Accuracy Score</p>\r\n              <p className=\"text-3xl font-bold\">98.5%</p>\r\n            </div>\r\n            <Shield className=\"w-8 h-8 text-blue-200\" />\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* AI Capabilities Overview */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <motion.div\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.4 }}\r\n          className=\"bg-white rounded-lg shadow-sm border p-6\"\r\n        >\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n              <Brain className=\"w-6 h-6 text-purple-600\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">AI Capabilities</h3>\r\n          </div>\r\n          \r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium text-gray-900\">Anomaly Detection</div>\r\n                <div className=\"text-sm text-gray-600\">Real-time pattern analysis</div>\r\n              </div>\r\n              <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium text-gray-900\">Predictive Analytics</div>\r\n                <div className=\"text-sm text-gray-600\">Future trend forecasting</div>\r\n              </div>\r\n              <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium text-gray-900\">Recommendation Engine</div>\r\n                <div className=\"text-sm text-gray-600\">Personalized suggestions</div>\r\n              </div>\r\n              <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n              <div>\r\n                <div className=\"font-medium text-gray-900\">Natural Language Processing</div>\r\n                <div className=\"text-sm text-gray-600\">Text analysis and insights</div>\r\n              </div>\r\n              <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, x: 20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 0.5 }}\r\n          className=\"bg-white rounded-lg shadow-sm border p-6\"\r\n        >\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n              <Zap className=\"w-6 h-6 text-blue-600\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Recent AI Actions</h3>\r\n          </div>\r\n          \r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-start gap-3 p-3 bg-red-50 rounded-lg\">\r\n              <AlertTriangle className=\"w-5 h-5 text-red-600 mt-0.5\" />\r\n              <div>\r\n                <div className=\"font-medium text-gray-900\">Security Threat Detected</div>\r\n                <div className=\"text-sm text-gray-600\">Blocked 47 suspicious login attempts</div>\r\n                <div className=\"text-xs text-gray-500\">2 minutes ago</div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-start gap-3 p-3 bg-green-50 rounded-lg\">\r\n              <TrendingUp className=\"w-5 h-5 text-green-600 mt-0.5\" />\r\n              <div>\r\n                <div className=\"font-medium text-gray-900\">Revenue Optimization</div>\r\n                <div className=\"text-sm text-gray-600\">Suggested pricing adjustments for 12 products</div>\r\n                <div className=\"text-xs text-gray-500\">15 minutes ago</div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-start gap-3 p-3 bg-blue-50 rounded-lg\">\r\n              <Brain className=\"w-5 h-5 text-blue-600 mt-0.5\" />\r\n              <div>\r\n                <div className=\"font-medium text-gray-900\">Customer Insights</div>\r\n                <div className=\"text-sm text-gray-600\">Generated personalized recommendations for 342 users</div>\r\n                <div className=\"text-xs text-gray-500\">1 hour ago</div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex items-start gap-3 p-3 bg-purple-50 rounded-lg\">\r\n              <Layout className=\"w-5 h-5 text-purple-600 mt-0.5\" />\r\n              <div>\r\n                <div className=\"font-medium text-gray-900\">Dashboard Optimization</div>\r\n                <div className=\"text-sm text-gray-600\">Auto-arranged widgets based on usage patterns</div>\r\n                <div className=\"text-xs text-gray-500\">3 hours ago</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* AI Performance Metrics */}\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.6 }}\r\n        className=\"bg-white rounded-lg shadow-sm border p-6\"\r\n      >\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">AI Performance Metrics</h3>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-blue-600 mb-2\">98.5%</div>\r\n            <div className=\"text-sm text-gray-600\">Overall Accuracy</div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2 mt-2\">\r\n              <div className=\"bg-blue-600 h-2 rounded-full\" style={{ width: '98.5%' }}></div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-green-600 mb-2\">0.12s</div>\r\n            <div className=\"text-sm text-gray-600\">Average Response Time</div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2 mt-2\">\r\n              <div className=\"bg-green-600 h-2 rounded-full\" style={{ width: '85%' }}></div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-purple-600 mb-2\">99.9%</div>\r\n            <div className=\"text-sm text-gray-600\">System Uptime</div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2 mt-2\">\r\n              <div className=\"bg-purple-600 h-2 rounded-full\" style={{ width: '99.9%' }}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Brain className=\"w-8 h-8 text-purple-600\" />\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Intelligence Dashboard</h1>\r\n            <p className=\"text-gray-600\">AI-powered insights and intelligent automation</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"border-b border-gray-200\">\r\n        <nav className=\"flex space-x-8\">\r\n          {tabs.map((tab) => {\r\n            const Icon = tab.icon;\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center gap-2 pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                  activeTab === tab.id\r\n                    ? 'border-purple-500 text-purple-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Icon className=\"w-4 h-4\" />\r\n                {tab.label}\r\n              </button>\r\n            );\r\n          })}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <motion.div\r\n        key={activeTab}\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.3 }}\r\n      >\r\n        {activeTab === 'overview' && renderOverview()}\r\n        {activeTab === 'anomaly' && <AnomalyDetection />}\r\n        {activeTab === 'dashboard' && <CustomDashboardBuilder />}\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IntelligenceDashboard;","import React, { useState, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { \r\n  Shield, \r\n  Monitor, \r\n  Smartphone, \r\n  Globe, \r\n  Clock, \r\n  X,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  MapPin,\r\n  Wifi,\r\n  Settings\r\n} from 'lucide-react'\r\nimport { useI18n } from '../../../../ui/contexts/I18nContext.jsx'\r\nimport { useAdminSecurity } from '../../../../ui/contexts/AdminSecurityContext.jsx'\r\n\r\nconst SessionManager = () => {\r\n  const [sessions, setSessions] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [selectedSession, setSelectedSession] = useState(null)\r\n  const [showDetails, setShowDetails] = useState(false)\r\n\r\n  const { t, isRTL } = useI18n()\r\n  const { logSecurityEvent, SECURITY_EVENTS } = useAdminSecurity()\r\n\r\n  // Keep only super admin session - other sessions will be loaded from API\r\n  useEffect(() => {\r\n    const mockSessions = [\r\n      {\r\n        id: 'session_faisal_current',\r\n        userId: 'faisal_admin',\r\n        deviceType: 'desktop',\r\n        browser: 'Chrome 120.0',\r\n        os: 'Windows 11',\r\n        ipAddress: '192.168.1.100',\r\n        location: {\r\n          country: 'India',\r\n          city: 'Mumbai',\r\n          coordinates: { lat: 19.0760, lng: 72.8777 }\r\n        },\r\n        startTime: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2 hours ago\r\n        lastActivity: new Date(Date.now() - 5 * 60 * 1000), // 5 minutes ago\r\n        isCurrentSession: true,\r\n        status: 'active',\r\n        securityScore: 98,\r\n        riskLevel: 'low',\r\n        activities: [\r\n          { action: 'Dashboard View', time: new Date(Date.now() - 5 * 60 * 1000) },\r\n          { action: 'System Administration', time: new Date(Date.now() - 15 * 60 * 1000) },\r\n          { action: 'Security Management', time: new Date(Date.now() - 30 * 60 * 1000) }\r\n        ]\r\n      }\r\n    ]\r\n\r\n    setTimeout(() => {\r\n      setSessions(mockSessions)\r\n      setLoading(false)\r\n    }, 1000)\r\n  }, [])\r\n\r\n  const terminateSession = async (sessionId) => {\r\n    if (window.confirm(t('security.confirmTerminate', 'Are you sure you want to terminate this session?'))) {\r\n      setSessions(prev => prev.filter(s => s.id !== sessionId))\r\n      await logSecurityEvent(SECURITY_EVENTS.SESSION_TERMINATED, {\r\n        sessionId,\r\n        reason: 'Admin termination',\r\n        terminatedBy: 'admin'\r\n      })\r\n    }\r\n  }\r\n\r\n  const terminateAllSessions = async () => {\r\n    if (window.confirm(t('security.confirmTerminateAll', 'Terminate all other sessions? This will log out all other devices.'))) {\r\n      const currentSessionId = sessions.find(s => s.isCurrentSession)?.id\r\n      setSessions(prev => prev.filter(s => s.id === currentSessionId))\r\n      await logSecurityEvent(SECURITY_EVENTS.BULK_SESSION_TERMINATION, {\r\n        reason: 'Security cleanup',\r\n        terminatedCount: sessions.length - 1\r\n      })\r\n    }\r\n  }\r\n\r\n  const getDeviceIcon = (deviceType) => {\r\n    switch (deviceType) {\r\n      case 'mobile': return Smartphone\r\n      case 'tablet': return Smartphone\r\n      default: return Monitor\r\n    }\r\n  }\r\n\r\n  const getRiskColor = (riskLevel) => {\r\n    switch (riskLevel) {\r\n      case 'high': return 'text-red-600 bg-red-100'\r\n      case 'medium': return 'text-yellow-600 bg-yellow-100'\r\n      default: return 'text-green-600 bg-green-100'\r\n    }\r\n  }\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'suspicious': return 'text-red-600 bg-red-100'\r\n      case 'expired': return 'text-gray-600 bg-gray-100'\r\n      default: return 'text-green-600 bg-green-100'\r\n    }\r\n  }\r\n\r\n  const formatTimeAgo = (date) => {\r\n    const now = new Date()\r\n    const diffInMinutes = Math.floor((now - date) / (1000 * 60))\r\n    \r\n    if (diffInMinutes < 1) return t('time.justNow', 'Just now')\r\n    if (diffInMinutes < 60) return t('time.minutesAgo', `${diffInMinutes}m ago`)\r\n    \r\n    const diffInHours = Math.floor(diffInMinutes / 60)\r\n    if (diffInHours < 24) return t('time.hoursAgo', `${diffInHours}h ago`)\r\n    \r\n    const diffInDays = Math.floor(diffInHours / 24)\r\n    return t('time.daysAgo', `${diffInDays}d ago`)\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className={`flex items-center justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n        <div className={isRTL ? 'text-right' : 'text-left'}>\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2 flex items-center gap-3\">\r\n            <Shield className=\"h-8 w-8 text-primary\" />\r\n            {t('security.sessionManager', 'Session Manager')}\r\n          </h1>\r\n          <p className=\"text-foreground/60\">\r\n            {t('security.sessionDescription', 'Monitor and control active admin sessions across all devices')}\r\n          </p>\r\n        </div>\r\n\r\n        <motion.button\r\n          onClick={terminateAllSessions}\r\n          className=\"px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors\"\r\n          whileHover={{ scale: 1.02 }}\r\n          whileTap={{ scale: 0.98 }}\r\n        >\r\n          {t('security.terminateAll', 'Terminate All Others')}\r\n        </motion.button>\r\n      </div>\r\n\r\n      {/* Summary Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n              <Shield className=\"text-blue-600\" size={20} />\r\n            </div>\r\n            <div className={isRTL ? 'text-right' : 'text-left'}>\r\n              <div className=\"text-sm text-foreground/60\">{t('security.activeSessions', 'Active Sessions')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">{sessions.filter(s => s.status === 'active').length}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <div className=\"p-2 bg-green-100 rounded-lg\">\r\n              <CheckCircle className=\"text-green-600\" size={20} />\r\n            </div>\r\n            <div className={isRTL ? 'text-right' : 'text-left'}>\r\n              <div className=\"text-sm text-foreground/60\">{t('security.secureScore', 'Avg Security Score')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">\r\n                {Math.round(sessions.reduce((sum, s) => sum + s.securityScore, 0) / sessions.length)}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n              <AlertTriangle className=\"text-yellow-600\" size={20} />\r\n            </div>\r\n            <div className={isRTL ? 'text-right' : 'text-left'}>\r\n              <div className=\"text-sm text-foreground/60\">{t('security.suspiciousSessions', 'Suspicious')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">\r\n                {sessions.filter(s => s.status === 'suspicious').length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-surface border border-border rounded-xl p-4\">\r\n          <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n            <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n              <Globe className=\"text-purple-600\" size={20} />\r\n            </div>\r\n            <div className={isRTL ? 'text-right' : 'text-left'}>\r\n              <div className=\"text-sm text-foreground/60\">{t('security.locations', 'Locations')}</div>\r\n              <div className=\"text-xl font-bold text-foreground\">\r\n                {new Set(sessions.map(s => s.location.country)).size}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Sessions List */}\r\n      <div className=\"bg-surface border border-border rounded-xl overflow-hidden\">\r\n        <div className=\"p-6 border-b border-border\">\r\n          <h2 className=\"text-xl font-semibold text-foreground\">\r\n            {t('security.allSessions', 'All Sessions')}\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"divide-y divide-border\">\r\n          {sessions.map((session) => {\r\n            const DeviceIcon = getDeviceIcon(session.deviceType)\r\n            \r\n            return (\r\n              <motion.div\r\n                key={session.id}\r\n                layout\r\n                className=\"p-6 hover:bg-background/50 transition-colors\"\r\n              >\r\n                <div className={`flex items-center justify-between ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                  <div className={`flex items-center gap-4 flex-1 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                    {/* Device Icon */}\r\n                    <div className={`p-3 rounded-xl ${session.isCurrentSession ? 'bg-primary/20' : 'bg-background'}`}>\r\n                      <DeviceIcon \r\n                        size={24} \r\n                        className={session.isCurrentSession ? 'text-primary' : 'text-foreground/60'} \r\n                      />\r\n                    </div>\r\n\r\n                    {/* Session Info */}\r\n                    <div className={`flex-1 ${isRTL ? 'text-right' : 'text-left'}`}>\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <h3 className=\"font-semibold text-foreground\">\r\n                          {session.browser} on {session.os}\r\n                        </h3>\r\n                        {session.isCurrentSession && (\r\n                          <span className=\"px-2 py-1 bg-primary/20 text-primary text-xs rounded-full font-medium\">\r\n                            {t('security.currentSession', 'Current')}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"space-y-1 text-sm text-foreground/60\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <MapPin size={14} />\r\n                          <span>{session.location.city}, {session.location.country}</span>\r\n                          <span className=\"text-foreground/40\">•</span>\r\n                          <span>{session.ipAddress}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Clock size={14} />\r\n                          <span>{t('security.lastActive', 'Last active')}: {formatTimeAgo(session.lastActivity)}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Status & Risk */}\r\n                    <div className={`flex flex-col items-end gap-2 ${isRTL ? 'items-start' : 'items-end'}`}>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(session.status)}`}>\r\n                          {session.status}\r\n                        </span>\r\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${getRiskColor(session.riskLevel)}`}>\r\n                          {session.riskLevel} risk\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"text-sm text-foreground/60\">\r\n                        Security: {session.securityScore}%\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Actions */}\r\n                  <div className={`flex items-center gap-2 ml-4 ${isRTL ? 'mr-4 ml-0' : ''}`}>\r\n                    <button\r\n                      onClick={() => {\r\n                        setSelectedSession(session)\r\n                        setShowDetails(true)\r\n                      }}\r\n                      className=\"p-2 text-foreground/60 hover:text-foreground hover:bg-background rounded-lg transition-colors\"\r\n                    >\r\n                      <Settings size={16} />\r\n                    </button>\r\n                    \r\n                    {!session.isCurrentSession && (\r\n                      <button\r\n                        onClick={() => terminateSession(session.id)}\r\n                        className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                      >\r\n                        <X size={16} />\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Session Details Modal */}\r\n      <AnimatePresence>\r\n        {showDetails && selectedSession && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => setShowDetails(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              className=\"bg-surface border border-border rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <div className={`flex items-center justify-between mb-6 ${isRTL ? 'flex-row-reverse' : ''}`}>\r\n                <h3 className=\"text-lg font-semibold text-foreground\">\r\n                  {t('security.sessionDetails', 'Session Details')}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowDetails(false)}\r\n                  className=\"p-2 text-foreground/40 hover:text-foreground transition-colors\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                {/* Session Info */}\r\n                <div>\r\n                  <h4 className=\"font-medium text-foreground mb-3\">{t('security.sessionInfo', 'Session Information')}</h4>\r\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"text-foreground/60\">{t('security.sessionId', 'Session ID')}:</span>\r\n                      <p className=\"font-mono\">{selectedSession.id}</p>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-foreground/60\">{t('security.deviceType', 'Device Type')}:</span>\r\n                      <p className=\"capitalize\">{selectedSession.deviceType}</p>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-foreground/60\">{t('security.browser', 'Browser')}:</span>\r\n                      <p>{selectedSession.browser}</p>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-foreground/60\">{t('security.operatingSystem', 'OS')}:</span>\r\n                      <p>{selectedSession.os}</p>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-foreground/60\">{t('security.ipAddress', 'IP Address')}:</span>\r\n                      <p className=\"font-mono\">{selectedSession.ipAddress}</p>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-foreground/60\">{t('security.securityScore', 'Security Score')}:</span>\r\n                      <p>{selectedSession.securityScore}%</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Location Info */}\r\n                <div>\r\n                  <h4 className=\"font-medium text-foreground mb-3\">{t('security.locationInfo', 'Location Information')}</h4>\r\n                  <div className=\"text-sm space-y-2\">\r\n                    <p>\r\n                      <span className=\"text-foreground/60\">{t('security.location', 'Location')}:</span>\r\n                      <span className=\"ml-2\">{selectedSession.location.city}, {selectedSession.location.country}</span>\r\n                    </p>\r\n                    <p>\r\n                      <span className=\"text-foreground/60\">{t('security.coordinates', 'Coordinates')}:</span>\r\n                      <span className=\"ml-2 font-mono\">\r\n                        {selectedSession.location.coordinates.lat}, {selectedSession.location.coordinates.lng}\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Recent Activities */}\r\n                <div>\r\n                  <h4 className=\"font-medium text-foreground mb-3\">{t('security.recentActivities', 'Recent Activities')}</h4>\r\n                  <div className=\"space-y-2\">\r\n                    {selectedSession.activities.map((activity, index) => (\r\n                      <div key={index} className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-foreground\">{activity.action}</span>\r\n                        <span className=\"text-foreground/60\">{formatTimeAgo(activity.time)}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                {!selectedSession.isCurrentSession && (\r\n                  <div className=\"flex justify-end pt-4 border-t border-border\">\r\n                    <button\r\n                      onClick={() => {\r\n                        terminateSession(selectedSession.id)\r\n                        setShowDetails(false)\r\n                      }}\r\n                      className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n                    >\r\n                      {t('security.terminateSession', 'Terminate Session')}\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SessionManager","import { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { \r\n  Settings, Palette, Globe, Monitor, Shield, \r\n  Bell, Cloud, Key\r\n} from 'lucide-react';\r\nimport ThemeManager from '../../../components/admin/ThemeManager.jsx';\r\nimport LanguageManager from '../../../components/admin/LanguageManager.jsx';\r\n\r\nconst AdvancedSettings = () => {\r\n  const [activeTab, setActiveTab] = useState('appearance');\r\n\r\n  const tabs = [\r\n    {\r\n      id: 'appearance',\r\n      label: 'Appearance',\r\n      icon: Palette,\r\n      description: 'Themes, colors, and visual customization'\r\n    },\r\n    {\r\n      id: 'language',\r\n      label: 'Language & Localization',\r\n      icon: Globe,\r\n      description: 'Multi-language support and translations'\r\n    },\r\n    {\r\n      id: 'system',\r\n      label: 'System Settings',\r\n      icon: Monitor,\r\n      description: 'Performance, caching, and system configuration'\r\n    },\r\n    {\r\n      id: 'security',\r\n      label: 'Security',\r\n      icon: Shield,\r\n      description: 'Authentication, permissions, and security policies'\r\n    },\r\n    {\r\n      id: 'notifications',\r\n      label: 'Notifications',\r\n      icon: Bell,\r\n      description: 'Email, SMS, and push notification settings'\r\n    },\r\n    {\r\n      id: 'integrations',\r\n      label: 'Integrations',\r\n      icon: Cloud,\r\n      description: 'Third-party services and API configurations'\r\n    }\r\n  ];\r\n\r\n  const renderSystemSettings = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance Settings</h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <label className=\"font-medium text-gray-900\">Enable Caching</label>\r\n              <p className=\"text-sm text-gray-600\">Improve application performance with Redis caching</p>\r\n            </div>\r\n            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n              <input type=\"checkbox\" className=\"sr-only peer\" defaultChecked />\r\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n            </label>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <label className=\"font-medium text-gray-900\">Auto-Backup</label>\r\n              <p className=\"text-sm text-gray-600\">Automatically backup data every 6 hours</p>\r\n            </div>\r\n            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n              <input type=\"checkbox\" className=\"sr-only peer\" defaultChecked />\r\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n            </label>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block font-medium text-gray-900 mb-2\">Session Timeout (minutes)</label>\r\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"30\">30 minutes</option>\r\n              <option value=\"60\" selected>60 minutes</option>\r\n              <option value=\"120\">2 hours</option>\r\n              <option value=\"480\">8 hours</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block font-medium text-gray-900 mb-2\">Log Level</label>\r\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"error\">Error</option>\r\n              <option value=\"warn\">Warning</option>\r\n              <option value=\"info\" selected>Info</option>\r\n              <option value=\"debug\">Debug</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Database Settings</h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-medium text-gray-900 mb-2\">Connection Pool Size</label>\r\n              <input \r\n                type=\"number\" \r\n                defaultValue=\"20\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block font-medium text-gray-900 mb-2\">Query Timeout (seconds)</label>\r\n              <input \r\n                type=\"number\" \r\n                defaultValue=\"30\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <label className=\"font-medium text-gray-900\">Enable Query Logging</label>\r\n              <p className=\"text-sm text-gray-600\">Log all database queries for debugging</p>\r\n            </div>\r\n            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n              <input type=\"checkbox\" className=\"sr-only peer\" />\r\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderSecuritySettings = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Authentication Settings</h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <label className=\"font-medium text-gray-900\">Require 2FA for Admins</label>\r\n              <p className=\"text-sm text-gray-600\">Force two-factor authentication for all admin users</p>\r\n            </div>\r\n            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n              <input type=\"checkbox\" className=\"sr-only peer\" defaultChecked />\r\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n            </label>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block font-medium text-gray-900 mb-2\">Password Policy</label>\r\n            <div className=\"space-y-2\">\r\n              <label className=\"flex items-center\">\r\n                <input type=\"checkbox\" className=\"rounded border-gray-300\" defaultChecked />\r\n                <span className=\"ml-2 text-sm text-gray-700\">Minimum 8 characters</span>\r\n              </label>\r\n              <label className=\"flex items-center\">\r\n                <input type=\"checkbox\" className=\"rounded border-gray-300\" defaultChecked />\r\n                <span className=\"ml-2 text-sm text-gray-700\">Require uppercase letters</span>\r\n              </label>\r\n              <label className=\"flex items-center\">\r\n                <input type=\"checkbox\" className=\"rounded border-gray-300\" defaultChecked />\r\n                <span className=\"ml-2 text-sm text-gray-700\">Require numbers</span>\r\n              </label>\r\n              <label className=\"flex items-center\">\r\n                <input type=\"checkbox\" className=\"rounded border-gray-300\" />\r\n                <span className=\"ml-2 text-sm text-gray-700\">Require special characters</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block font-medium text-gray-900 mb-2\">Login Attempts Limit</label>\r\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"3\">3 attempts</option>\r\n              <option value=\"5\" selected>5 attempts</option>\r\n              <option value=\"10\">10 attempts</option>\r\n              <option value=\"unlimited\">Unlimited</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">IP Security</h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block font-medium text-gray-900 mb-2\">Allowed IP Addresses</label>\r\n            <textarea \r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              rows=\"4\"\r\n              placeholder=\"Enter IP addresses or ranges, one per line&#10;192.168.1.0/24&#10;203.0.113.5\"\r\n            />\r\n            <p className=\"text-sm text-gray-600 mt-1\">Leave empty to allow all IP addresses</p>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <label className=\"font-medium text-gray-900\">Enable GeoIP Blocking</label>\r\n              <p className=\"text-sm text-gray-600\">Block access from specific countries</p>\r\n            </div>\r\n            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n              <input type=\"checkbox\" className=\"sr-only peer\" />\r\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderNotificationSettings = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Email Notifications</h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-medium text-gray-900 mb-2\">SMTP Server</label>\r\n              <input \r\n                type=\"text\" \r\n                defaultValue=\"smtp.gmail.com\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block font-medium text-gray-900 mb-2\">SMTP Port</label>\r\n              <input \r\n                type=\"number\" \r\n                defaultValue=\"587\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block font-medium text-gray-900 mb-2\">Username</label>\r\n              <input \r\n                type=\"email\" \r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"admin@ivolex.com\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block font-medium text-gray-900 mb-2\">Password</label>\r\n              <input \r\n                type=\"password\" \r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"font-medium text-gray-900\">Notification Types</h4>\r\n            <label className=\"flex items-center\">\r\n              <input type=\"checkbox\" className=\"rounded border-gray-300\" defaultChecked />\r\n              <span className=\"ml-2 text-sm text-gray-700\">New orders</span>\r\n            </label>\r\n            <label className=\"flex items-center\">\r\n              <input type=\"checkbox\" className=\"rounded border-gray-300\" defaultChecked />\r\n              <span className=\"ml-2 text-sm text-gray-700\">Low inventory alerts</span>\r\n            </label>\r\n            <label className=\"flex items-center\">\r\n              <input type=\"checkbox\" className=\"rounded border-gray-300\" />\r\n              <span className=\"ml-2 text-sm text-gray-700\">User registrations</span>\r\n            </label>\r\n            <label className=\"flex items-center\">\r\n              <input type=\"checkbox\" className=\"rounded border-gray-300\" defaultChecked />\r\n              <span className=\"ml-2 text-sm text-gray-700\">Security alerts</span>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderIntegrations = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Payment Gateways</h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n                <Key className=\"w-5 h-5 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <h4 className=\"font-medium text-gray-900\">Razorpay</h4>\r\n                <p className=\"text-sm text-gray-600\">Indian payment gateway</p>\r\n              </div>\r\n            </div>\r\n            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n              <input type=\"checkbox\" className=\"sr-only peer\" defaultChecked />\r\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n            </label>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center\">\r\n                <Key className=\"w-5 h-5 text-purple-600\" />\r\n              </div>\r\n              <div>\r\n                <h4 className=\"font-medium text-gray-900\">Stripe</h4>\r\n                <p className=\"text-sm text-gray-600\">Global payment processing</p>\r\n              </div>\r\n            </div>\r\n            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n              <input type=\"checkbox\" className=\"sr-only peer\" />\r\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Analytics & Tracking</h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block font-medium text-gray-900 mb-2\">Google Analytics ID</label>\r\n            <input \r\n              type=\"text\" \r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"GA-XXXXXXXXX-X\"\r\n            />\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block font-medium text-gray-900 mb-2\">Facebook Pixel ID</label>\r\n            <input \r\n              type=\"text\" \r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"XXXXXXXXXXXXXXX\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <label className=\"font-medium text-gray-900\">Enable Google Tag Manager</label>\r\n              <p className=\"text-sm text-gray-600\">Advanced tracking and marketing tags</p>\r\n            </div>\r\n            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n              <input type=\"checkbox\" className=\"sr-only peer\" />\r\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Settings className=\"w-8 h-8 text-blue-600\" />\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Advanced Settings</h1>\r\n            <p className=\"text-gray-600\">Configure system preferences and integrations</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"border-b border-gray-200\">\r\n        <nav className=\"flex space-x-8 overflow-x-auto\">\r\n          {tabs.map((tab) => {\r\n            const Icon = tab.icon;\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center gap-2 pb-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${\r\n                  activeTab === tab.id\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Icon className=\"w-4 h-4\" />\r\n                {tab.label}\r\n              </button>\r\n            );\r\n          })}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <motion.div\r\n        key={activeTab}\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.3 }}\r\n      >\r\n        {activeTab === 'appearance' && <ThemeManager />}\r\n        {activeTab === 'language' && <LanguageManager />}\r\n        {activeTab === 'system' && renderSystemSettings()}\r\n        {activeTab === 'security' && renderSecuritySettings()}\r\n        {activeTab === 'notifications' && renderNotificationSettings()}\r\n        {activeTab === 'integrations' && renderIntegrations()}\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdvancedSettings;"],"names":["AnalyticsExport","data","timeRange","selectedSegment","onExport","isExporting","setIsExporting","useState","showOptions","setShowOptions","exportFormat","setExportFormat","includeCharts","setIncludeCharts","includeSummary","setIncludeSummary","includeDetails","setIncludeDetails","t","isRTL","useI18n","logAction","useAudit","exportOptions","format","label","icon","FileText","description","BarChart3","Download","generatePDFReport","async","config","Promise","resolve","setTimeout","pdfContent","generatePDFContent","blob","Blob","type","success","filename","Date","now","fileSize","size","generateExcelReport","excelData","generateExcelData","csv","convertToCSV","generateCSVReport","csvData","generateCSVData","toUpperCase","toLocaleString","overview","totalRevenue","totalOrders","totalCustomers","changes","revenue","orders","customers","conversionRate","conversion","Metric","Value","Change","Period","Segment","segment","length","Object","keys","join","map","row","values","value","includes","replace","downloadFile","url","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","jsxs","className","children","motion","button","onClick","disabled","whileHover","scale","whileTap","jsx","RefreshCw","AnimatePresence","div","initial","opacity","animate","exit","e","stopPropagation","X","option","Icon","name","checked","onChange","target","CheckCircle","exportConfig","options","segments","segmentData","recentOrders","customRequests","generatedAt","toISOString","result","AUDIT_ACTIONS","EXPORT","error","Fragment","MOCK_ANALYTICS","leather","growth","electronics","furniture","id","customer","amount","status","time","category","urgency","SEGMENT_COLORS","AdminDashboard","theme","useSegment","setTimeRange","setSelectedSegment","analytics","setAnalytics","refreshing","setRefreshing","useEffect","interval","setInterval","prev","Math","floor","random","clearInterval","StatCard","title","change","subtitle","_trend","isPositive","y","layout","style","backgroundColor","colors","primary","color","TrendingUp","TrendingDown","abs","val","toFixed","background","DollarSign","ShoppingBag","Users","transition","delay","entries","Package","Eye","order","filter","r","request","BulkOperationsManager","items","selectedItems","onSelectionChange","onBulkAction","itemType","columns","bulkAction","setBulkAction","showConfirmation","setShowConfirmation","isProcessing","setIsProcessing","searchTerm","setSearchTerm","filterCriteria","setFilterCriteria","progress","setProgress","fileInputRef","useRef","bulkActions","Trash2","danger","Archive","Copy","Edit3","Upload","filteredItems","item","matchesSearch","some","String","toLowerCase","matchesFilter","every","key","executeBulkAction","actionId","i","Search","placeholder","col","filterable","column","_a","filterOptions","Zap","action","current","find","handleBulkAction","round","width","duration","CheckSquare","Square","email","updatedAt","toLocaleDateString","AlertTriangle","ref","accept","event","file","files","reader","FileReader","onload","JSON","parse","readAsText","MOCK_PRODUCTS","nameAr","subcategory","price","originalPrice","stock","rating","reviews","image","featured","bestseller","dateAdded","lastModified","CATEGORIES","subcategories","STATUS_OPTIONS","labelAr","COLOR_PRESETS","secondary","accent","surface","foreground","modern","nature","TYPOGRAPHY_PRESETS","headings","classic","minimal","elegant","LAYOUT_PRESETS","compact","containerPadding","sectionSpacing","cardPadding","borderRadius","comfortable","spacious","MOCK_REQUESTS","customerName","customerNameAr","phone","priority","projectTitle","projectTitleAr","budget","timeline","dateSubmitted","STATUS_CONFIG","pending","Clock","in_progress","AlertCircle","completed","rejected","XCircle","MOCK_USERS","role","joinDate","lastLogin","totalSpent","avatar","ROLE_CONFIG","super_admin","ShieldCheck","admin","moderator","Shield","active","inactive","suspended","INDIA_ANALYTICS","paymentMethods","cod","percentage","upi","cards","netBanking","regions","state","languages","english","users","hindi","deviceTypes","mobile","desktop","tablet","topProducts","sales","hourlyTrends","hour","RECOMMENDATION_DATA","algorithms","performance","usage","lastUpdated","minSimilarity","maxRecommendations","weightFeatures","similarity","collaborativeWeight","contentWeight","categories","enabled","clicks","conversions","position","userSegments","count","strategy","AdminSecurityContext","createContext","ActivityTracker","activities","setActivities","filteredActivities","setFilteredActivities","filters","setFilters","user","resource","dateRange","riskLevel","isLoading","setIsLoading","stats","setStats","mockActivities","useMemo","timestamp","userId","userName","resourceId","details","ipAddress","userAgent","deviceType","location","affectedRecords","sessionId","extendedActivities","baseActivity","push","sort","b","loadActivities","filterActivities","calculateStats","useCallback","filtered","activity","forEach","days","cutoff","getTime","total","successful","failed","highRisk","uniqueUsers","Set","uniqueIPs","successRate","getRiskColor","level","getStatusColor","Activity","User","Globe","Timestamp","Action","Resource","Status","Location","Details","split","DeviceIcon","Smartphone","Tablet","Laptop","getDeviceIcon","MapPin","AnomalyDetection","anomalies","setAnomalies","isScanning","setIsScanning","settings","sensitivity","autoScan","notifications","severity","severityConfig","critical","bg","text","high","medium","low","categoryConfig","security","business","user_behavior","mockAnomalies","confidence","affectedMetric","expectedValue","actualValue","impact","recommendation","autoActions","performAnomalyDetection","newAnomaly","filteredAnomalies","anomaly","hoursDiff","getStatusIcon","updateAnomalyStatus","newStatus","Brain","Filter","severityConfig_item","categoryConfig_item","CategoryIcon","index","toLocaleTimeString","CustomDashboardBuilder","dashboards","setDashboards","widgets","x","w","h","isDefault","selectedDashboard","setSelectedDashboard","editMode","setEditMode","showWidgetLibrary","setShowWidgetLibrary","previewDevice","setPreviewDevice","widgetTypes","defaultSize","configurable","LineChart","PieChart","devices","Monitor","d","Save","exportData","exportDate","version","stringify","dashboard","newDashboard","Plus","Palette","Grid","_b","minHeight","gridTemplateColumns","gridAutoRows","widget","widgetType","gridColumn","gridRow","Settings","removeWidget","widgetId","Layout","newWidget","max","addWidget","ThemeManager","currentTheme","setCurrentTheme","customThemes","setCustomThemes","isCreating","setIsCreating","selectedDevice","setSelectedDevice","themeEditor","setThemeEditor","textSecondary","border","warning","typography","fontFamily","fontSize","fontWeight","lineHeight","spacing","unit","container","sm","md","lg","xl","shadows","builtInThemes","Sun","Moon","savedTheme","localStorage","getItem","applyTheme","initialTheme","matchMedia","matches","savedCustomThemes","themeId","root","documentElement","setProperty","classList","add","handleThemeChange","setItem","newTheme","isCustom","updatedCustomThemes","isActive","Check","slice","fullCSS","navigator","clipboard","writeText","copyThemeCode","exportTheme","trim","preset","LanguageManager","setLanguages","code","nativeName","flag","translationCount","direction","translations","setTranslations","en","ar","hi","selectedLanguage","setSelectedLanguage","editingKey","setEditingKey","editValue","setEditValue","searchQuery","setSearchQuery","showAddLanguage","setShowAddLanguage","newLanguage","setNewLanguage","availableLanguages","filteredTranslations","saveTranslation","totalKeys","translatedKeys","lang","cancelEditing","autoTranslate","langCode","missingKeys","englishKeys","langKeys","getMissingTranslations","newTranslations","Languages","language","l","exportTranslations","updated","rows","dir","_c","startEditing","selected","ADMIN_MENU","LayoutDashboard","component","formatCurrency","selectedMetric","setSelectedMetric","MetricCard","ArrowUp","ArrowDown","PaymentMethodChart","method","RegionalPerformance","region","device","MessageSquare","product","Target","products","setProducts","filteredProducts","setFilteredProducts","viewMode","setViewMode","selectedCategory","setSelectedCategory","selectedStatus","setSelectedStatus","showFilters","setShowFilters","selectedProducts","setSelectedProducts","showBulkActions","setShowBulkActions","showProductModal","setShowProductModal","editingProduct","setEditingProduct","handleSelectProduct","productId","exportProducts","selectedIds","p","ID","Name","Category","Price","OriginalPrice","Stock","Rating","Reviews","Featured","Bestseller","DateAdded","LastModified","json","selectedOnly","search","content","mimeType","getStatusBadge","statusConfig","out_of_stock","draft","ProductGridItem","src","alt","Edit","Star","ProductListItem","tr","confirm","DELETE","productName","handleDeleteProduct","Grid3X3","List","productIds","UPDATE","duplicates","CREATE","originalIds","newProducts","cat","opt","reduce","sum","activeTab","setActiveTab","setData","selectedAlgorithm","setSelectedAlgorithm","showConfigModal","setShowConfigModal","StatusBadge","testing","charAt","PerformanceBar","AlgorithmCard","algorithm","CategoryRow","tab","defaultValue","Warehouse","inventory","alerts","loading","updateStock","acknowledgeAlert","clearAlerts","updateSettings","getStockStatus","getInventorySummary","addIncomingStock","receiveStock","useInventory","useLanguage","useTheme","filterType","setFilterType","selectedProduct","setSelectedProduct","showSettings","setShowSettings","editingStock","setEditingStock","stockInput","setStockInput","stored","summary","stockStatus","handleQuickAdjust","adjustment","currentStock","newStock","cardBackground","borderHover","height","Bell","alert","message","totalProducts","outOfStock","criticalStock","lowStock","inStock","stockInfo","reserved","incoming","available","in_stock","min","field","parseInt","Minus","toString","lowStockThreshold","criticalStockThreshold","enableAlerts","htmlFor","autoReorderEnabled","Truck","shipments","orderId","trackingNumber","provider","origin","destination","createdAt","estimatedDelivery","deliveredAt","picked_up","in_transit","out_for_delivery","delivered","Navigation","filteredShipments","shipment","s","inTransit","totalValue","formatDate","dateString","year","month","day","minute","requests","setRequests","filteredRequests","setFilteredRequests","selectedRequest","setSelectedRequest","statusFilter","setStatusFilter","StatusIcon","handleStatusChange","requestId","req","descriptionAr","Mail","Phone","selectedPreset","setSelectedPreset","customColors","setCustomColors","selectedTypography","setSelectedTypography","selectedLayout","setSelectedLayout","previewMode","setPreviewMode","isDarkMode","setIsDarkMode","showPreview","setShowPreview","hasUnsavedChanges","setHasUnsavedChanges","isGenerating","setIsGenerating","showColorPicker","setShowColorPicker","currentSegment","handleColorChange","colorKey","ColorPicker","PreviewComponent","borderColor","randomPreset","Shuffle","handlePresetSelect","presetKey","Type","RotateCcw","setUsers","filteredUsers","setFilteredUsers","roleFilter","setRoleFilter","handleRoleChange","newRole","u","hasPermission","hasMinimumRole","currentUser","ROLES","AVAILABLE_ROLES","selectedUser","setSelectedUser","isEditing","setIsEditing","setNewRole","showPermissions","setShowPermissions","SUPER_ADMIN","canManageRoles","PERMISSIONS","ROLES_MANAGE","USERS_VIEW","getRoleDisplayName","ADMIN","MANAGER","MODERATOR","VIEWER","CUSTOMER","getRoleColor","formatLastLogin","date","Intl","DateTimeFormat","getPermissionDisplayName","permission","userPermissions","ROLE_PERMISSIONS","Lock","oldRole","ROLE_CHANGE","targetUserId","logs","getFilteredLogs","exportLogs","clearOldLogs","startDate","endDate","selectedLog","setSelectedLog","currentPage","setCurrentPage","canViewAuditLogs","AUDIT_LOGS_VIEW","filteredLogs","log","userEmail","totalPages","ceil","paginatedLogs","handleFilterChange","formatTimestamp","second","getActionColor","LOGIN","LOGOUT","VIEW","SECURITY_EVENT","PERMISSION_CHANGE","getActionDisplayName","APPROVE","REJECT","REFUND","CANCEL","SETTINGS_CHANGE","THEME_CHANGE","handleExport","display","uniqueActions","ActionIcon","userRole","page","tabs","sessions","setSessions","setLoading","selectedSession","setSelectedSession","showDetails","setShowDetails","logSecurityEvent","SECURITY_EVENTS","context","useContext","Error","useAdminSecurity","mockSessions","browser","os","country","city","coordinates","lat","lng","startTime","lastActivity","isCurrentSession","securityScore","terminateSession","SESSION_TERMINATED","reason","terminatedBy","formatTimeAgo","diffInMinutes","diffInHours","diffInDays","currentSessionId","BULK_SESSION_TERMINATION","terminatedCount","session","Cloud","defaultChecked","Key","AdminPanel","activeSection","setActiveSection","sidebarOpen","setSidebarOpen","ActiveComponent","aside","LogOut","Menu"],"mappings":"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"}