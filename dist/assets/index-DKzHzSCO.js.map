{"version":3,"mappings":";4vCAEA,IAAIA,EAAIC,EAENC,EAAqBF,EAAEE,WACDF,EAAEG,g/BCFpBC,EAAiB,CACrBC,QAAS,CACPC,GAAI,UACJC,KAAM,UACNC,KAAM,UACNC,OAAQ,CACNC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,MAAO,UACPC,OAAQ,UACRC,KAAM,WAERC,QAAS,CACPN,WAAY,oDACZO,QACE,qXACFC,KAAM,qDAERC,QAAS,CACPC,GAAI,mCACJC,GAAI,oCACJC,GAAI,oCACJC,GAAI,sCAENC,OAAQ,CACNC,SAAU,CACRC,KAAM,QACNC,OAAQ,QACRC,KAAM,SAERC,OAAQ,CACNC,QAAS,mCACTC,OAAQ,oCACRC,OAAQ,iCAGZC,aAAc,CACZb,GAAI,WACJC,GAAI,SACJC,GAAI,UACJC,GAAI,OACJ,MAAO,SACPW,KAAM,UAERC,QAAS,CACPC,QAAS,OACTC,UAAW,SAGfC,YAAa,CACXnC,GAAI,cACJC,KAAM,cACNC,KAAM,cACNC,OAAQ,CACNC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,MAAO,UACPC,OAAQ,UACRC,KAAM,WAERC,QAAS,CACPN,WAAY,oDACZO,QACE,kFACFC,KAAM,qDAERC,QAAS,CACPC,GAAI,oCACJC,GAAI,qCACJC,GAAI,qCACJC,GAAI,uCAENC,OAAQ,CACNC,SAAU,CACRC,KAAM,QACNC,OAAQ,QACRC,KAAM,SAERC,OAAQ,CACNC,QAAS,+BACTC,OAAQ,yCACRC,OAAQ,yCAGZC,aAAc,CACZb,GAAI,UACJC,GAAI,WACJC,GAAI,SACJC,GAAI,UACJ,MAAO,OACPW,KAAM,UAERC,QAAS,CACPC,QAAS,OACTC,UAAW,WAGfE,UAAW,CACTpC,GAAI,YACJC,KAAM,wBACNC,KAAM,YACNC,OAAQ,CACNC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,MAAO,UACPC,OAAQ,UACRC,KAAM,WAERC,QAAS,CACPN,WAAY,oDACZO,QACE,uPACFC,KAAM,qDAERC,QAAS,CACPC,GAAI,oCACJC,GAAI,qCACJC,GAAI,qCACJC,GAAI,uCAENC,OAAQ,CACNC,SAAU,CACRC,KAAM,QACNC,OAAQ,QACRC,KAAM,SAERC,OAAQ,CACNC,QAAS,mCACTC,OAAQ,0CACRC,OAAQ,iCAGZC,aAAc,CACZb,GAAI,SACJC,GAAI,UACJC,GAAI,OACJC,GAAI,UACJ,MAAO,UACPW,KAAM,UAERC,QAAS,CACPC,QAAS,OACTC,UAAW,YAMXG,EACS,cADTA,EAES,cAFTA,EAGO,YAIPC,EAAe,CACnBC,cAAe,UACfC,MAAO1C,EAAeC,QACtB0C,WAAW,EACXC,MAAO,MAIT,SAASC,GAAeC,EAAOC,GAC7B,OAAQA,EAAOC,MACb,KAAKT,EACH,MAAO,IACFO,EACHL,cAAeM,EAAOE,QACtBP,MAAO1C,EAAe+C,EAAOE,SAC7BL,MAAO,MAEX,KAAKL,EACH,MAAO,IACFO,EACHH,UAAWI,EAAOE,SAEtB,KAAKV,EACH,MAAO,IACFO,EACHF,MAAOG,EAAOE,QACdN,WAAW,GAEf,QACE,OAAOG,EAEb,CAGA,MAAMI,GAAiBC,kBAGhB,SAASC,IAAgBC,SAAEA,IAChC,MAAOP,EAAOQ,GAAYC,aAAWV,GAAgBL,GAGrDgB,YAAU,KACR,MACMC,EADcC,OAAOC,SAASC,SACLC,MAAM,KAAK,GAE1C,GAAI7D,EAAeyD,GACjBH,EAAS,CAAEN,KAAMT,EAA6BU,QAASQ,IACvDK,aAAaC,QAAQ,iBAAkBN,OAClC,CACL,MAAMO,EAAeF,aAAaG,QAAQ,kBACtCD,GAAgBhE,EAAegE,IACjCV,EAAS,CAAEN,KAAMT,EAA6BU,QAASe,GAE3D,GACC,IAGHR,YAAU,KACR,MAAMU,EAAOC,SAASC,gBAChB1B,EAAQI,EAAMJ,MAEhBA,IAEF2B,OAAOC,QAAQ5B,EAAMrC,QAAQkE,QAAQ,EAAEC,EAAKC,MAC1CP,EAAKQ,MAAMC,YAAY,WAAWH,IAAOC,KAI3CJ,OAAOC,QAAQ5B,EAAMxB,SAASqD,QAAQ,EAAEC,EAAKC,MAC3CP,EAAKQ,MAAMC,YAAY,YAAYH,IAAOC,KAI5CJ,OAAOC,QAAQ5B,EAAMnB,OAAOC,UAAU+C,QAAQ,EAAEC,EAAKC,MACnDP,EAAKQ,MAAMC,YAAY,cAAcH,IAAOC,KAG9CJ,OAAOC,QAAQ5B,EAAMnB,OAAOK,QAAQ2C,QAAQ,EAAEC,EAAKC,MACjDP,EAAKQ,MAAMC,YAAY,YAAYH,IAAOC,KAI5CJ,OAAOC,QAAQ5B,EAAMV,cAAcuC,QAAQ,EAAEC,EAAKC,MAChDP,EAAKQ,MAAMC,YAAY,YAAYH,IAAOC,KAI5CJ,OAAOC,QAAQ5B,EAAMR,SAASqC,QAAQ,EAAEC,EAAKC,MAC3CP,EAAKQ,MAAMC,YAAY,aAAaH,IAAOC,KAI7CP,EAAKQ,MAAMC,YAAY,eAAgBjC,EAAM3B,QAAQN,YACrDyD,EAAKQ,MAAMC,YAAY,eAAgBjC,EAAM3B,QAAQC,SACrDkD,EAAKQ,MAAMC,YAAY,YAAajC,EAAM3B,QAAQE,MAGlDkD,SAASS,KAAKC,UAAYV,SAASS,KAAKC,UAAUC,QAChD,eACA,IAEFX,SAASS,KAAKG,UAAUC,IAAI,WAAWlC,EAAML,mBAE9C,CAACK,EAAMJ,MAAOI,EAAML,gBAEvB,MAaMgC,EAAQ,IACT3B,EACHmC,SAAUZ,OAAOa,OAAOlF,GACxBmF,WAhBiBC,IACjB,GAAIpF,EAAeoF,GAAU,CAC3B9B,EAAS,CAAEN,KAAMT,EAA6BU,QAASmC,IACvDtB,aAAaC,QAAQ,iBAAkBqB,GAGvC,MAAMC,EAAU,IAAID,IAChB1B,OAAOC,SAASC,WAAayB,GAC/B3B,OAAO4B,QAAQC,UAAU,GAAI,GAAIF,EAErC,GAOAG,iBAAkBJ,GAAWtC,EAAML,gBAAkB2C,GAGvD,SACEK,IAACvC,GAAewC,SAAf,CAAwBjB,QAAepB,YAE5C,CAGO,SAASsC,KACd,MAAMC,EAAUC,aAAW3C,IAC3B,IAAK0C,EACH,MAAM,IAAIE,MAAM,oDAElB,OAAOF,CACT,CC/SA,MAAMG,GAAgB,CACpB9F,QAAS+F,EACT3D,YAAa4D,EACb3D,UAAW4D,GAGPC,GAAuB,CAC3BlG,QAAS,sCACToC,YAAa,kCACbC,UAAW,uCAGb,SAAwB8D,IAAgBC,QACtCA,EAAU,UAAAxB,UACVA,EAAY,WAEZ,MAAMpC,cAAEA,EAAAwC,SAAeA,EAAAE,WAAUA,EAAAzC,MAAYA,GAAUiD,KAEjDW,EAAsBC,IACtBA,IAAc9D,GAChB0C,EAAWoB,IAIf,MAAgB,UAAZF,EAEAZ,MAAC,OAAIZ,UAAW,2BAA2BA,IACxCxB,SAAA4B,EAASuB,IAAIpB,IACZ,MAAMqB,EAAOV,GAAcX,EAAQlF,IAC7BwG,EAAWtB,EAAQlF,KAAOuC,EAEhC,OACEkE,OAACpF,EAAOqF,OAAP,CAECC,QAAS,IAAMP,EAAoBlB,EAAQlF,IAC3C2E,UAAW,4GACT6B,EACI,+BACA,6DAENhC,MAAO,CACLoC,gBAAiBJ,EACbhE,EAAMrC,OAAOC,QACb,eAENyG,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KACnBE,QAAM,EAEN7D,SAAA,GAAAoC,IAACgB,EAAA,CAAKU,KAAM,OACZ1B,IAAC,QAAMpC,SAAA+B,EAAQjF,SAjBViF,EAAQlF,QA0BvByG,OAAC,OAAI9B,UAAW,UAAUA,IACxBxB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,8BACZxB,SAAA4B,EAASuB,IAAIpB,IACZ,MAAMqB,EAAOV,GAAcX,EAAQlF,IAC7BwG,EAAWtB,EAAQlF,KAAOuC,EAEhC,OACEkE,OAACpF,EAAOqF,OAAP,CAECC,QAAS,IAAMP,EAAoBlB,EAAQlF,IAC3C2E,UAAW,0GACT6B,EACI,8BACA,0FAENK,WAAY,CAAEK,GAAG,GACjBH,SAAU,CAAEG,EAAG,GAEf/D,SAAA,GAAAoC,IAACgB,EAAA,CAAKU,KAAM,OACZR,KAAC,OAAI9B,UAAU,YACbxB,SAAA,GAAAoC,IAAC,OAAKpC,WAAQlD,aACb,OAAI0E,UAAU,oCACZxB,SAAA8C,GAAqBf,EAAQlF,WAIlCuF,IAAC4B,GACEhE,SAAAqD,GACCjB,MAAClE,EAAO+F,IAAP,CACCzC,UAAU,oDACV0C,SAAS,YACTC,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBE,KAAM,CAAEF,QAAS,GACjBG,WAAY,CAAEpG,SAAU,UA1BzB4D,EAAQlF,UAmCrBuF,IAAC4B,EAAA,CAAgBQ,KAAK,OACpBxE,SAAAoC,MAAClE,EAAO+F,IAAP,CAECE,QAAS,CAAEC,QAAS,EAAGL,EAAG,IAC1BM,QAAS,CAAED,QAAS,EAAGL,EAAG,GAC1BO,KAAM,CAAEF,QAAS,EAAGL,GAAG,IACvBQ,WAAY,CAAEpG,SAAU,GAAKsG,KAAM,aACnCjD,UAAU,OAEVxB,SAAAsD,OAAC,OAAI9B,UAAU,cACbxB,SAAA,GAAAoC,IAAC,MAAGZ,UAAU,0CACXxB,SAAA,OAAA0E,EAAA9C,EAAS+C,QAAUC,EAAE/H,KAAOuC,SAA5B,EAAAsF,EAA4C5H,aAE9C,KAAE0E,UAAU,qBACVxB,SAAA8C,GAAqB1D,SAZrBA,OAmBf,CAEO,SAASyF,IAAwBrD,UAAEA,EAAY,KACpD,MAAMpC,cAAEA,EAAAwC,SAAeA,EAAAE,WAAUA,EAAAzC,MAAYA,GAAUiD,KAEvD,OACEF,MAAC,OACCZ,UAAW,uFAAuFA,IAEjGxB,SAAA4B,EAASuB,IAAIpB,IACZ,MAAMqB,EAAOV,GAAcX,EAAQlF,IAC7BwG,EAAWtB,EAAQlF,KAAOuC,EAEhC,OACEkE,OAACpF,EAAOqF,OAAP,CAECC,QAAS,IAAM1B,EAAWC,EAAQlF,IAClC2E,UAAW,8GACT6B,EACI,uBACA,4CAENhC,MAAO,CACLoC,gBAAiBJ,EAAWhE,EAAMrC,OAAOC,QAAU,eAErDyG,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KACnBE,QAAM,EAEN7D,SAAA,GAAAoC,IAACgB,EAAA,CAAKU,KAAM,KACZ1B,MAAC,QAAKZ,UAAU,mBAAoBxB,WAAQlD,OAE3CuG,GACCjB,MAAClE,EAAO+F,IAAP,CACCzC,UAAU,sEACV0C,SAAS,kBACT7C,MAAO,CAAEyD,EAAG,YArBX/C,EAAQlF,OA6BzB,CCxKA,MAAMkI,GAAY,CAChBC,GAAI,CACFC,KAAM,KACNnI,KAAM,UACNoI,WAAY,UACZC,IAAK,MACLC,KAAM,QAERC,GAAI,CACFJ,KAAM,KACNnI,KAAM,QACNoI,WAAY,SACZC,IAAK,MACLC,KAAM,QAERE,GAAI,CACFL,KAAM,KACNnI,KAAM,SACNoI,WAAY,UACZC,IAAK,MACLC,KAAM,SAKJG,GAAe,CACnBP,GAAI,CAEF,WAAY,OACZ,eAAgB,WAChB,iBAAkB,aAClB,gBAAiB,YACjB,YAAa,QACb,cAAe,UACf,WAAY,OACZ,aAAc,SAGd,iBAAkB,aAClB,eAAgB,QAChB,iBAAkB,UAClB,gBAAiB,SACjB,cAAe,OACf,gBAAiB,SACjB,cAAe,OACf,cAAe,OACf,eAAgB,QAChB,gBAAiB,SACjB,kBAAmB,WACnB,cAAe,OACf,cAAe,OACf,kBAAmB,WACnB,gBAAiB,SACjB,eAAgB,QAChB,kBAAmB,WACnB,eAAgB,QAChB,kBAAmB,WACnB,kBAAmB,WACnB,aAAc,MACd,kBAAmB,WAGnB,wBAAyB,iCACzB,2BACE,yFACF,4BAA6B,0BAC7B,+BACE,iGACF,0BAA2B,0BAC3B,6BACE,wFACF,WAAY,qBACZ,aAAc,kBACd,cAAe,oBAGf,oBAAqB,oBACrB,oBAAqB,oBACrB,eAAgB,eAChB,uBAAwB,eACxB,gBAAiB,UACjB,sBAAuB,eACvB,mBAAoB,WACpB,qBAAsB,cACtB,kBAAmB,UACnB,qBAAsB,aACtB,yBAA0B,kBAC1B,uBAAwB,eACxB,0BAA2B,iBAC3B,oBAAqB,WACrB,mBAAoB,UACpB,kBAAmB,SACnB,sBAAuB,oBAGvB,0BAA2B,OAC3B,6BAA8B,UAC9B,2BAA4B,QAC5B,iCAAkC,cAClC,+BAAgC,QAChC,mCAAoC,YACpC,qCAAsC,cACtC,8BAA+B,SAC/B,+BAAgC,UAChC,+BAAgC,UAGhC,aAAc,gBACd,aAAc,qBACd,wBAAyB,oBACzB,gBAAiB,sBACjB,cAAe,SACf,cAAe,SACf,iBAAkB,qBAClB,mBAAoB,yBAGpB,kBAAmB,iBACnB,qBACE,mEACF,0BAA2B,sBAC3B,0BAA2B,kBAC3B,+BAAgC,gCAChC,wBAAyB,qBACzB,2BAA4B,oBAC5B,yBAA0B,kBAC1B,oBAAqB,kCACrB,kBAAmB,2BAGnB,oBAAqB,cACrB,yBAA0B,mBAC1B,kBAAmB,YACnB,oBAAqB,aACrB,wBACE,sDACF,mBAAoB,YACpB,mBAAoB,sCAGpB,kBAAmB,YACnB,aAAc,kBACd,0BAA2B,qBAC3B,iBAAkB,WAClB,eAAgB,SAChB,iBAAkB,WAClB,kBAAmB,YACnB,gBAAiB,UACjB,kBAAmB,YACnB,uBAAwB,kBACxB,wBAAyB,kBACzB,iBAAkB,kBAClB,iBAAkB,WAClB,gBAAiB,UACjB,oBAAqB,eACrB,uBAAwB,kBACxB,uBAAwB,mBAE1BM,GAAI,CAEF,WAAY,WACZ,eAAgB,WAChB,iBAAkB,SAClB,gBAAiB,QACjB,YAAa,MACb,cAAe,OACf,WAAY,SACZ,aAAc,MAGd,iBAAkB,kBAClB,eAAgB,MAChB,iBAAkB,MAClB,gBAAiB,QACjB,cAAe,MACf,gBAAiB,MACjB,cAAe,QACf,cAAe,MACf,eAAgB,QAChB,gBAAiB,QACjB,kBAAmB,SACnB,cAAe,OACf,cAAe,SACf,kBAAmB,SACnB,gBAAiB,QACjB,eAAgB,QAChB,kBAAmB,SACnB,eAAgB,UAChB,kBAAmB,iBACnB,kBAAmB,QACnB,aAAc,UACd,kBAAmB,QAGnB,wBAAyB,uBACzB,2BACE,mFACF,4BAA6B,uBAC7B,+BACE,2EACF,0BAA2B,yBAC3B,6BACE,kDACF,WAAY,kBACZ,aAAc,aACd,cAAe,gBAGf,oBAAqB,mBACrB,oBAAqB,mBACrB,eAAgB,mBAChB,uBAAwB,gBACxB,gBAAiB,eACjB,sBAAuB,cACvB,mBAAoB,QACpB,qBAAsB,aACtB,kBAAmB,YACnB,qBAAsB,WACtB,yBAA0B,cAC1B,uBAAwB,eACxB,0BAA2B,YAC3B,oBAAqB,UACrB,mBAAoB,YACpB,kBAAmB,UACnB,sBAAuB,2BAGvB,0BAA2B,UAC3B,6BAA8B,UAC9B,2BAA4B,UAC5B,iCAAkC,cAClC,+BAAgC,WAChC,mCAAoC,2BACpC,qCAAsC,cACtC,8BAA+B,SAC/B,+BAAgC,SAChC,+BAAgC,UAGhC,aAAc,cACd,aAAc,oBACd,wBAAyB,gBACzB,gBAAiB,QACjB,cAAe,QACf,cAAe,QACf,iBAAkB,yBAClB,mBAAoB,4BAGpB,kBAAmB,WACnB,qBAAsB,2CACtB,0BAA2B,kBAC3B,0BAA2B,iBAC3B,+BAAgC,uBAChC,wBAAyB,mBACzB,2BAA4B,2BAC5B,yBAA0B,oBAC1B,oBAAqB,wBACrB,kBAAmB,qBAGnB,oBAAqB,cACrB,yBAA0B,eAC1B,kBAAmB,SACnB,oBAAqB,mBACrB,wBACE,oDACF,mBAAoB,QACpB,mBAAoB,uCAGpB,kBAAmB,eACnB,iBAAkB,SAClB,eAAgB,QAChB,kBAAmB,SACnB,kBAAmB,WACnB,iBAAkB,WAClB,gBAAiB,KACjB,oBAAqB,YACrB,uBAAwB,aACxB,uBAAwB,eAE1BD,GAAI,CAEF,WAAY,cACZ,eAAgB,SAChB,iBAAkB,YAClB,gBAAiB,gBACjB,YAAa,iBACb,cAAe,SACf,WAAY,QACZ,aAAc,QAGd,iBAAkB,mBAClB,eAAgB,SAChB,iBAAkB,MAClB,gBAAiB,YACjB,cAAe,WACf,gBAAiB,QACjB,cAAe,eACf,cAAe,QACf,eAAgB,WAChB,gBAAiB,WACjB,kBAAmB,YACnB,cAAe,OACf,cAAe,OACf,kBAAmB,QACnB,gBAAiB,SACjB,eAAgB,OAChB,kBAAmB,SACnB,eAAgB,MAChB,kBAAmB,SACnB,kBAAmB,SACnB,aAAc,KACd,kBAAmB,MAGnB,wBAAyB,wBACzB,2BACE,2FACF,4BAA6B,mBAC7B,+BACE,sGACF,0BAA2B,+BAC3B,6BACE,iGACF,WAAY,eACZ,aAAc,oBACd,cAAe,4BAGf,oBAAqB,eACrB,oBAAqB,mBACrB,eAAgB,SAChB,uBAAwB,yBACxB,gBAAiB,UACjB,sBAAuB,eACvB,mBAAoB,YACpB,qBAAsB,mBACtB,kBAAmB,aACnB,qBAAsB,eACtB,yBAA0B,sBAC1B,uBAAwB,cACxB,0BAA2B,cAC3B,oBAAqB,WACrB,mBAAoB,YACpB,kBAAmB,SACnB,sBAAuB,uBAGvB,0BAA2B,MAC3B,6BAA8B,QAC9B,2BAA4B,QAC5B,iCAAkC,YAClC,+BAAgC,QAChC,mCAAoC,cACpC,qCAAsC,YACtC,8BAA+B,OAC/B,+BAAgC,eAChC,+BAAgC,SAGhC,aAAc,eACd,aAAc,qBACd,wBAAyB,oBACzB,gBAAiB,iBACjB,cAAe,QACf,cAAe,aACf,iBAAkB,2BAClB,mBAAoB,0BAGpB,kBAAmB,eACnB,qBACE,2EACF,0BAA2B,iBAC3B,0BAA2B,kBAC3B,+BAAgC,4BAChC,wBAAyB,mBACzB,2BAA4B,iBAC5B,yBAA0B,sBAC1B,oBAAqB,mCACrB,kBAAmB,2BAGnB,oBAAqB,cACrB,yBAA0B,cAC1B,kBAAmB,iBACnB,oBAAqB,aACrB,wBACE,6DACF,mBAAoB,mBACpB,mBAAoB,sCAGpB,kBAAmB,WACnB,iBAAkB,SAClB,eAAgB,QAChB,kBAAmB,SACnB,kBAAmB,WACnB,iBAAkB,WAClB,gBAAiB,KACjB,oBAAqB,YACrB,uBAAwB,aACxB,uBAAwB,gBAKtBG,GAAkB,CACtBC,IAAK,CACHR,KAAM,MACNS,OAAQ,IACR5I,KAAM,eACN6I,OAAQ,QACRC,SAAU,UAEZC,IAAK,CACHZ,KAAM,MACNS,OAAQ,MACR5I,KAAM,cACN6I,OAAQ,QACRC,SAAU,SAEZE,IAAK,CACHb,KAAM,MACNS,OAAQ,IACR5I,KAAM,YACN6I,OAAQ,QACRC,SAAU,UAEZG,IAAK,CACHd,KAAM,MACNS,OAAQ,IACR5I,KAAM,OACN6I,OAAQ,QACRC,SAAU,SAEZI,IAAK,CACHf,KAAM,MACNS,OAAQ,IACR5I,KAAM,gBACN6I,OAAQ,QACRC,SAAU,WAKRK,GACU,eADVA,GAEU,eAFVA,GAGQ,aAIR9G,GAAe,CACnB+G,SAAU,KACVC,SAAU,MACVC,OAAQ,KACRC,UAAW,OAIb,SAASC,GAAY7G,EAAOC,SAC1B,OAAQA,EAAOC,MACb,KAAKsG,GACH,MAAO,IACFxG,EACHyG,SAAUxG,EAAOE,QACjByG,WAAW,OAAA3B,EAAAK,GAAUrF,EAAOE,eAAjB,EAAA8E,EAA2BS,MAAO,OAEjD,KAAKc,GACH,MAAO,IACFxG,EACH0G,SAAUzG,EAAOE,SAErB,KAAKqG,GACH,MAAO,IACFxG,EACH2G,OAAQ1G,EAAOE,SAEnB,QACE,OAAOH,EAEb,CAGA,MAAM8G,GAAczG,kBAGb,SAAS0G,IAAaxG,SAAEA,IAC7B,MAAOP,EAAOQ,GAAYC,aAAWoG,GAAanH,IAGlDgB,YAAU,KACR,MAAMsG,EAAgBhG,aAAaG,QAAQ,mBACrC8F,EAAgBjG,aAAaG,QAAQ,mBACrC+F,EAAclG,aAAaG,QAAQ,iBAErC6F,GAAiB1B,GAAU0B,IAC7BxG,EAAS,CAAEN,KAAMsG,GAA2BrG,QAAS6G,IAEnDC,GAAiBlB,GAAgBkB,IACnCzG,EAAS,CAAEN,KAAMsG,GAA2BrG,QAAS8G,IAEnDC,GACF1G,EAAS,CAAEN,KAAMsG,GAAyBrG,QAAS+G,KAEpD,IAGHxG,YAAU,KACRW,SAASC,gBAAgBoE,IAAM1F,EAAM4G,UACrCvF,SAASC,gBAAgB6F,KAAOnH,EAAMyG,SAGtCpF,SAASC,gBAAgBM,MAAMC,YAC7B,qBACoB,QAApB7B,EAAM4G,UAAsB,QAAU,QAExCvF,SAASC,gBAAgBM,MAAMC,YAC7B,mBACoB,QAApB7B,EAAM4G,UAAsB,OAAS,SAEvCvF,SAASC,gBAAgBM,MAAMC,YAC7B,iBACoB,QAApB7B,EAAM4G,UAAsB,eAAiB,eAE/CvF,SAASC,gBAAgBM,MAAMC,YAC7B,eACoB,QAApB7B,EAAM4G,UAAsB,cAAgB,gBAE9CvF,SAASC,gBAAgBM,MAAMC,YAC7B,kBACoB,QAApB7B,EAAM4G,UAAsB,gBAAkB,gBAEhDvF,SAASC,gBAAgBM,MAAMC,YAC7B,gBACoB,QAApB7B,EAAM4G,UAAsB,eAAiB,kBAE9C,CAAC5G,EAAM4G,UAAW5G,EAAMyG,WAE3B,MAkDM9E,EAAQ,IACT3B,EACHoH,UAAW9B,GACX+B,WAAYtB,GACZuB,YAtDkBb,IACdnB,GAAUmB,KACZjG,EAAS,CAAEN,KAAMsG,GAA2BrG,QAASsG,IACrDzF,aAAaC,QAAQ,kBAAmBwF,KAoD1Cc,YAhDkBb,IACdX,GAAgBW,KAClBlG,EAAS,CAAEN,KAAMsG,GAA2BrG,QAASuG,IACrD1F,aAAaC,QAAQ,kBAAmByF,KA8C1Cc,UA1CgBb,IAChBnG,EAAS,CAAEN,KAAMsG,GAAyBrG,QAASwG,IACnD3F,aAAaC,QAAQ,gBAAiB0F,IAyCtCc,EAtCQ,CAAC/F,EAAKgG,EAAWhG,WACzB,OAAO,OAAAuD,EAAAa,GAAa9F,EAAMyG,gBAAnB,EAAAxB,EAA+BvD,KAAQgG,GAsC9CC,eAnCqB,CAACC,EAAQC,EAAe7H,EAAM0G,YACnD,MAAMoB,EAAS/B,GAAgB8B,GAC/B,IAAKC,EAAQ,MAAO,GAAGF,IAQvB,OANkB,IAAIG,KAAKC,aAAaF,EAAO5B,OAAQ,CACrDtE,MAAO,WACP8E,SAAUmB,EACVI,sBAAuB,IACtBC,OAAON,IA4BVO,aAvBmBC,IACnB,MAAMlC,EAA4B,OAAnBlG,EAAMyG,SAAoB,QAAU,QACnD,OAAO,IAAIsB,KAAKC,aAAa9B,GAAQgC,OAAOE,IAsB5CC,WAnBiBC,IACjB,MAAMpC,EAA4B,OAAnBlG,EAAMyG,SAAoB,QAAU,QACnD,OAAO,IAAIsB,KAAKQ,eAAerC,EAAQ,CACrCsC,KAAM,UACNC,MAAO,OACPC,IAAK,YACJR,OAAO,IAAIS,KAAKL,KAcnBM,MAA2B,QAApB5I,EAAM4G,WAGf,SAAOjE,IAACmE,GAAYlE,SAAZ,CAAqBjB,QAAepB,YAC9C,CAGO,SAASsI,KACd,MAAM/F,EAAUC,aAAW+D,IAC3B,IAAKhE,EACH,MAAM,IAAIE,MAAM,+CAElB,OAAOF,CACT,CCzmBA,MAAMgG,GAAsBzI,kBAGf0I,GAAqB,CAChCC,mBAAoB,qBACpBC,oBAAqB,sBACrBC,qBAAsB,uBACtBC,gBAAiB,kBACjBC,qBAAsB,uBACtBC,YAAa,cACbC,oBAAqB,uBAIVC,GAAwB,CACnCC,MAAO,QACPC,IAAK,MACLC,SAAU,WACVC,OAAQ,SACRC,KAAM,QAIKC,GAA0B,CACrCC,IAAK,MACLC,OAAQ,SACRC,KAAM,OACNC,OAAQ,UAGJC,GACa,kBADbA,GAEc,mBAFdA,GAGU,eAHVA,GAIc,mBAJdA,GAKiB,sBALjBA,GAMO,YANPA,GAOS,cAPTA,GAQO,YAGPxK,GAAe,CACnByK,cAAe,GACfC,YAAa,CACXC,MAAO,CACLC,cAAc,EACdC,sBAAsB,EACtBC,YAAY,EACZC,YAAY,GAEdC,IAAK,CACHJ,cAAc,EACdC,sBAAsB,EACtBC,YAAY,GAEdG,SAAU,CACRL,cAAc,EACdC,sBAAsB,EACtBC,YAAY,GAEdI,MAAO,CACLC,KAAK,IAGTC,SAAS,EACThL,MAAO,MAGHiL,GAAsB,CAAC/K,EAAOC,KAClC,OAAQA,EAAOC,MACb,KAAKgK,GACH,MAAO,IACFlK,EACHoK,YAAa,IAAKpK,EAAMoK,eAAgBnK,EAAOE,UAGnD,KAAK+J,GACH,MAAO,IACFlK,EACHmK,cAAe,CAAClK,EAAOE,WAAYH,EAAMmK,eACzCW,SAAS,GAGb,KAAKZ,GACH,MAAO,IACFlK,EACHmK,cAAenK,EAAMmK,cAAczG,OACjCsH,EAAa5N,KAAO6C,EAAOE,QACvB,IAAK6K,EAAcC,MAAM,EAAMC,QAAA,IAAYvC,MAAOwC,eAClDH,IAIV,KAAKd,GACH,MAAO,IACFlK,EACHmK,cAAenK,EAAMmK,cAAczG,IAAIsH,IAAA,IAClCA,EACHC,MAAM,EACNC,QAAA,IAAYvC,MAAOwC,kBAIzB,KAAKjB,GACH,MAAO,IACFlK,EACHmK,cAAenK,EAAMmK,cAAciB,OACjCJ,GAAgBA,EAAa5N,KAAO6C,EAAOE,UAIjD,KAAK+J,GACH,MAAO,IACFlK,EACHmK,cAAe,IAGnB,KAAKD,GACH,MAAO,IACFlK,EACH8K,QAAS7K,EAAOE,SAGpB,KAAK+J,GACH,MAAO,IACFlK,EACHF,MAAOG,EAAOE,QACd2K,SAAS,GAGb,QACE,OAAO9K,IAIAqL,GAAuB,EAAG9K,eACrC,MAAOP,EAAOQ,GAAYC,aAAWsK,GAAqBrL,KACpD+G,SAAEA,GAAaoC,KAGrBnI,YAAU,KACR,MAAM4K,EAAmBtK,aAAaG,QACpC,mCAEF,GAAImK,EACF,IACE,MAAMlB,EAAcmB,KAAKC,MAAMF,GAC/B9K,EAAS,CACPN,KAAMgK,GACN/J,QAASiK,GAEb,OAAStK,GAET,GAED,IAGHY,YAAU,KACRM,aAAaC,QACX,kCACAsK,KAAKE,UAAUzL,EAAMoK,eAEtB,CAACpK,EAAMoK,cAGV,MAuHMsB,EAA4BC,MAAMX,UAShC,IAAIY,QAAQC,GAAWC,WAAWD,EAAS,OAC1C,GAGHE,EAA0BJ,MAAMX,UAO9B,IAAIY,QAAQC,GAAWC,WAAWD,EAAS,OAC1C,GAGHG,EAA+BL,MAAMX,UAOnC,IAAIY,QAAQC,GAAWC,WAAWD,EAAS,OAC1C,GAyEHlK,EAAQ,IACT3B,EACHiM,iBA7JuBN,MACvBzL,EACAgM,EACAC,EAAW,CAAC5C,GAAsBI,WAElCnJ,EAAS,CAAEN,KAAMgK,GAAkC/J,SAAS,IAE5D,IACE,MAAMiM,EA7EsB,EAAClM,EAAMgM,KACrC,MAAMG,EAAY,CAChB,CAACtD,GAAmBC,oBAAqB,CACvCsD,MAAoB,OAAb7F,EAAoB,cAAgB,kBAC3C8F,QACe,OAAb9F,EACI,kBAAkByF,EAAKM,uCAAuCN,EAAKO,QACnE,eAAeP,EAAKM,0CAA0CN,EAAKO,QACzEC,KAAM,IACNC,SAAU9C,GAAwBG,MAEpC,CAACjB,GAAmBE,qBAAsB,CACxCqD,MAAoB,OAAb7F,EAAoB,mBAAqB,sBAChD8F,QACe,OAAb9F,EACI,SAASyF,EAAKM,qBAAqBN,EAAKU,UAAYV,EAAKW,SACzD,eAAeX,EAAKM,uBAAuBN,EAAKW,SACtDH,KAAM,KACNC,SAAU9C,GAAwBE,QAEpC,CAAChB,GAAmBG,sBAAuB,CACzCoD,MAAoB,OAAb7F,EAAoB,cAAgB,oBAC3C8F,QACe,OAAb9F,EACI,yBAAyByF,EAAKtE,eAC9B,mBAAmBsE,EAAKtE,yCAC9B8E,KAAM,KACNC,SAAU9C,GAAwBG,MAEpC,CAACjB,GAAmBI,iBAAkB,CACpCmD,MAAoB,OAAb7F,EAAoB,cAAgB,kBAC3C8F,QACe,OAAb9F,EACI,+BAA+ByF,EAAKY,iBACpC,uCAAuCZ,EAAKY,iBAClDJ,KAAM,KACNC,SAAU9C,GAAwBE,QAEpC,CAAChB,GAAmBK,sBAAuB,CACzCkD,MAAoB,OAAb7F,EAAoB,oBAAsB,uBACjD8F,QACe,OAAb9F,EACI,gBAAgByF,EAAKa,eAAeb,EAAKU,UAAYV,EAAKW,SAC1D,0BAA0BX,EAAKa,eAAeb,EAAKW,SACzDH,KAAM,KACNC,SAAU9C,GAAwBE,QAEpC,CAAChB,GAAmBM,aAAc,CAChCiD,MAAoB,OAAb7F,EAAoB,cAAgB,cAC3C8F,QACEL,EAAKK,UACS,OAAb9F,EAAoB,aAAe,mBACtCiG,KAAM,KACNC,SAAU9C,GAAwBI,QAEpC,CAAClB,GAAmBO,qBAAsB,CACxCgD,MAAoB,OAAb7F,EAAoB,eAAiB,sBAC5C8F,QACEL,EAAKK,UACS,OAAb9F,EAAoB,aAAe,2BACtCiG,KAAM,KACNC,SAAU9C,GAAwBC,MAItC,OAAOuC,EAAUnM,IAASmM,EAAUtD,GAAmBO,sBAYpC0D,CAAwB9M,EAAMgM,GACzClB,EAAe,CACnB5N,GAAI,SAASuL,KAAKsE,SAASC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,KAChEnN,UACGkM,EACHF,OACAC,WACAlB,MAAM,EACNqC,WAAA,IAAe3E,MAAOwC,cACtBoC,OAAQrB,EAAKqB,QAAU,gBAwBzB,OApBIpB,EAASqB,SAASjE,GAAsBI,SAC1CnJ,EAAS,CACPN,KAAMgK,GACN/J,QAAS6K,IAKTmB,EAASqB,SAASjE,GAAsBC,cACpCkC,EAA0BV,GAG9BmB,EAASqB,SAASjE,GAAsBE,YACpCsC,EAAwBf,GAG5BmB,EAASqB,SAASjE,GAAsBG,iBACpCsC,EAA6BhB,GAG9BA,CACT,OAASlL,GAGP,MADAU,EAAS,CAAEN,KAAMgK,GAAgC/J,QAASL,EAAMyM,UAC1DzM,CACR,GAgHA2N,kBAxEwBC,IACxBlN,EAAS,CACPN,KAAMgK,GACN/J,QAASuN,KAsEXC,WAjEiBC,IACjBpN,EAAS,CACPN,KAAMgK,GACN/J,QAASyN,KA+DXC,cA3DoB,KACpBrN,EAAS,CAAEN,KAAMgK,MA2DjB4D,mBAvDyBF,IACzBpN,EAAS,CACPN,KAAMgK,GACN/J,QAASyN,KAqDXG,sBAjD4B,KAC5BvN,EAAS,CAAEN,KAAMgK,MAiDjB8D,eA7CqB,IACdhO,EAAMmK,cAAciB,WAAwBJ,EAAaC,MAAMgD,OA6CtEC,uBAzC6BhO,GACtBF,EAAMmK,cAAciB,OACzBJ,GAAgBA,EAAa9K,OAASA,GAwCxCiO,uBAnC6B,CAACjO,EAAMkO,KACpC,MAAMC,EAAQrO,EAAMoK,YAAYgE,GAChC,IAAKC,EAAO,OAAO,EAEnB,OAAQnO,GACN,KAAK6I,GAAmBC,mBACxB,KAAKD,GAAmBE,oBACxB,KAAKF,GAAmBG,qBACxB,KAAKH,GAAmBI,gBACtB,OAAOkF,EAAM/D,aAEf,KAAKvB,GAAmBK,qBACtB,OAAOiF,EAAM9D,qBAEf,KAAKxB,GAAmBM,YACtB,OAAO,EAET,KAAKN,GAAmBO,oBACtB,OAAqB,IAAd+E,EAAMxD,IAEf,QACE,OAAO,IAeX9B,sBACAQ,yBACAM,4BAGF,SACElH,IAACmG,GAAoBlG,SAApB,CAA6BjB,QAC3BpB,cAKM+N,GAAmB,KAC9B,MAAMxL,EAAUC,aAAW+F,IAC3B,IAAKhG,EACH,MAAM,IAAIE,MACR,+DAGJ,OAAOF,GC7ZHyL,GAAmBlO,kBAKZmO,GAAe,KAC1B,MAAM1L,EAAUC,aAAWwL,IAC3B,IAAKzL,EACH,MAAM,IAAIE,MAAM,yDAElB,OAAOF,GAGI2L,GAAoB,EAAGlO,eAClC,MAAOmO,EAAWC,GAAgBC,WAAS,KACpCC,EAAQC,GAAaF,WAAS,KAC9BG,EAAUC,GAAeJ,WAAS,CACvCK,kBAAmB,GACnBC,uBAAwB,EACxBC,cAAc,EACdC,cAAe,CAAC,MAAO,SACvBC,oBAAoB,EACpBC,qBAAsB,KAEjBxE,EAASyE,GAAcX,YAAS,GAGvC,IAAIY,EACJ,IACE,MAAMC,EAAsBnB,KAC5BkB,GAAkB,MAAAC,OAAA,EAAAA,EAAqBD,wBAA2B,EACpE,OAAS1P,GACP0P,EAAkB,MAKpB,CAGA,MAAME,EAAoBC,UACxB,MACEC,SAAU,CACRC,MAAO,GACPC,SAAU,EACVC,SAAU,EACVC,aAAc,GACdC,SAAU,KAEZC,SAAU,CACRL,MAAO,EACPC,SAAU,EACVC,SAAU,GACVC,aAAc,EACdC,SAAU,IAEZE,SAAU,CACRN,MAAO,EACPC,SAAU,EACVC,SAAU,GACVC,aAAc,EACdC,SAAU,IAEZG,SAAU,CACRP,MAAO,GACPC,SAAU,EACVC,SAAU,EACVC,aAAc,GACdC,SAAU,IAEZI,SAAU,CACRR,MAAO,EACPC,SAAU,EACVC,SAAU,EACVC,aAAc,GACdC,SAAU,IAEZK,SAAU,CACRT,MAAO,GACPC,SAAU,EACVC,SAAU,EACVC,aAAc,GACdC,SAAU,KAEZM,SAAU,CACRV,MAAO,EACPC,SAAU,EACVC,SAAU,GACVC,aAAc,GACdC,SAAU,IAEZO,SAAU,CACRX,MAAO,GACPC,SAAU,EACVC,SAAU,EACVC,aAAc,GACdC,SAAU,MAGd,IAIIQ,EAAuBC,cAC3B,CAACC,EAAgBjC,KACf,IAAKK,EAASI,aAAc,OAE5B,MAAMyB,EAAY,GACZC,EAAWtF,KAAKC,MAAMxK,aAAaG,QAAQ,aAAe,MAEhEI,OAAOC,QAAQmP,GAAelP,QAAQ,EAAEqP,EAAWjB,MACjD,MAAMkB,EAAUF,EAAS3L,KAAK8L,GAAKA,EAAE5T,KAAO0T,GACtCG,GAAc,MAAAF,OAAA,EAAAA,EAAS1T,OAAQ,WAAWyT,IAC1CI,EAAiBrB,EAAMA,MAAQA,EAAMC,SAGpB,IAAnBoB,EACFN,EAAUO,KAAK,CACb/T,GAAI,YAAY0T,KAAanI,KAAKsE,QAClC/M,KAAM,WACN4Q,YACAG,cACA1E,QAAS,GAAG0E,qBACZC,iBACAE,UAAWrC,EAASG,uBACpBmC,WAAA,IAAe1I,MAAOwC,cACtBmG,cAAc,IAITJ,GAAkBnC,EAASG,uBAClC0B,EAAUO,KAAK,CACb/T,GAAI,YAAY0T,KAAanI,KAAKsE,QAClC/M,KAAM,WACN4Q,YACAG,cACA1E,QAAS,GAAG0E,+BAAyCC,eACrDA,iBACAE,UAAWrC,EAASG,uBACpBmC,WAAA,IAAe1I,MAAOwC,cACtBmG,cAAc,IAITJ,GAAkBnC,EAASE,mBAClC2B,EAAUO,KAAK,CACb/T,GAAI,OAAO0T,KAAanI,KAAKsE,QAC7B/M,KAAM,MACN4Q,YACAG,cACA1E,QAAS,GAAG0E,qBAA+BC,eAC3CA,iBACAE,UAAWrC,EAASE,kBACpBoC,WAAA,IAAe1I,MAAOwC,cACtBmG,cAAc,IAMhBvC,EAASM,oBACT6B,GAAkBnC,EAASO,sBAE3BsB,EAAUO,KAAK,CACb/T,GAAI,WAAW0T,KAAanI,KAAKsE,QACjC/M,KAAM,UACN4Q,YACAG,cACA1E,QAAS,8BAA8B0E,IACvCC,iBACAE,UAAWrC,EAASO,qBACpB+B,WAAA,IAAe1I,MAAOwC,cACtBmG,cAAc,MAKpBxC,KAAkB,IAAIyC,KAASX,IAG/BA,EAAUnP,QAAQ+P,IACZzC,EAASK,cAAc5B,SAAS,QAClCgC,EAAgB,CACdlD,MAAO,kBACPC,QAASiF,EAAMjF,QACfrM,KAAqB,aAAfsR,EAAMtR,KAAsB,QAAU,UAC5CxB,SAAyB,aAAf8S,EAAMtR,KAAsB,EAAI,SAKlD,CAACwO,EAAWK,EAAUS,IAIxB9O,YAAU,KACciL,WACpB4D,GAAW,GACX,UAEQ,IAAI3D,QAAQC,GAAWC,WAAWD,EAAS,MACjD8C,EAAae,GACbe,EAAqBf,EACvB,OAAS5P,GAET,SACEyP,GAAW,EACb,GAGFkC,IACC,CAAChB,EAAsBf,IAG1B,MAAMgC,EAAc,CAACZ,EAAWa,KAC9BhD,EAAa4C,IACX,MAAMK,EAAU,IACXL,EACHT,CAACA,GAAY,IACRS,EAAKT,MACLa,IAOP,OAFA7F,WAAW,IAAM2E,EAAqBmB,GAAU,KAEzCA,KA8ILjQ,EAAQ,CACZ+M,YACAG,OAAQA,EAAOzD,OAAOoG,IAAUA,EAAMF,cACtCO,UAAWhD,EACXE,WACAjE,UACA4G,cACAI,aAhJmB,CAAChB,EAAWiB,IACxB,IAAInG,QAAQ,CAACC,EAASmG,KAC3B,MAAMC,EAAevD,EAAUoC,GAC/B,IAAKmB,EAEH,YADAD,EAAO,IAAIhP,MAAM,sBAIIiP,EAAapC,MAAQoC,EAAanC,SACpCiC,EACnBC,EAAO,IAAIhP,MAAM,wBAInB0O,EAAYZ,EAAW,CACrBhB,SAAUmC,EAAanC,SAAWiC,IAGpClG,GAAQ,MA+HVqG,aA1HmB,CAACpB,EAAWiB,KAC/B,MAAME,EAAevD,EAAUoC,GAC3BmB,GACFP,EAAYZ,EAAW,CACrBhB,SAAU5C,KAAKiF,IAAI,EAAGF,EAAanC,SAAWiC,MAuHlDK,aAjHmB,CAACtB,EAAWiB,KAC/B,MAAME,EAAevD,EAAUoC,GAC3BmB,GACFP,EAAYZ,EAAW,CACrBjB,MAAOoC,EAAapC,MAAQkC,EAC5BjC,SAAU5C,KAAKiF,IAAI,EAAGF,EAAanC,SAAWiC,MA6GlDM,iBAvGuB,CAACvB,EAAWiB,EAAUO,KAC7C,MAAML,EAAevD,EAAUoC,GAC3BmB,IACFP,EAAYZ,EAAW,CACrBf,SAAUkC,EAAalC,SAAWgC,IAGpCvC,EAAgB,CACdlD,MAAO,uBACPC,QAAS,GAAGwF,+CAAsDjB,IAClE5Q,KAAM,cA8FVqS,aAxFmB,CAACzB,EAAWiB,KAC/B,MAAME,EAAevD,EAAUoC,GAC3BmB,IACFP,EAAYZ,EAAW,CACrBjB,MAAOoC,EAAapC,MAAQkC,EAC5BhC,SAAU7C,KAAKiF,IAAI,EAAGF,EAAalC,SAAWgC,KAGhDvC,EAAgB,CACdlD,MAAO,iBACPC,QAAS,GAAGwF,gCAAuCjB,IACnD5Q,KAAM,cA8EVsS,iBAxEuBC,IACvB3D,KACEyC,EAAK7N,IAAI8N,GACPA,EAAMpU,KAAOqV,EAAU,IAAKjB,EAAOF,cAAc,GAASE,KAsE9DkB,YAhEkB,KAClB5D,EAAU,KAgEV6D,eA5DqBC,IACrB5D,UAA0BuC,KAASqB,KAGnC9G,WAAW,IAAM2E,IAAwB,MAyDzCoC,eArDqB/B,IACrB,MAAMjB,EAAQnB,EAAUoC,GACxB,IAAKjB,EAAO,MAAO,CAAEhD,OAAQ,UAAWiG,UAAW,GAEnD,MAAMA,EAAYjD,EAAMA,MAAQA,EAAMC,SAEtC,OAAkB,IAAdgD,EAAwB,CAAEjG,OAAQ,eAAgBiG,aAClDA,GAAa/D,EAASG,uBACjB,CAAErC,OAAQ,WAAYiG,aAC3BA,GAAa/D,EAASE,kBACjB,CAAEpC,OAAQ,MAAOiG,aACnB,CAAEjG,OAAQ,WAAYiG,cA2C7BC,oBAvC0B,KAC1B,MAAMC,EAAU,CACdC,cAAe1R,OAAO2R,KAAKxE,GAAWT,OACtCkF,WAAY,EACZC,cAAe,EACfC,SAAU,EACVC,QAAS,EACTC,WAAY,GAad,OAVAhS,OAAOC,QAAQkN,GAAWjN,QAAQ,EAAE+R,EAAY3D,MAC9C,MAAMiD,EAAYjD,EAAMA,MAAQA,EAAMC,SAEpB,IAAdgD,EAAiBE,EAAQG,aACpBL,GAAa/D,EAASG,uBAC7B8D,EAAQI,gBACDN,GAAa/D,EAASE,kBAAmB+D,EAAQK,WACrDL,EAAQM,YAGRN,GAoBPvC,wBAGF,SACE9N,IAAC4L,GAAiB3L,SAAjB,CAA0BjB,QACxBpB,cC/YDkT,GAAcpT,kBAEPqT,GAAU,KACrB,MAAM5Q,EAAUC,aAAW0Q,IAC3B,IAAK3Q,EACH,MAAM,IAAIE,MAAM,+CAElB,OAAOF,GAGI6Q,GAAe,EAAGpT,eAC7B,MAAOqT,EAAMC,GAAWjF,WAAS,OAC1B/O,EAAWiU,GAAgBlF,YAAS,GAG3ClO,YAAU,KACR,MAAMqT,EAAa/S,aAAaG,QAAQ,QACxC,GAAI4S,EACF,IACEF,EAAQtI,KAAKC,MAAMuI,GACrB,OAASjU,GAEPkB,aAAagT,WAAW,OAC1B,CAEFF,GAAa,IACZ,IAEH,MAkEMnS,EAAQ,CACZiS,OACAK,kBAJwBL,EAKxB/T,YACAqU,MAtEYvI,MAAMwI,IAElB,GACwB,iCAAtBA,EAAY9J,OACa,oBAAzB8J,EAAYC,SACZ,CACA,MAAMC,EAAW,CACfjX,GAAI,IACJiN,MAAO,+BACPiK,UAAW,SACXC,SAAU,OACVC,KAAM,cACNC,OAAQ,MAIV,OAFAZ,EAAQQ,GACRrT,aAAaC,QAAQ,OAAQsK,KAAKE,UAAU4I,IACrC,CAAEK,SAAS,EAAMd,KAAMS,EAChC,CAEA,GACwB,oBAAtBF,EAAY9J,OACa,aAAzB8J,EAAYC,SACZ,CACA,MAAMC,EAAW,CACfjX,GAAI,IACJiN,MAAO,kBACPiK,UAAW,OACXC,SAAU,OACVC,KAAM,WACNC,OAAQ,MAIV,OAFAZ,EAAQQ,GACRrT,aAAaC,QAAQ,OAAQsK,KAAKE,UAAU4I,IACrC,CAAEK,SAAS,EAAMd,KAAMS,EAChC,CACA,MAAO,CAAEK,SAAS,EAAO5U,MAAO,wBAoChC6U,OAjCa,KACbd,EAAQ,MACR7S,aAAagT,WAAW,SAgCxBY,SA7BejJ,MAAM0I,IAErB,MAAMQ,EAAU,CACdzX,GAAIuL,KAAKsE,MAAMG,cACZiH,EACHI,OAAQ,MAIV,OAFAZ,EAAQgB,GACR7T,aAAaC,QAAQ,OAAQsK,KAAKE,UAAUoJ,IACrC,CAAEH,SAAS,EAAMd,KAAMiB,IAqB9BC,cAlBoBnJ,MAAMoJ,IAC1B,IAAKnB,EAAM,MAAO,CAAEc,SAAS,EAAO5U,MAAO,qBAE3C,MAAMkV,EAAc,IAAKpB,KAASmB,GAGlC,OAFAlB,EAAQmB,GACRhU,aAAaC,QAAQ,OAAQsK,KAAKE,UAAUuJ,IACrC,CAAEN,SAAS,EAAMd,KAAMoB,KAehC,SAAOrS,IAAC8Q,GAAY7Q,SAAZ,CAAqBjB,QAAepB,cCrGxC0U,GAAmB,KACvB,MAAM9K,cACJA,EAAA6D,eACAA,EAAAL,WACAA,EAAAE,cACAA,EAAAC,mBACAA,GACEQ,MACE7G,EAAEA,EAAAhB,SAAGA,EAAAmC,MAAUA,GAAUC,MACxBqM,EAAQC,GAAavG,YAAS,IAC9BxD,EAAQgK,GAAaxG,WAAS,OAC/ByG,EAAUC,SAAO,MAEjBC,EAAcvH,IAIpBtN,YAAU,KACR,MAAM8U,EAAqBC,IACrBJ,EAAQK,UAAYL,EAAQK,QAAQC,SAASF,EAAMG,SACrDT,GAAU,IAId,GAAID,EAEF,OADA7T,SAASwU,iBAAiB,YAAaL,GAChC,IAAMnU,SAASyU,oBAAoB,YAAaN,IAExD,CAACN,IAEJ,MAAMa,EAAgB1E,IACpB,MAAMpE,MAAUtE,KACVqN,EAAmB,IAAIrN,KAAK0I,GAC5B4E,EAAgB/I,KAAKgJ,OAAOjJ,EAAM+I,GAAA,KAExC,GAAIC,EAAgB,EAClB,MAAoB,OAAbxP,EAAoB,OAAS,MACtC,GAAWwP,EAAgB,GACzB,MAAoB,OAAbxP,EACH,OAAOwP,UACP,GAAGA,SACT,GAAWA,EAAgB,KAAM,CAC/B,MAAME,EAAQjJ,KAAKgJ,MAAMD,EAAgB,IACzC,MAAoB,OAAbxP,EAAoB,OAAO0P,SAAe,GAAGA,QACtD,CAAO,CACL,MAAMC,EAAOlJ,KAAKgJ,MAAMD,EAAgB,MACxC,MAAoB,OAAbxP,EAAoB,OAAO2P,QAAa,GAAGA,QACpD,GAGIC,EAAwBlM,EAAciB,OAAOJ,GAClC,WAAXI,GAA6BJ,EAAaC,KAC/B,WAAXG,EAEAJ,EAAa9K,KAAKsN,SAAS,UAC3BxC,EAAa9K,KAAKsN,SAAS,YAC3BxC,EAAa9K,KAAKsN,SAAS,YAEhB,kBAAXpC,GACKJ,EAAa9K,KAAKsN,SAAS,kBAIhC8I,EAAyBD,EAAsBE,MACnD,EAlD8B,GAsDhC,OACE1S,OAAC,OAAI9B,UAAU,WAAWyU,IAAKnB,EAE7B9U,SAAA,CAAAsD,OAACpF,EAAOqF,OAAP,CACCG,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KACnBH,QAAS,IAAMoR,GAAWD,GAC1BnT,UAAU,2GAEVxB,SAAA,CAAAoC,MAAClE,EAAO+F,IAAP,CACCI,QAAS2Q,EAAc,EAAI,CAAEkB,OAAQ,CAAC,GAAG,GAAK,IAAI,GAAK,IAAO,GAC9D3R,WAAY,CACVpG,SAAU,GACVgY,OAAQnB,EAAc,EAAI,EAAI,EAC9BoB,YAAa,GAGfpW,SAAAsD,OAAC,OACC9B,UAAU,UACV6U,KAAK,OACLC,OAAO,eACPC,QAAQ,YAERvW,SAAA,CAAAoC,MAAC,QACCoU,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,6CAEJvU,MAAC,QACCoU,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,4CAMP3B,EAAc,GACb5S,MAAClE,EAAO0Y,KAAP,CACCzS,QAAS,CAAER,MAAO,GAClBU,QAAS,CAAEV,MAAO,GAClBnC,UAAU,yHAETxB,SAAAgV,EAAc,EAAI,KAAOA,SAMhC5S,IAAC4B,GACEhE,SAAA2U,GACCrR,OAACpF,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGT,MAAO,IAAMI,EAAG,IACvCM,QAAS,CAAED,QAAS,EAAGT,MAAO,EAAGI,EAAG,GACpCO,KAAM,CAAEF,QAAS,EAAGT,MAAO,IAAMI,EAAG,IACpCvC,UAAW,YAAY6G,EAAQ,SAAW,8GAG1CrI,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,6BACbxB,SAAA,CAAAsD,OAAC,OACC9B,UAAW,2CAA0C6G,EAAQ,mBAAqB,IAElFrI,SAAA,CAAAoC,MAAC,MAAGZ,UAAU,gCACXxB,SAAAkH,EAAE,sBAAuB,mBAE3B8N,EAAc,GACb5S,MAAClE,EAAOqF,OAAP,CACCG,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KACnBH,QAAS8J,EACT9L,UAAU,yDAETxB,SAAAkH,EAAE,4BAA6B,sBAMtC9E,MAAC,OACCZ,UAAW,+CAA8C6G,EAAQ,mBAAqB,IAErFrI,SAAA,CACC,CAAEmB,IAAK,MAAO0V,MAAO3P,EAAE,oBAAqB,QAC5C,CAAE/F,IAAK,SAAU0V,MAAO3P,EAAE,uBAAwB,WAClD,CAAE/F,IAAK,SAAU0V,MAAO3P,EAAE,uBAAwB,WAClD,CACE/F,IAAK,gBACL0V,MAAO3P,EAAE,8BAA+B,YAE1C/D,IAAI2T,GACJ1U,MAAC,UAECoB,QAAS,IAAMqR,EAAUiC,EAAI3V,KAC7BK,UAAW,wEACTqJ,IAAWiM,EAAI3V,IACX,qCACA,gEAGLnB,SAAA8W,EAAID,OARAC,EAAI3V,aAejBiB,IAAC,OAAIZ,UAAU,2BACZxB,SAAkC,IAAlC+V,EAAuBrI,SACtBpK,KAAC,OAAI9B,UAAU,kBACbxB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,gBAAgBxB,SAAA,OAC/BoC,MAAC,KAAEZ,UAAU,qBACVxB,SAAW,aACRkH,EAAE,yBAA0B,2BAC5BA,EACE,gCACA,6BAKV9E,MAAC,OAAIZ,UAAU,yBACZxB,SAAA+V,EAAuB5S,IAAIsH,GAC1BrI,MAAClE,EAAO+F,IAAP,CAECE,QAAS,CAAEC,QAAS,EAAGU,EAAGuD,EAAQ,IAAK,IACvChE,QAAS,CAAED,QAAS,EAAGU,EAAG,GAC1BtD,UAAW,gEACRiJ,EAAaC,KAAwB,GAAjB,gBAEvBlH,QAAS,KACNiH,EAAaC,MAAQ0C,EAAW3C,EAAa5N,IAGhDmD,SAAAsD,OAAC,OACC9B,UAAW,eAAc6G,EAAQ,mBAAqB,IAEtDrI,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,gBACbxB,SAAA,CAAAoC,MAAC,QAAKZ,UAAU,UAAWxB,SAAAyK,EAAa0B,QACtC1B,EAAaC,MACbtI,MAAC,OAAIZ,UAAU,oDAInB8B,OAAC,OACC9B,UAAW,mBAAkB6G,EAAQ,aAAe,aAEpDrI,SAAA,CAAAsD,OAAC,OACC9B,UAAW,2CAA0C6G,EAAQ,mBAAqB,IAElFrI,SAAA,CAAAoC,MAAC,MACCZ,UAAW,yCAAyCiJ,EAAaC,KAAyB,GAAlB,iBAEvE1K,SAAAyK,EAAasB,QAEhBzI,OAAC,OACC9B,UAAW,0CAAyC6G,EAAQ,mBAAqB,IAEjFrI,SAAA,CAAAoC,MAAC,QAAKZ,UAAU,6BACbxB,SAAAwV,EAAc/K,EAAasC,aAE9B3K,MAAClE,EAAOqF,OAAP,CACCG,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,IACnBH,QAASuT,IACPA,EAAEC,kBACFzJ,EAAmB9C,EAAa5N,KAElC2E,UAAU,0DAEVxB,SAAAoC,MAAC,OACCZ,UAAU,UACV6U,KAAK,OACLC,OAAO,eACPC,QAAQ,YAERvW,SAAAoC,MAAC,QACCoU,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,mCAMZvU,MAAC,KAAEZ,UAAU,+CACVxB,WAAagM,UAEW,WAA1BvB,EAAa2B,UACZhK,MAAC,QAAKZ,UAAU,uFACbxB,SAAAkH,EAAE,uBAAwB,mBAnE9BuD,EAAa5N,SA+E3BiZ,EAAsBpI,OAlQD,GAmQpBtL,MAAC,OAAIZ,UAAU,yCACbxB,SAAAoC,MAAC,UAAOZ,UAAU,yDACfxB,SAAAkH,EAAE,wBAAyB,uCChRxC+P,GAAgBnX,kBACToX,GAAe,CAC1BC,SAAU,WACVC,WAAY,aACZC,OAAQ,SACRC,YAAa,cACbC,IAAK,OAIMC,GAAe,CAC1BC,QAAS,UACTC,SAAU,WACVC,MAAO,QACPC,WAAY,aACZC,WAAY,cAIRC,GACO,YADPA,GAES,cAFTA,GAGa,kBAHbA,GAIS,cAJTA,GAKS,cALTA,GAMY,iBANZA,GAOW,gBAPXA,GAQkB,uBAGlB3Y,GAAe,CACnB4Y,MAAO,GACPC,QAAS,GACTC,YAAa,GACb1N,SAAS,EACT2N,QAAS,CACPvY,KAAMuX,GAAaK,IACnBxV,QAAS,KACToW,WAAY,KACZC,OAAQ,aAEVC,cAAe,GACfC,gBAAiB,GACjBC,aAAc,GAIVC,GAAgB,CAEpB,CACE3b,GAAI,EACJC,KAAM,yBACN2b,OAAQ,oBACRC,SAAU,UACVC,WAAY,QACZ5W,QAAS,UACT6W,MAAO,IACPC,MAAO,SACPC,SAAU,CAAC,SAAU,UAAW,UAAW,MAAO,UAEpD,CACEjc,GAAI,EACJC,KAAM,0BACN2b,OAAQ,4BACRC,SAAU,OACVC,WAAY,QACZ5W,QAAS,UACT6W,MAAO,IACPC,MAAO,SACPC,SAAU,CAAC,MAAO,UAAW,cAAe,QAAS,UAEvD,CACEjc,GAAI,EACJC,KAAM,8BACN2b,OAAQ,4BACRC,SAAU,WACVC,WAAY,QACZ5W,QAAS,UACT6W,MAAO,KACPC,MAAO,SACPC,SAAU,CAAC,YAAa,UAAW,YAAa,WAAY,iBAE9D,CACEjc,GAAI,EACJC,KAAM,yBACN2b,OAAQ,kBACRC,SAAU,WACVC,WAAY,QACZ5W,QAAS,UACT6W,MAAO,KACPC,MAAO,SACPC,SAAU,CAAC,SAAU,UAAW,UAAW,WAAY,UAIzD,CACEjc,GAAI,EACJC,KAAM,4BACN2b,OAAQ,sBACRC,SAAU,QACVC,WAAY,SACZ5W,QAAS,cACT6W,MAAO,IACPC,MAAO,UACPC,SAAU,CAAC,aAAc,WAAY,QAAS,QAAS,cAEzD,CACEjc,GAAI,EACJC,KAAM,sBACN2b,OAAQ,uBACRC,SAAU,WACVC,WAAY,QACZ5W,QAAS,cACT6W,MAAO,KACPC,MAAO,aACPC,SAAU,CAAC,UAAW,KAAM,UAAW,MAAO,WAEhD,CACEjc,GAAI,EACJC,KAAM,6BACN2b,OAAQ,gCACRC,SAAU,SACVC,WAAY,QACZ5W,QAAS,cACT6W,MAAO,IACPC,MAAO,WACPC,SAAU,CAAC,WAAY,aAAc,SAAU,MAAO,aAExD,CACEjc,GAAI,EACJC,KAAM,4BACN2b,OAAQ,8BACRC,SAAU,UACVC,WAAY,UACZ5W,QAAS,cACT6W,MAAO,KACPC,MAAO,UACPC,SAAU,CAAC,QAAS,SAAU,eAAgB,SAAU,gBAI1D,CACEjc,GAAI,EACJC,KAAM,wBACN2b,OAAQ,mBACRC,SAAU,SACVC,WAAY,OACZ5W,QAAS,YACT6W,MAAO,KACPC,MAAO,cACPC,SAAU,CAAC,OAAQ,YAAa,SAAU,SAAU,cAEtD,CACEjc,GAAI,GACJC,KAAM,0BACN2b,OAAQ,sBACRC,SAAU,SACVC,WAAY,OACZ5W,QAAS,YACT6W,MAAO,KACPC,MAAO,WACPC,SAAU,CAAC,SAAU,QAAS,SAAU,MAAO,WAEjD,CACEjc,GAAI,GACJC,KAAM,yBACN2b,OAAQ,iBACRC,SAAU,UACVC,WAAY,OACZ5W,QAAS,YACT6W,MAAO,IACPC,MAAO,cACPC,SAAU,CAAC,QAAS,SAAU,YAAa,cAAe,eAE5D,CACEjc,GAAI,GACJC,KAAM,wBACN2b,OAAQ,kBACRC,SAAU,cACVC,WAAY,aACZ5W,QAAS,YACT6W,MAAO,KACPC,MAAO,YACPC,SAAU,CAAC,OAAQ,eAAgB,cAAe,UAAW,YAI3DC,GAAkB,CACtB,CAAElc,GAAI,UAAWC,KAAM,UAAW2b,OAAQ,QAAS1W,QAAS,WAC5D,CAAElF,GAAI,OAAQC,KAAM,OAAQ2b,OAAQ,QAAS1W,QAAS,WACtD,CAAElF,GAAI,QAASC,KAAM,QAAS2b,OAAQ,SAAU1W,QAAS,eACzD,CAAElF,GAAI,WAAYC,KAAM,WAAY2b,OAAQ,QAAS1W,QAAS,eAC9D,CACElF,GAAI,SACJC,KAAM,mBACN2b,OAAQ,aACR1W,QAAS,aAEX,CACElF,GAAI,SACJC,KAAM,cACN2b,OAAQ,aACR1W,QAAS,cAIPiX,GAAc,CAClB,CAAEnc,GAAI,SAAUC,KAAM,SAAUiF,QAAS,WACzC,CAAElF,GAAI,UAAWC,KAAM,UAAWiF,QAAS,eAC3C,CAAElF,GAAI,cAAeC,KAAM,cAAeiF,QAAS,cAI/CkX,GAAa,CAAClB,EAAO1C,EAAQxE,EAAY,MAC7C,IAAKkH,IAAU1C,QAAe,CAAE6D,OAAO,EAAOC,MAAO,GAErD,MAAMC,EAAarB,EAAMsB,cACnBC,EAAcjE,EAAOgE,cAG3B,GAAIC,EAAYrM,SAASmM,GACvB,MAAO,CAAEF,OAAO,EAAMC,MAAO,GAI/B,MAEMI,EAAa,EAFFC,GAAoBJ,EAAYE,GAC/B3M,KAAKiF,IAAIwH,EAAW1L,OAAQ4L,EAAY5L,QAG1D,MAAO,CACLwL,MAAOK,GAAc1I,EACrBsI,MAAOI,IAILC,GAAsB,CAACC,EAAMC,KACjC,MAAMC,EAAS,GAEf,QAASC,EAAI,EAAGA,GAAKF,EAAKhM,OAAQkM,IAChCD,EAAOC,GAAK,CAACA,GAGf,QAASC,EAAI,EAAGA,GAAKJ,EAAK/L,OAAQmM,IAChCF,EAAO,GAAGE,GAAKA,EAGjB,QAASD,EAAI,EAAGA,GAAKF,EAAKhM,OAAQkM,IAChC,QAASC,EAAI,EAAGA,GAAKJ,EAAK/L,OAAQmM,IAC5BH,EAAKI,OAAOF,EAAI,KAAOH,EAAKK,OAAOD,EAAI,GACzCF,EAAOC,GAAGC,GAAKF,EAAOC,EAAI,GAAGC,EAAI,GAEjCF,EAAOC,GAAGC,GAAKlN,KAAKoN,IAClBJ,EAAOC,EAAI,GAAGC,EAAI,GAAK,EACvBF,EAAOC,GAAGC,EAAI,GAAK,EACnBF,EAAOC,EAAI,GAAGC,GAAK,GAM3B,OAAOF,EAAOD,EAAKhM,QAAQ+L,EAAK/L,SAI5BsM,GAAgB,CAACva,EAAOC,KAC5B,OAAQA,EAAOC,MACb,KAAKmY,GACH,MAAO,IAAKrY,EAAOsY,MAAOrY,EAAOE,SAEnC,KAAKkY,GACH,MAAO,IACFrY,EACHuY,QAAStY,EAAOE,QAAQoY,QACxBO,aAAc7Y,EAAOE,QAAQsM,MAC7B3B,SAAS,GAGb,KAAKuN,GACH,MAAO,IAAKrY,EAAOwY,YAAavY,EAAOE,SAEzC,KAAKkY,GACH,MAAO,IAAKrY,EAAO8K,QAAS7K,EAAOE,SAErC,KAAKkY,GACH,MAAO,IACFrY,EACHyY,QAAS,IAAKzY,EAAMyY,WAAYxY,EAAOE,UAG3C,KAAKkY,GAA+B,CAClC,MAAMmC,EAAa,CACjBva,EAAOE,WACJH,EAAM4Y,cAAcxN,OAAOqP,GAAQA,IAASxa,EAAOE,UACtDoW,MAAM,EAAG,IAEX,MAAO,IAAKvW,EAAO4Y,cAAe4B,EACpC,CAEA,KAAKnC,GACH,MAAO,IAAKrY,EAAO4Y,cAAe,IAEpC,KAAKP,GACH,MAAO,IAAKrY,EAAO6Y,gBAAiB5Y,EAAOE,SAE7C,QACE,OAAOH,IAIA0a,GAAiB,EAAGna,eAC/B,MAAOP,EAAOQ,GAAYC,aAAW8Z,GAAe7a,IAMpDib,EAAMja,UAAU,KACd,MAAMka,EAAe5Z,aAAaG,QAAQ,yBAC1C,GAAIyZ,EACF,IACkBrP,KAAKC,MAAMoP,GACnBnZ,QAAQ6W,IACd9X,EAAS,CAAEN,KAAMmY,GAA+BlY,QAASmY,KAE7D,OAASxY,GAET,GAED,IAGH6a,EAAMja,UAAU,KACdM,aAAaC,QACX,wBACAsK,KAAKE,UAAUzL,EAAM4Y,iBAEtB,CAAC5Y,EAAM4Y,gBAGV,MAAMiC,EAAgBnK,cACpB/E,MAAO2M,EAAOG,EAAU,MACtB,IAAKH,EAAMwC,OAKT,YAJAta,EAAS,CACPN,KAAMmY,GACNlY,QAAS,CAAEoY,QAAS,GAAI9L,MAAO,KAKnCjM,EAAS,CAAEN,KAAMmY,GAA4BlY,SAAS,UAGhD,IAAIyL,QAAQC,GAAWC,WAAWD,EAAS,MAEjD,MAAMkP,EAAczC,EAAMsB,cAAckB,OAClCE,EAAgB,IAAKhb,EAAMyY,WAAYA,GAE7C,IAAIwC,EAAgB,GAGpB,GACED,EAAc9a,OAASuX,GAAaK,KACpCkD,EAAc9a,OAASuX,GAAaC,SACpC,CACA,MAAMwD,EAAiBnC,GAAc3N,OAAO2F,IAE1C,GACEiK,EAAc1Y,SACdyO,EAAQzO,UAAY0Y,EAAc1Y,QAElC,OAAO,EAIT,MAAM6Y,EAAY3B,GAChBuB,EACqChK,EAAQ1T,MAEzC+d,EAAgB5B,GACpBuB,EACyChK,EAAQkI,UAE7CoC,EAAa7B,GAAWuB,EAAahK,EAAQqI,OAC7CkC,EAAevK,EAAQsI,SAASkC,KACpCC,GAAWhC,GAAWuB,EAAaS,GAAS/B,OAG9C,OACE0B,EAAU1B,OACV2B,EAAc3B,OACd4B,EAAW5B,OACX6B,IAED5X,IAAIqN,IAAA,IACFA,EACH7Q,KAAM6X,GAAaC,QACnByD,eAAgBC,EAAwBX,EAAahK,MAGvDkK,EAAc9J,QAAQ+J,EACxB,CAGA,GACEF,EAAc9a,OAASuX,GAAaK,KACpCkD,EAAc9a,OAASuX,GAAaE,WACpC,CACA,MAAMgE,EAAkBrC,GAAgBlO,OAAO6N,IAC7C,GACE+B,EAAc1Y,SACd2W,EAAS3W,UAAY0Y,EAAc1Y,QAEnC,OAAO,EAOT,OAJkBkX,GAChBuB,EACsC9B,EAAS5b,MAEhCoc,QAChB/V,IAAIuV,IAAA,IACFA,EACH/Y,KAAM6X,GAAaE,SACnBwD,eAAgBjC,GACduB,EACsC9B,EAAS5b,MAC/Cqc,SAGJuB,EAAc9J,QAAQwK,EACxB,CAGA,GACEX,EAAc9a,OAASuX,GAAaK,KACpCkD,EAAc9a,OAASuX,GAAaG,OACpC,CACA,MAAMgE,EAAerC,GAAYnO,OAAOgO,IACtC,GACE4B,EAAc1Y,SACd8W,EAAM9W,UAAY0Y,EAAc1Y,QAEhC,OAAO,EAIT,OADkBkX,GAAWuB,EAAa3B,EAAM/b,MAC/Boc,QAChB/V,IAAI0V,IAAA,IACFA,EACHlZ,KAAM6X,GAAaG,MACnBuD,eAAgBjC,GAAWuB,EAAa3B,EAAM/b,MAAMqc,SAGtDuB,EAAc9J,QAAQyK,EACxB,CAGAX,EAAcY,KAAK,CAACC,EAAGC,IAAMA,EAAEN,eAAiBK,EAAEL,gBAG9CT,EAActC,aAChBuC,EAAgBA,EAAc7P,OAAO4Q,IACnC,GAAIA,EAAO9b,OAAS6X,GAAaC,UAAYgE,EAAO7C,MAAO,OAAO,EAElE,MAAOmB,EAAKnI,GAAO6I,EAActC,WAAW3X,MAAM,KAAK2C,IAAIuY,QAC3D,OAAOD,EAAO7C,OAASmB,KAAQnI,GAAM6J,EAAO7C,OAAShH,MAIzD3R,EAAS,CACPN,KAAMmY,GACNlY,QAAS,CAAEoY,QAAS0C,EAAexO,MAAOwO,EAAchN,UAI1DzN,EAAS,CAAEN,KAAMmY,GAA+BlY,QAASmY,KAE3D,CAACtY,EAAMyY,QApKQ,OAwKXiD,EAA0B,CAACpD,EAAOvH,KACtC,MAAM4I,EAAarB,EAAMsB,cACzB,IAAIF,EAAQ,EAGZ,MAAMyB,EAAY3B,GAChBG,EACqC5I,EAAQ1T,MAE3C8d,EAAU1B,QAAOC,GAA2B,EAAlByB,EAAUzB,OAGxC,MAAM0B,EAAgB5B,GACpBG,EACyC5I,EAAQkI,UAE/CmC,EAAc3B,QAAOC,GAA+B,EAAtB0B,EAAc1B,OAGhD,MAAM2B,EAAa7B,GAAWG,EAAY5I,EAAQqI,OASlD,OARIiC,EAAW5B,QAAOC,GAA4B,IAAnB2B,EAAW3B,OAG1C3I,EAAQsI,SAAS5X,QAAQ+Z,IACvB,MAAMF,EAAe9B,GAAWG,EAAY6B,GACxCF,EAAa7B,QAAOC,GAA8B,EAArB4B,EAAa5B,SAGzCA,GAIHwC,EAAsBxL,cAC1B/E,MAAM2M,IACJ,IAAKA,EAAMwC,QAAUxC,EAAMrK,OAAS,EAElC,YADAzN,EAAS,CAAEN,KAAMmY,GAAgClY,QAAS,KAI5D,MAAMwZ,EAAarB,EAAMsB,cACnBpB,EAAc,GAGpBO,GAActX,QAAQsP,IACpB,MAAM1T,EAA4C0T,EAAQ1T,KACtDA,EAAKuc,cAAcpM,SAASmM,IAC9BnB,EAAYrH,KAAK,CACfgL,KAAM9e,EACN6C,KAAM,UACN9C,GAAI2T,EAAQ3T,GACZkF,QAASyO,EAAQzO,YAMvBgX,GAAgB7X,QAAQwX,IACtB,MAAM5b,EAA6C4b,EAAS5b,KACxDA,EAAKuc,cAAcpM,SAASmM,IAC9BnB,EAAYrH,KAAK,CACfgL,KAAM9e,EACN6C,KAAM,WACN9C,GAAI6b,EAAS7b,GACbkF,QAAS2W,EAAS3W,YAMxBiX,GAAY9X,QAAQ2X,IACdA,EAAM/b,KAAKuc,cAAcpM,SAASmM,IACpCnB,EAAYrH,KAAK,CACfgL,KAAM/C,EAAM/b,KACZ6C,KAAM,QACN9C,GAAIgc,EAAMhc,GACVkF,QAAS8W,EAAM9W,YAMrB,MAAM8Z,EAAoB5D,EACvBpN,OACC,CAACiR,EAAYC,EAAOC,IAClBD,IAAUC,EAAKC,UAAUrX,GAAKA,EAAEgX,OAASE,EAAWF,OAEvD5F,MAAM,EAAG,GAEZ/V,EAAS,CACPN,KAAMmY,GACNlY,QAASic,KAGb,CArQe,OAqRXza,EAAQ,IACT3B,EACH6a,gBACAqB,sBACAO,SAjBenE,IACf9X,EAAS,CAAEN,KAAMmY,GAA0BlY,QAASmY,KAiBpDoE,WAdiBjE,IACjBjY,EAAS,CAAEN,KAAMmY,GAA4BlY,QAASsY,KActDkE,aAXmB,KACnBnc,EAAS,CAAEN,KAAMmY,KACjBrX,aAAagT,WAAW,0BAUxByD,gBACAM,iBAGF,SACEpV,IAAC6U,GAAc5U,SAAd,CAAuBjB,QAAepB,cC3lBrCqc,GAAiB,EACrBC,iBACAC,cACAC,eAAc,EACdhb,YAAY,OAEZ,MAAMuW,MACJA,EAAAE,YACAA,EAAAI,cACAA,EAAA9N,QACAA,EAAA2N,QACAA,EAAAoC,cACAA,EAAAqB,oBACAA,EAAAO,SACAA,EAAAC,WACAA,EAAAC,aACAA,EACAlF,gBD8kBqB,MACvB,MAAM3U,EAAUC,aAAWyU,IAC3B,IAAK1U,EACH,MAAM,IAAIE,MAAM,kDAElB,OAAOF,GCllBHka,IAEEvV,EAAEA,EAAAmB,MAAGA,GAAUC,MACfjJ,MAAEA,GAAUiD,MAEXqS,EAAQC,GAAavG,YAAS,IAC9BqO,EAAYC,GAAiBtO,WAAS0J,IACtC6E,EAAkBC,GAAuBxO,YAAS,GACnDyO,EAAY/H,SAAO,MACnBgI,EAAWhI,SAAO,MAGxB5U,YAAU,KACR,MAAM8U,EAAqBC,IACrB4H,EAAU3H,UAAY2H,EAAU3H,QAAQC,SAASF,EAAMG,UACzDT,GAAU,GACViI,GAAoB,KAKxB,OADA/b,SAASwU,iBAAiB,YAAaL,GAChC,IAAMnU,SAASyU,oBAAoB,YAAaN,IACtD,IAGH9U,YAAU,KACR,MAAM6c,EAAgBzR,WAAW,KAC3BmR,EAAWnC,QAAU5F,GACvBgH,EAAoBe,IAErB,KAEH,MAAO,IAAMO,aAAaD,IACzB,CAACN,EAAY/H,EAAQgH,IAExB,MAUMuB,EAAe,CAAC1C,EAAckC,KAC9BlC,EAAYD,SACdD,EAAcE,GACd5F,GAAU,GACV0H,GAAkBA,EAAe,CAAE3c,KAAM,SAAUoY,MAAOyC,MAWxD2C,EAAqBC,IACzBT,EAAcS,GACdlB,EAASkB,GACTF,EAAaE,IAiBTC,EAAqB,CAACC,EAAWlc,KACrC+a,EAAW,CAAEmB,CAACA,GAAYlc,IACtBsb,EAAWnC,QACb2C,KAIEK,EAAoB5d,IACxB,OAAQA,GACN,IAAK,UACH,MAAO,KACT,IAAK,WACH,MAAO,KACT,IAAK,QACH,MAAO,MACT,QACE,MAAO,OAIP6d,EAAc,CAClB,CAAE3G,MAAO3P,EAAE,mBAAoB,cAAe9F,MAAO,MACrD,CAAEyV,MAAO3P,EAAE,kBAAmB,iBAAkB9F,MAAO,SACvD,CAAEyV,MAAO3P,EAAE,mBAAoB,mBAAoB9F,MAAO,YAC1D,CAAEyV,MAAO3P,EAAE,oBAAqB,qBAAsB9F,MAAO,aAC7D,CAAEyV,MAAO3P,EAAE,kBAAmB,kBAAmB9F,MAAO,UAGpDqc,EAAc,CAClB,CAAE5G,MAAO3P,EAAE,mBAAoB,aAAc9F,MAAO,aACpD,CACEyV,MAAO3P,EAAE,sBAAuB,sBAChC9F,MAAO,aAET,CACEyV,MAAO3P,EAAE,sBAAuB,sBAChC9F,MAAO,cAET,CAAEyV,MAAO3P,EAAE,gBAAiB,gBAAiB9F,MAAO,UACpD,CAAEyV,MAAO3P,EAAE,iBAAkB,gBAAiB9F,MAAO,YAGvD,cACG,OAAII,UAAW,YAAYA,IAAayU,IAAK6G,EAE5C9c,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,WACbxB,SAAA,CAAAsD,OAAC,OACC9B,UAAU,iMACVH,MAAO,CACLjE,WAAY,2BAA2BiC,EAAMrC,OAAOK,iBAAiBgC,EAAMrC,OAAOI,qBAClFsgB,eAAgB,cAGlB1d,SAAA,CAAAoC,MAACub,EAAA,CACCnc,UAAW,mEACT6G,EAAQ,UAAY,UAEtBvE,KAAM,KAGR1B,MAAC,SACC6T,IAAK8G,EACLpd,KAAK,OACLyB,MAAOsb,EACPkB,SA7GgB7G,IACxB,MAAM3V,EAAQ2V,EAAE1B,OAAOjU,MACvBub,EAAcvb,GACd8a,EAAS9a,GAELA,EAAMmZ,QACR3F,GAAU,IAwGJiJ,QAAS,IAAMjJ,GAAU,GACzBkJ,UAhFa/G,IACP,UAAVA,EAAE5V,IACJ+b,IACmB,WAAVnG,EAAE5V,KACXyT,GAAU,IA6EJ2H,YACEA,GACArV,EAAE,qBAAsB,0CAE1B1F,UAAW,4FACT6G,EAAQ,yBAA2B,yBAErClD,IAAKkD,EAAQ,MAAQ,QAGvB/E,OAAC,OACC9B,UAAW,wEACT6G,EAAQ,SAAW,WAGpBrI,SAAA,CAAA0c,GACCta,MAAClE,EAAOqF,OAAP,CACCY,QAAS,CAAER,MAAO,GAClBU,QAAS,CAAEV,MAAO,GAClBW,KAAM,CAAEX,MAAO,GACfH,QA7FK,WACjBmZ,EAAc,IACdT,EAAS,IACT,OAAAxX,EAAAqY,EAAS5H,UAATzQ,EAAkBqZ,SA2FNvc,UAAU,qGAEVxB,SAAAoC,MAAC4b,EAAA,CAAEla,KAAM,OAIZ0Y,GACCpa,MAAClE,EAAOqF,OAAP,CACCG,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KACnBH,QAAS,IAAMqZ,GAAqBD,GACpCpb,UAAW,kGACTob,EAAmB,6BAA+B,IAGpD5c,SAAAoC,MAAC6b,EAAA,CAAOna,KAAM,aAOrByG,GACCnI,MAAC,OACCZ,UAAW,2BAA0B6G,EAAQ,UAAY,UAEzDrI,SAAAsD,OAAC,OAAI9B,UAAU,qDACbxB,SAAA,GAAAoC,IAAC,OAAIZ,UAAU,mFACd0F,EAAE,mBAAoB,0BAO/B9E,IAAC4B,GACEhE,SAAA4c,GACCxa,MAAClE,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,GAAG,IAC1BM,QAAS,CAAED,QAAS,EAAGL,EAAG,GAC1BO,KAAM,CAAEF,QAAS,EAAGL,GAAG,IACvBvC,UAAW,gGACT6G,EAAQ,UAAY,UAGtBrI,SAAAsD,OAAC,OAAI9B,UAAU,wCAEbxB,SAAA,CAAAsD,OAAC,OACCtD,SAAA,CAAAoC,MAAC,SAAMZ,UAAU,iDACdxB,SAAAkH,EAAE,kBAAmB,eAExB5D,OAAC,UACClC,MAAO8W,EAAQvY,KACfie,SAAU7G,GAAKsG,EAAmB,OAAQtG,EAAE1B,OAAOjU,OACnDI,UAAU,oIAEVxB,SAAA,CAAAoC,MAAC,UAAOhB,MAAO8V,EAAaK,IACzBvX,SAAAkH,EAAE,aAAc,SAEnB9E,MAAC,UAAOhB,MAAO8V,EAAaC,SACzBnX,SAAAkH,EAAE,kBAAmB,cAExB9E,MAAC,UAAOhB,MAAO8V,EAAaE,WACzBpX,SAAAkH,EAAE,oBAAqB,gBAE1B9E,MAAC,UAAOhB,MAAO8V,EAAaG,OACzBrX,SAAAkH,EAAE,gBAAiB,yBAMzB,OACClH,SAAA,CAAAoC,MAAC,SAAMZ,UAAU,iDACdxB,SAAAkH,EAAE,oBAAqB,iBAE1B9E,MAAC,UACChB,MAAO8W,EAAQC,YAAc,GAC7ByF,SAAU7G,GACRsG,EAAmB,aAActG,EAAE1B,OAAOjU,OAAS,MAErDI,UAAU,oIAETxB,SAAAwd,EAAYra,IAAI+a,GACf9b,MAAC,UAEChB,MAAO8c,EAAM9c,OAAS,GAErBpB,SAAAke,EAAMrH,OAHFqH,EAAM9c,OAAS,oBAU3B,OACCpB,SAAA,CAAAoC,MAAC,SAAMZ,UAAU,iDACdxB,SAAAkH,EAAE,gBAAiB,aAEtB9E,MAAC,UACChB,MAAO8W,EAAQE,OACfwF,SAAU7G,GAAKsG,EAAmB,SAAUtG,EAAE1B,OAAOjU,OACrDI,UAAU,oIAETxB,SAAAyd,EAAYta,IAAIgb,GACf/b,MAAC,UAA0BhB,MAAO+c,EAAO/c,MACtCpB,SAAAme,EAAOtH,OADGsH,EAAO/c,oBAYlCgB,MAAC4B,EAAA,CACEhE,SAAA2U,IAAWiI,GACVxa,MAAClE,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,GAAG,IAC1BM,QAAS,CAAED,QAAS,EAAGL,EAAG,GAC1BO,KAAM,CAAEF,QAAS,EAAGL,GAAG,IACvBvC,UAAW,qHACT6G,EAAQ,UAAY,UAGrBrI,WAAWua,OAEVnY,MAAC,OACEpC,SAAAiY,EAAYvK,OAAS,EACpBpK,OAAA8a,WAAA,CACEpe,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,oDACbxB,WAAAoC,IAAC,QAAKZ,UAAU,yCACbxB,SAAAkH,EAAE,qBAAsB,mBAG7B9E,MAAC,OAAIZ,UAAU,2BACZxB,WAAYmD,IAAI,CAAC2Y,EAAYC,IAC5BzY,OAACpF,EAAOqF,OAAP,CAECY,QAAS,CAAEC,QAAS,EAAGU,EAAGuD,EAAQ,IAAK,IACvChE,QAAS,CAAED,QAAS,EAAGU,EAAG,GAC1BP,WAAY,CAAE8Z,MAAe,IAARtC,GACrBvY,QAAS,IAnQH,CAAAsY,IAC5Ba,EAAcb,EAAWF,MACzBM,EAASJ,EAAWF,MACpBsB,EAAapB,EAAWF,MACxBU,GAAkBA,EAAeR,IA+PIwC,CAAsBxC,GACrCta,UAAW,gGACT6G,EAAQ,8BAAgC,IAG1CrI,SAAA,CAAAoC,MAAC,QAAKZ,UAAU,UACbxB,SAAAud,EAAkBzB,EAAWnc,UAEhC2D,KAAC,OAAI9B,UAAU,SACbxB,SAAA,CAAAoC,MAAC,QAAKZ,UAAU,kBACbxB,SAAA8b,EAAWF,OAEdxZ,MAAC,QAAKZ,UAAU,8CACbxB,SAAAkH,EAAE,UAAU4U,EAAWnc,OAAQmc,EAAWnc,WAG/CyC,MAACmc,EAAA,CACCza,KAAM,GACNtC,UAAW,uBAAsB6G,EAAQ,aAAe,QAtBrD,GAAGyT,EAAWnc,QAAQmc,EAAWjf,MAAMkf,WA6BpDzY,OAAC,OAAI9B,UAAU,wBACbxB,SAAA,GAAAoC,IAACub,EAAA,CAAOnc,UAAU,kDACjB,KAAEA,UAAU,qBACVxB,SAAAkH,EAAE,uBAAwB,0BAE7B9E,MAAC,UACCoB,QAAS,IAAM0Z,IACf1b,UAAU,8DAETxB,SAAAkH,EAAE,sBAAuB,+BAOjC,OACElH,SAAA,CAAAqY,EAAc3K,OAAS,GACtBpK,OAAA8a,WAAA,CACEpe,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,sFACbxB,SAAA,GAAAsD,KAAC,QAAK9B,UAAU,iEACdxB,SAAA,GAAAoC,IAACoc,EAAA,CAAM1a,KAAM,KACZoD,EAAE,wBAAyB,sBAE9B9E,MAAC,UACCoB,QAAS4Y,EACT5a,UAAU,qEAETxB,SAAAkH,EAAE,eAAgB,gBAGvB9E,IAAC,OAAIZ,UAAU,2BACZxB,SAAAqY,EAAcrC,MAAM,EAAG,GAAG7S,IAAI,CAACia,EAAcrB,IAC5CzY,OAACpF,EAAOqF,OAAP,CAECY,QAAS,CAAEC,QAAS,EAAGU,EAAGuD,EAAQ,IAAK,IACvChE,QAAS,CAAED,QAAS,EAAGU,EAAG,GAC1BP,WAAY,CAAE8Z,MAAe,IAARtC,GACrBvY,QAAS,IAAM2Z,EAAmBC,GAClC5b,UAAW,gGACT6G,EAAQ,8BAAgC,IAG1CrI,SAAA,CAAAoC,MAACoc,EAAA,CAAM1a,KAAM,GAAItC,UAAU,uBAC3BY,MAAC,QAAKZ,UAAU,yBACbxB,SAAAod,IAEHhb,MAACmc,EAAA,CACCza,KAAM,GACNtC,UAAW,uBAAsB6G,EAAQ,aAAe,QAfrD,WAAW0T,aAwB1BzY,KAAC,OAAI9B,UAAU,mCACbxB,SAAA,GAAAsD,KAAC,QAAK9B,UAAU,iEACdxB,SAAA,GAAAoC,IAACqc,EAAA,CAAW3a,KAAM,KACjBoD,EAAE,yBAA0B,yBAE/B9E,IAAC,OAAIZ,UAAU,4BACZxB,SAAA,CACC,iBACA,eACA,eACA,aACA,gBACAmD,IAAI,CAACub,EAAM3C,IACX3Z,MAAClE,EAAOqF,OAAP,CAECY,QAAS,CAAEC,QAAS,EAAGT,MAAO,IAC9BU,QAAS,CAAED,QAAS,EAAGT,MAAO,GAC9BY,WAAY,CAAE8Z,MAAe,GAARtC,GACrBvY,QAAS,IAAM2Z,EAAmBuB,GAClCld,UAAU,gJAETxB,SAAA0e,GAPIA,oBCnavBC,GAAkB,EAAGhK,SAAQiK,cACjC,MAAMtQ,OAAEA,EAAAgD,UAAQA,EAAAW,iBAAWA,EAAAE,YAAkBA,GAAgBlE,MACvD5O,MAAEA,GAAUiD,MACXuI,EAAQgK,GAAaxG,WAAS,UAE/BwQ,QACJ,OAAQhU,GACN,IAAK,SAML,QACE,OAAOyD,EALT,IAAK,MACH,OAAOgD,EACT,IAAK,eACH,OAAOA,EAAUzG,OAAOoG,GAASA,EAAMF,cAI7C,KAEM+N,EAAenf,IACnB,OAAQA,GACN,IAAK,WACH,SAAOyC,IAAC2c,EAAA,CAAcvd,UAAU,yBAClC,IAAK,MACH,SAAOY,IAAC4c,EAAA,CAAaxd,UAAU,4BACjC,IAAK,UACH,SAAOY,IAACO,EAAA,CAAQnB,UAAU,0BAC5B,QACE,SAAOY,IAAC6c,EAAA,CAAKzd,UAAU,4BAIvB0d,EAAgBvf,IACpB,OAAQA,GACN,IAAK,WACH,MAAO,2BACT,IAAK,MACH,MAAO,iCACT,IAAK,UACH,MAAO,6BACT,QACE,MAAO,+BAIPwf,EAAarO,IACjB,MAAM/I,EAAO,IAAIK,KAAK0I,GAChBpE,MAAUtE,KACVsN,EAAgB/I,KAAKgJ,OAAOjJ,EAAM3E,GAAA,KAExC,OAAI2N,EAAgB,EAAU,WAC1BA,EAAgB,GAAW,GAAGA,SAC9BA,EAAgB,KAAa,GAAG/I,KAAKgJ,MAAMD,EAAgB,WACxD3N,EAAKqX,sBAGd,OACEhd,MAAC4B,EAAA,CACEhE,SAAA2U,GACCrR,OAAA8a,WAAA,CAEEpe,SAAA,CAAAoC,MAAClE,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBE,KAAM,CAAEF,QAAS,GACjB5C,UAAU,4CACVgC,QAASob,IAIXtb,OAACpF,EAAO+F,IAAP,CACCE,QAAS,CAAEW,EAAG,QACdT,QAAS,CAAES,EAAG,GACdR,KAAM,CAAEQ,EAAG,QACXP,WAAY,CAAE5E,KAAM,SAAU0f,QAAS,GAAIC,UAAW,KACtD9d,UAAW,8CAA8CnC,EAAMkgB,kBAAkBlgB,EAAM7B,gDAGvFwC,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,iDACbxB,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,0BACbxB,SAAA,GAAAoC,IAACod,EAAA,CAAKhe,UAAU,gCACf,MAAGA,UAAW,yBAAyBnC,EAAMuc,OAAQ5b,SAAA,qBAGrDsO,EAAOZ,OAAS,GACftL,MAAC,QAAKZ,UAAU,uDACbxB,WAAO0N,YAIdtL,MAAC,UACCoB,QAASob,EACTpd,UAAW,qDAEXxB,SAAAoC,MAAC4b,EAAA,CAAExc,UAAU,mBAKjB8B,KAAC,OAAI9B,UAAU,gBACbxB,SAAA,CAAAsD,OAAC,UACCE,QAAS,IAAMqR,EAAU,UACzBrT,UAAW,2DACE,WAAXqJ,EACI,GAAGxL,EAAMlC,oBACT,GAAGkC,EAAMuc,yBAEhB5b,SAAA,YACUsO,EAAOZ,OAAO,OAEzBpK,OAAC,UACCE,QAAS,IAAMqR,EAAU,OACzBrT,UAAW,2DACE,QAAXqJ,EACI,GAAGxL,EAAMlC,oBACT,GAAGkC,EAAMuc,yBAEhB5b,SAAA,SACOsR,EAAU5D,OAAO,OAEzBpK,OAAC,UACCE,QAAS,IAAMqR,EAAU,gBACzBrT,UAAW,2DACE,iBAAXqJ,EACI,GAAGxL,EAAMlC,oBACT,GAAGkC,EAAMuc,yBAEhB5b,SAAA,UACQsR,EAAUzG,OAAO0Q,GAAKA,EAAExK,cAAcrD,OAAO,UAK5C,WAAX7C,GAAuByD,EAAOZ,OAAS,GACtCtL,MAAC,OAAIZ,UAAU,eACbxB,SAAAoC,MAAC,UACCoB,QAAS2O,EACT3Q,UAAW,uCAAuCnC,EAAMkgB,kBAAkBlgB,EAAM7B,gBAAgB6B,EAAMogB,gCACvGzf,SAAA,yBAOLoC,IAAC,OAAIZ,UAAU,yBACZxB,SAA0B,IAA1B6e,EAAenR,SACdpK,KAAC,OAAI9B,UAAU,mEACbxB,SAAA,GAAAoC,IAACod,EAAA,CAAKhe,UAAU,uCACf,MAAGA,UAAW,uBAAuBnC,EAAMuc,YAAa5b,SAAA,gBAGzDoC,IAAC,KAAEZ,UAAW,WAAWnC,EAAMqgB,gBAC5B1f,SAAW,WAAX6K,EACG,yCACW,iBAAXA,EACE,6BACA,qCAIVzI,MAAC,OAAIZ,UAAU,gBACZxB,SAAA6e,EAAe1b,IAAI8N,GAClB7O,MAAClE,EAAO+F,IAAP,CAECE,QAAS,CAAEC,QAAS,EAAGL,EAAG,IAC1BM,QAAS,CAAED,QAAS,EAAGL,EAAG,GAC1BvC,UAAW,yBAAyB0d,EAAcjO,EAAMtR,SACtDsR,EAAMF,aAAe,aAAe,KAGtC/Q,SAAAsD,OAAC,OAAI9B,UAAU,yBACbxB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,uBACZxB,SAAA8e,EAAa7N,EAAMtR,cAErB,OAAI6B,UAAU,iBACbxB,SAAAsD,OAAC,OAAI9B,UAAU,yCACbxB,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,SACbxB,SAAA,CAAAoC,MAAC,KAAEZ,UAAU,oCACVxB,SAAAiR,EAAMP,cAETtO,MAAC,KAAEZ,UAAU,6BACVxB,WAAMgM,YAET1I,KAAC,OAAI9B,UAAU,qDACbxB,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,0BACbxB,SAAA,GAAAoC,IAACoc,EAAA,CAAMhd,UAAU,YAChB2d,EAAWlO,EAAMH,qBAEnB,OAAI9Q,SAAA,eAAYiR,EAAMN,yBAGzBM,EAAMF,cACN3O,MAAC,UACCoB,QAAS,IAAMyO,EAAiBhB,EAAMpU,IACtC2E,UAAU,yEACVuK,MAAM,eAEN/L,SAAAoC,MAACud,EAAA,CAAMne,UAAU,uBAlCtByP,EAAMpU,SA+CrBuF,MAAC,OAAIZ,UAAW,gBAAgBnC,EAAMkgB,iBACpCvf,eAAC,OAAIwB,UAAU,cACbxB,SAAAoC,MAAC,KAAEZ,UAAW,WAAWnC,EAAMqgB,gBAAiB1f,SAAA,yEC9M1D4f,GAAmB,CACvB,CAAE/I,MAAO,WAAYgJ,KAAM,IAAK9d,QAAS,OACzC,CAAE8U,MAAO,WAAYgJ,KAAM,QAAS9d,QAAS,OAC7C,CAAE8U,MAAO,iBAAkBgJ,KAAM,cAAe9d,QAAS,OACzD,CAAE8U,MAAO,gBAAiBgJ,KAAM,aAAc9d,QAAS,OACvD,CAAE8U,MAAO,YAAagJ,KAAM,SAAU9d,QAAS,OAC/C,CAAE8U,MAAO,cAAegJ,KAAM,WAAY9d,QAAS,QAGrD,SAAwB+d,WACtB,MAAOC,EAAYC,GAAiB3R,YAAS,IACtC4R,EAAkBC,GAAuB7R,YAAS,IAClD8R,EAAcC,GAAmB/R,YAAS,IAC1CgS,EAAuBC,GAA4BjS,YAAS,IAC5DkS,EAAsBC,GAA2BnS,YAAS,IAC1DoS,EAAsBC,GAA2BrS,YAAS,IAE3DhP,MAAEA,GAAUiD,MACZgM,OAAEA,GAAWL,MACboF,KAAEA,EAAAK,gBAAMA,GAAoBP,MAC5BjN,SACJA,EAAAC,SACAA,EAAAU,UACAA,EAAAC,WACAA,EAAAC,YACAA,EAAAC,YACAA,EAAAE,EACAA,EAAAmB,MACAA,GACEC,KAGJnI,YAAU,KACR,MAAMwgB,EAAe,KACnBX,EAAc3f,OAAOugB,QAAU,MAIjC,OADAvgB,OAAOiV,iBAAiB,SAAUqL,GAC3B,IAAMtgB,OAAOkV,oBAAoB,SAAUoL,IACjD,IAGHxgB,YAAU,KACR,MAAM8U,EAAqBC,IAEzB,GAAIqL,GAAwBE,EAAsB,CAChD,IAAIpL,EAASH,EAAMG,OACfwL,GAAgB,EAGpB,KAAOxL,GAAQ,CACb,GACEA,EAAO3T,YACN2T,EAAO3T,UAAU0T,SAAS,aACN,WAAnBC,EAAOyL,SACT,CACAD,GAAgB,EAChB,KACF,CACAxL,EAASA,EAAO0L,aAClB,CAEKF,IACHL,GAAwB,GACxBE,GAAwB,GAE5B,GAIF,OADA5f,SAASwU,iBAAiB,QAASL,GAC5B,IAAMnU,SAASyU,oBAAoB,QAASN,IAClD,CAACsL,EAAsBE,IAE1B,MAGMO,EAAyB,WAAf,MAAA3N,OAAA,EAAAA,EAAMY,OAAmC,uBAAfZ,WAAMY,MAEhD,OACE3Q,OAAA8a,WAAA,CAEEpe,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,0CACbxB,SAAAsD,OAAC,OAAI9B,UAAU,8DACbxB,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,0BACbxB,SAAA,CAAAoC,MAAC,QACEpC,SAAAkH,EAAE,sBAAuB,0CAE5B9E,MAAC,QAAKZ,UAAU,mBAAmBxB,SAAA,YAClC,QAAKwB,UAAU,mBACbxB,SAAAkH,EAAE,iBAAkB,gCAIzB5D,KAAC,OAAI9B,UAAU,0BAEbxB,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,WACbxB,SAAA,CAAAsD,OAAC,UACCE,QAASuT,IACPA,EAAEC,kBACF0J,GAAyBD,GACpBA,GAAsBD,GAAwB,IAErDhf,UAAU,8DAEVxB,SAAA,GAAAoC,IAAC6e,EAAA,CAAMnd,KAAM,KACb1B,MAAC,QAAMpC,SAAA,OAAA0E,EAAAmC,EAAUX,SAAV,EAAAxB,EAAqBQ,aAC5B9C,MAAC8e,EAAA,CACCpd,KAAM,GACNtC,UAAW,mCAAkCif,EAAuB,aAAe,WAIvFre,IAAC4B,GACEhE,SAAAygB,GACCre,MAAClE,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,GAAG,IAC1BM,QAAS,CAAED,QAAS,EAAGL,EAAG,GAC1BO,KAAM,CAAEF,QAAS,EAAGL,GAAG,IACvBvC,UAAW,wHACT6G,EAAQ,SAAW,WAGpBrI,SAAAgB,OAAOa,OAAOgF,GAAW1D,IAAIyD,GAC5BtD,OAAC,UAECE,QAAS,KACPuD,EAAYH,EAAK3B,MACjByb,GAAwB,IAE1Blf,UAAW,qGACT6G,EAAQ,aAAe,eACrBnC,IAAaU,EAAK3B,KAAO,mBAAqB,KAElDjF,SAAA,GAAAoC,IAAC,QAAMpC,WAAKoF,SACZhD,IAAC,QAAMpC,SAAA4G,EAAK1B,eAVP0B,EAAK3B,gBAmBtB3B,KAAC,OAAI9B,UAAU,WACbxB,SAAA,CAAAsD,OAAC,UACCE,QAASuT,IACPA,EAAEC,kBACFwJ,GAAyBD,GACpBA,GAAsBG,GAAwB,IAErDlf,UAAU,8DAEVxB,SAAA,GAAAoC,IAAC,QAAMpC,SAAAmG,IACP/D,MAAC8e,EAAA,CACCpd,KAAM,GACNtC,UAAW,mCAAkC+e,EAAuB,aAAe,WAIvFne,IAAC4B,GACEhE,SAAAugB,GACCne,MAAClE,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,GAAG,IAC1BM,QAAS,CAAED,QAAS,EAAGL,EAAG,GAC1BO,KAAM,CAAEF,QAAS,EAAGL,GAAG,IACvBvC,UAAW,wHACT6G,EAAQ,SAAW,WAGpBrI,SAAAgB,OAAOa,OAAOiF,GAAY3D,IAAIge,GAC7B7d,OAAC,UAECE,QAAS,KACPwD,EAAYma,EAAKlc,MACjBub,GAAwB,IAE1Bhf,UAAW,6EACT6G,EAAQ,aAAe,eACrBlC,IAAagb,EAAKlc,KAAO,mBAAqB,KAElDjF,SAAA,CAAAoC,MAAC,QAAKZ,UAAU,cAAexB,SAAAmhB,EAAKlc,OACpC3B,OAAC,QACC9B,UAAW,uBAAsB6G,EAAQ,OAAS,QACnDrI,SAAA,KACGmhB,EAAKzb,OAAO,SAbXyb,EAAKlc,sBA0B5B7C,MAAClE,EAAOkjB,IAAP,CACC5f,UAAW,iDACTue,EAAa,QAAU,YACrB1X,EAAQ,iBAAmB,mBAC/BlE,QAAS,CAAEJ,GAAG,IAAMK,QAAS,GAC7BC,QAAS,CAAEN,EAAG,EAAGK,QAAS,GAC1BG,WAAY,CAAEpG,SAAU,GAAKsG,KAAM,WAEnCzE,WAAAoC,IAAC,OAAIZ,UAAU,oBACbxB,SAAAoC,MAAC,OACCZ,UAAU,iGACVH,MAAO,CACLjE,WAAY,2BAA2BiC,EAAMrC,OAAOK,iBAAiBgC,EAAMrC,OAAOI,qBAClFsgB,eAAgB,cAGlB1d,SAAAsD,OAAC,OACC9B,UAAW,sCAAqC6G,EAAQ,mBAAqB,IAG7ErI,SAAA,CAAAsD,OAACpF,EAAO+F,IAAP,CACCzC,UAAW,4BAA2B6G,EAAQ,mBAAqB,IACnE3E,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KAEnB3D,SAAA,CAAAoC,MAAC,OACCZ,UAAU,uGACVH,MAAO,CAAEoC,gBAAiBpE,EAAMrC,OAAOC,SACxC+C,SAAA,MAGDoC,MAAC,QAAKZ,UAAU,oCAAoCxB,SAAA,cAMtDoC,MAAC,OACCZ,UAAW,sCAAqC6G,EAAQ,mBAAqB,IAE5ErI,SAAA4f,GAAiBzc,IAAI+W,GACpB9X,MAAClE,EAAOqd,EAAP,CAECsE,KAAM3F,EAAK2F,KACXre,UAAU,sEACVkC,WAAY,CAAEK,GAAG,GACjBH,SAAU,CAAEG,EAAG,GAEd/D,SAAAkH,EAAEgT,EAAKrD,QANHqD,EAAKrD,gBAYf,OAAIrV,UAAU,kBACbxB,SAAAoC,MAACyC,SAIHvB,OAAC,OACC9B,UAAW,4BAA2B6G,EAAQ,mBAAqB,IAGnErI,SAAA,CAAAoC,MAACsS,GAAA,IAGAsM,GACC1d,OAACpF,EAAOqF,OAAP,CACCC,QAAS,IAAM8c,GAAyB,GACxC9e,UAAU,wGACVkC,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,IACnB,aAAW,mBAEX3D,SAAA,GAAAoC,IAACO,EAAA,CAAQmB,KAAM,KACdwK,EAAOZ,OAAS,GACftL,MAAClE,EAAO0Y,KAAP,CACCpV,UAAW,6GACT6G,EAAQ,kBAAoB,mBAE9BlE,QAAS,CAAER,MAAO,GAClBU,QAAS,CAAEV,MAAO,GAClBY,WAAY,CACV5E,KAAM,SACN2f,UAAW,IACXD,QAAS,IAGVrf,SAAAsO,EAAOZ,YAOhBtL,MAAClE,EAAOqF,OAAP,CACCC,QAAS,IAAM4c,GAAiBD,GAChC3e,UAAU,+FACVkC,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,IACnB,aAAYuD,EAAE,cAEdlH,SAAAoC,MAACub,EAAA,CAAO7Z,KAAM,OAIf4P,EACCtR,MAAClE,EAAOqd,EAAP,CACCsE,KAAK,WACLre,UAAU,+FACVkC,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,IACnB,aAAYuD,EAAE,eAEdlH,SAAAoC,MAACif,EAAA,CAAKvd,KAAM,OAGd1B,MAAClE,EAAOqd,EAAP,CACCsE,KAAK,SACLre,UAAU,+FACVkC,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,IACnB,aAAYuD,EAAE,aAEdlH,SAAAoC,MAACif,EAAA,CAAKvd,KAAM,OAKhBR,OAACpF,EAAOqF,OAAP,CACC/B,UAAU,wGACVkC,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,IACnB,aAAYuD,EAAE,YAEdlH,SAAA,GAAAoC,IAACkf,EAAA,CAAYxd,KAAM,KAEjB1B,MAAClE,EAAO0Y,KAAP,CACCpV,UAAW,4GACT6G,EAAQ,kBAAoB,mBAE9BlE,QAAS,CAAER,MAAO,GAClBU,QAAS,CAAEV,MAAO,GAClBY,WAAY,CACV5E,KAAM,SACN2f,UAAW,IACXD,QAAS,IAGVrf,SAjRE,OAuRToC,MAAClE,EAAOqF,OAAP,CACCC,QAAS,IAAM0c,GAAqBD,GACpCze,UAAU,yGACVkC,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,IACnB,aAAW,OAEV3D,SAAAigB,QAAoBjC,EAAA,CAAEla,KAAM,OAAS1B,IAACmf,EAAA,CAAKzd,KAAM,qBAS9D1B,IAAC4B,GACEhE,SAAAmgB,GACC/d,MAAClE,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBE,KAAM,CAAEF,QAAS,GACjB5C,UAAU,6FACVgC,QAAS,IAAM4c,GAAgB,GAE/BpgB,SAAAoC,MAAClE,EAAO+F,IAAP,CACCE,QAAS,CAAEJ,GAAG,GAAKK,QAAS,GAC5BC,QAAS,CAAEN,EAAG,EAAGK,QAAS,GAC1BE,KAAM,CAAEP,GAAG,GAAKK,QAAS,GACzB5C,UAAU,wBACVgC,QAASuT,GAAKA,EAAEC,kBAEhBhX,WAAAoC,IAAC,OAAIZ,UAAU,oEACbxB,SAAAoC,MAACia,GAAA,CACCE,YAAarV,EACX,qBACA,6CAEFoV,eAAgBb,IAEd2E,GAAgB,IAElB5D,aAAa,cASzBpa,IAAC4B,GACEhE,SAAAigB,GACC7d,MAAClE,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,GAAG,IAC1BM,QAAS,CAAED,QAAS,EAAGL,EAAG,GAC1BO,KAAM,CAAEF,QAAS,EAAGL,GAAG,IACvBvC,UAAW,gCAA+B6G,EAAQ,iBAAmB,kBAErErI,SAAAsD,OAAC,OACC9B,UAAU,6EACVH,MAAO,CACLjE,WAAY,2BAA2BiC,EAAMrC,OAAOK,iBAAiBgC,EAAMrC,OAAOI,qBAClFsgB,eAAgB,cAIlB1d,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,OACbxB,eAAC6E,GAAA,CAAwBrD,UAAU,2BAIpC,OAAIA,UAAU,YACZxB,SAAA4f,GAAiBzc,IAAI+W,GACpB9X,MAAClE,EAAOqd,EAAP,CAECsE,KAAM3F,EAAK2F,KACXre,UAAW,uHACT6G,EAAQ,aAAe,aAEzB3E,WAAY,CAAEoB,EAAGuD,KAAa,GAC9B7E,QAAS,IAAM0c,GAAoB,GAElClgB,SAAAkH,EAAEgT,EAAKrD,QARHqD,EAAKrD,UAchBzU,MAAC,OAAIZ,UAAU,mCACZxB,SAAA0T,EACCtR,MAAClE,EAAOqd,EAAP,CACCsE,KAAK,WACLre,UAAW,uHACT6G,EAAQ,aAAe,aAEzB3E,WAAY,CAAEoB,EAAGuD,KAAa,GAC9B7E,QAAS,IAAM0c,GAAoB,GAEnClgB,SAAAsD,OAAC,OAAI9B,UAAU,0BACbxB,SAAA,GAAAoC,IAACif,EAAA,CAAKvd,KAAM,KACXoD,EAAE,oBAIP9E,MAAClE,EAAOqd,EAAP,CACCsE,KAAK,SACLre,UAAW,uHACT6G,EAAQ,aAAe,aAEzB3E,WAAY,CAAEoB,EAAGuD,KAAa,GAC9B7E,QAAS,IAAM0c,GAAoB,GAEnClgB,SAAAsD,OAAC,OAAI9B,UAAU,0BACbxB,SAAA,GAAAoC,IAACif,EAAA,CAAKvd,KAAM,KACXoD,EAAE,2BAWlB8Z,GACC5e,MAACuc,GAAA,CACChK,OAAQ0L,EACRzB,QAAS,IAAM0B,GAAyB,OAKlD,CClfA,MAAMkB,GAAc,CAElBC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MAGJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MAGJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MAGJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MAGJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OAMAC,GAAY,CAEhB5M,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cACJC,GAAI,cAGJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SAGJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WAGJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eACJC,GAAI,eAGJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,UAMOE,GAAa,CAExB,CAAErpB,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,aAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,QAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,iBAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,gBAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,gBAGlC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,eACpC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,cACpC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,gBACpC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,iBACpC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,kBACpC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,cACpC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,kBAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,gBAGlC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,mBACnC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,gBAClC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,kBACnC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,kBAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,gBAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,kBAGlC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,eACpC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,mBACnC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,iBACnC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,gBACnC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,gBACnC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,gBACnC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,oBACnC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,gBACpC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,iBAGlC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,oBAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,gBAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,aAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,mBAClC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,qBACnC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,qBACnC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,oBACnC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,mBAClC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,oBACpC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,iBACpC,CAAEmI,KAAM,MAAOS,OAAQ,KAAM5I,KAAM,qBACnC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,sBAGpC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,sBAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,kBAClC,CAAEmI,KAAM,MAAOS,OAAQ,IAAK5I,KAAM,kBAClC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,mBACpC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,mBACpC,CAAEmI,KAAM,MAAOS,OAAQ,MAAO5I,KAAM,mBACpCwe,KAAK,CAACC,EAAGC,IAAMD,EAAEze,KAAKyxB,cAAc/S,EAAE1e,OAG3B0xB,GAAU,CACrB,SACA,SACA,WACA,eACA,SACA,eAGIC,GAAkB3uB,kBAEX4uB,GAAc,KACzB,MAAMnsB,EAAUC,aAAWisB,IAC3B,IAAKlsB,EACH,MAAM,IAAIE,MAAM,sDAElB,OAAOF,GAGIosB,GAAmB,EAAG3uB,eACjC,MAAOM,EAAUsuB,GAAevgB,WAAS,CACvCwgB,QAAS,QACTzoB,OAAQ,eACRD,SAAU,MACVoE,SAAS,EACThL,MAAO,QAGFuvB,EAAgBC,GAAqB1gB,WAAS,CACnDlI,SAAU,KACVC,OAAQ,OAGJ4oB,EAAa7e,cAAY/E,UAC7B,IACE,MAAM6jB,QAAiBC,MAAM,0BACvBvjB,QAAasjB,EAASE,OACtBC,EAAczjB,EAAK0jB,aACnBC,EAAiBjB,GAAUe,IAAgB,SAC3CG,EAAmB/N,GAAY4N,IAAgB,MAErDR,EAAY,CACVC,QAASljB,EAAK6jB,aACdppB,OAAQkpB,EACRnpB,SAAUopB,EACVhlB,SAAS,EACThL,MAAO,MAEX,OAASA,GAEPqvB,EAAY5d,IAAA,IACPA,EACHzG,SAAS,EACThL,MAAO,8BAEX,GACC,IAEGkwB,EAAiBtf,cAAY/E,UACjC,IAEMskB,UAAUC,YACZD,UAAUC,YAAYC,mBACpBxkB,MAAMxF,IACJ,MAAMiqB,SAAEA,EAAAC,UAAUA,GAAclqB,EAASmqB,OAEnCd,QAAiBC,MACrB,qEAAqEW,eAAsBC,yBAEvFnkB,QAAasjB,EAASE,OACtBC,EAAczjB,EAAKyjB,YACnBE,EAAiBjB,GAAUe,IAAgB,SAC3CG,EAAmB/N,GAAY4N,IAAgB,MAErDR,EAAY,CACVC,QAASljB,EAAKqkB,YACd5pB,OAAQkpB,EACRnpB,SAAUopB,EACVhlB,SAAS,EACThL,MAAO,QAGX6L,MAAM7L,UAKEyvB,YAIJA,GAEV,OAASzvB,GAEPqvB,EAAY5d,IAAA,IACPA,EACHzG,SAAS,EACThL,MAAO,8BAEX,GACC,CAACyvB,IAWEiB,EAAoBnB,EAAe3oB,UAAY7F,EAAS6F,SACxD+pB,EAAkBpB,EAAe1oB,QAAU9F,EAAS8F,OAE1DjG,YAAU,KACRsvB,KACC,CAACA,IAEJ,MAAMruB,EAAQ,CACZd,WACAwuB,iBACAmB,oBACAC,kBACAC,kBArBwBhqB,IACxB4oB,EAAkB/d,IAAA,IAAcA,EAAM7K,eAqBtCiqB,gBAlBsBhqB,IACtB2oB,EAAkB/d,IAAA,IAAcA,EAAM5K,aAkBtCqpB,kBAGF,SACErtB,IAACqsB,GAAgBpsB,SAAhB,CAAyBjB,QACvBpB,cCxnBP,SAAwBqwB,IAAiBrtB,QACvCA,EAAU,UAAAstB,WACVA,GAAa,EAAA9uB,UACbA,EAAY,KAEZ,MAAMyuB,kBACJA,EAAAC,gBACAA,EAAAC,kBACAA,EAAAC,gBACAA,GACE1B,MAEG6B,EAAgBC,GAAqBniB,YAAS,IAC9CoiB,EAAcC,GAAmBriB,YAAS,GAE3CsiB,EAAc5b,SAAO,MACrB6b,EAAY7b,SAAO,MAGzB5U,YAAU,KACR,MAAM8U,EAAqBC,IACrByb,EAAYxb,UAAYwb,EAAYxb,QAAQC,SAASF,EAAMG,SAC7Dmb,GAAkB,GAEhBI,EAAUzb,UAAYyb,EAAUzb,QAAQC,SAASF,EAAMG,SACzDqb,GAAgB,IAKpB,OADA5vB,SAASwU,iBAAiB,YAAaL,GAChC,IAAMnU,SAASyU,oBAAoB,YAAaN,IACtD,IAGH,MAAM4b,EACJvC,GAAW3pB,KAAKmsB,GAAKA,EAAE7rB,OAASgrB,IAAsB3B,GAAW,GAG7DyC,EAAmB,KACvB,MAAMC,EACJ,iGAEF,OAAQhuB,GACN,IAAK,SACH,MAAO,GAAGguB,gHACZ,IAAK,UACH,MAAO,GAAGA,0DACZ,QACE,MAAO,GAAGA,8DAIVC,EAAqB,KACzB,MAAMD,EACJ,0DAEF,OAAQhuB,GACN,IAAK,SACH,MAAO,GAAGguB,wFACZ,IAAK,UACH,MAAO,GAAGA,2CACZ,QACE,MAAO,GAAGA,6CAIVE,EAAiB,KACrB,MAAMF,EAAc,uDAEpB,MAAmB,WAAZhuB,EACH,GAAGguB,sCACH,GAAGA,uBAGT,OACE1tB,OAAC,OAAI9B,UAAW,aAAaA,IAE1BxB,SAAA,CAAAswB,KACChtB,KAAC,OAAI9B,UAAU,WAAWyU,IAAK2a,EAC7B5wB,SAAA,CAAAoC,MAAC,SACCZ,UAAW,mCACG,WAAZwB,EAAuB,iBAAmB,kBAE7ChD,SAAA,YAGDsD,OAAC,UACCE,QAAS,IAAMktB,GAAiBD,GAChCjvB,UAAWuvB,IAEX/wB,SAAA,GAAAoC,IAAC6e,EAAA,CAAMnd,KAAM,KACb1B,MAAC,QAAKZ,UAAU,mBACbxB,YAAmB,WAEtBoC,MAAC8e,EAAA,CACCpd,KAAM,GACNtC,UAAW,yBACTivB,EAAe,aAAe,SAKnCA,KACCruB,IAAC,OAAIZ,UAAWyvB,IACdjxB,SAAAoC,MAAC,OAAIZ,UAAU,yCACZxB,SAAAwuB,GAAQrrB,IAAIiD,GACXhE,MAAC,UAECoB,QAAS,KACP4sB,EAA2B,WAAXhqB,EAAsB,KAAOA,GAC7CsqB,GAAgB,IAElBlvB,UAAW,GAAG0vB,QACXhB,GAAmB,YAAc9pB,EAClB,WAAZpD,EACE,0BACA,6BACF,KAGLhD,SAAAoG,GAbIA,WAuBnB9C,OAAC,OAAI9B,UAAU,WAAWyU,IAAK0a,EAC7B3wB,SAAA,CAAAoC,MAAC,SACCZ,UAAW,mCACG,WAAZwB,EAAuB,iBAAmB,kBAE7ChD,SAAA,cAGDsD,OAAC,UACCE,QAAS,IAAMgtB,GAAmBD,GAClC/uB,UAAWuvB,IAEX/wB,SAAA,CAAAoC,MAAC,QAAKZ,UAAU,UAAWxB,SAAA6wB,EAAgBnrB,WAC3CpC,KAAC,QAAK9B,UAAU,mBACbxB,SAAA,CAAA6wB,EAAgB5rB,KAAK,MAAI4rB,EAAgB/zB,QAE5CsF,MAAC8e,EAAA,CACCpd,KAAM,GACNtC,UAAW,yBACT+uB,EAAiB,aAAe,SAKrCA,KACCnuB,IAAC,OAAIZ,UAAWyvB,IACdjxB,SAAAoC,MAAC,OAAIZ,UAAU,yCACZxB,SAAAsuB,GAAWnrB,IAAIgD,GACd7C,OAAC,UAECE,QAAS,KACP2sB,EAAkBhqB,EAASlB,MAC3BurB,GAAkB,IAEpBhvB,UAAW,GAAG0vB,+BACZjB,IAAsB9pB,EAASlB,KACf,WAAZjC,EACE,0BACA,6BACF,KAGNhD,SAAA,CAAAoC,MAAC,QAAKZ,UAAU,oCACbxB,SAAAmG,EAAST,WAEZpC,KAAC,OAAI9B,UAAU,mBACbxB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,cAAexB,SAAAmG,EAASlB,OACvC7C,MAAC,OACCZ,UAAW,YACG,WAAZwB,EACI,iBACA,kBAGLhD,SAAAmG,EAASrJ,YAzBTqJ,EAASlB,gBAoChC,CC7LA,SAAwBksB,KACtB,MAAMzd,gBAAEA,GAAoBP,KAEtBie,EAAc,CAClB,CAAEjlB,KAAMklB,EAAUxR,KAAM,IAAKhJ,MAAO,YACpC,CAAE1K,KAAMmlB,EAAWzR,KAAM,IAAKhJ,MAAO,aACrC,CAAE1K,KAAMolB,EAAS1R,KAAM,IAAKhJ,MAAO,WACnC,CAAE1K,KAAMqlB,EAAS3R,KAAM,IAAKhJ,MAAO,YAG/B4a,EAAc,CAClBC,KAAM,CACJ,CAAE50B,KAAM,UAAW+iB,KAAM,KACzB,CAAE/iB,KAAM,OAAQ+iB,KAAM,KACtB,CAAE/iB,KAAM,QAAS+iB,KAAM,KACvB,CAAE/iB,KAAM,WAAY+iB,KAAM,KAC1B,CAAE/iB,KAAM,cAAe+iB,KAAM,MAE/B8R,QAAS,CACP,CAAE70B,KAAM,WAAY+iB,KAAM,UAC1B,CAAE/iB,KAAM,gBAAiB+iB,KAAM,cAC/B,CAAE/iB,KAAM,iBAAkB+iB,KAAM,KAChC,CAAE/iB,KAAM,UAAW+iB,KAAM,MAE3B+R,QAAS,CACP,CAAE90B,KAAM,OAAQ+iB,KAAM,KACtB,CAAE/iB,KAAM,qBAAsB+iB,KAAM,KACpC,CAAE/iB,KAAM,aAAc+iB,KAAM,KAC5B,CAAE/iB,KAAM,iBAAkB+iB,KAAM,KAChC,CAAE/iB,KAAM,qBAAsB+iB,KAAM,OAIxC,OACEzd,MAAC,UAAOvF,GAAG,QAAQ2E,UAAU,8BAC3BxB,WAAAsD,KAAC,OAAI9B,UAAU,eAEbxB,SAAA,CAAAsD,OAAC,OACC9B,UAAW,qBACTkS,EAAkB,iBAAmB,kBAIvC1T,SAAA,CAAAsD,OAACpF,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,EAAG,IAC1B8tB,YAAa,CAAEztB,QAAS,EAAGL,EAAG,GAC9BQ,WAAY,CAAEpG,SAAU,IACxB2zB,SAAU,CAAEC,MAAM,GAElB/xB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,oCAAoCxB,SAAA,WACnDoC,MAAC,KAAEZ,UAAU,8CAA8CxB,SAAA,oIAM3DsD,KAAC,OAAI9B,UAAU,iBACbxB,SAAA,GAAAsD,KAAC,OAAI9B,UAAU,iDACbxB,SAAA,GAAAoC,IAAC4vB,EAAA,CAAOluB,KAAM,OACd1B,IAAC,QAAKpC,SAAA,8BAERsD,KAAC,OAAI9B,UAAU,iDACbxB,SAAA,GAAAoC,IAAC6vB,EAAA,CAAMnuB,KAAM,OACb1B,IAAC,QAAKpC,SAAA,0BAERsD,KAAC,OAAI9B,UAAU,iDACbxB,SAAA,GAAAoC,IAAC8vB,EAAA,CAAKpuB,KAAM,OACZ1B,IAAC,QAAKpC,SAAA,2BAKVoC,MAAC,OAAIZ,UAAU,aACZxB,WAAYmD,IAAI,CAACgvB,EAAQpW,KACxB,MAAMqW,EAAgBD,EAAOhmB,KAC7B,OACE/J,MAAClE,EAAOqd,EAAP,CAECsE,KAAMsS,EAAOtS,KACb,aAAYsS,EAAOtb,MACnBrV,UAAU,yHACVkC,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,KACnBQ,QAAS,CAAEC,QAAS,EAAGT,MAAO,GAC9BkuB,YAAa,CAAEztB,QAAS,EAAGT,MAAO,GAClCY,WAAY,CAAEpG,SAAU,GAAKkgB,MAAe,GAARtC,GACpC+V,SAAU,CAAEC,MAAM,GAElB/xB,SAAAoC,MAACgwB,EAAA,CAActuB,KAAM,MAXhBquB,EAAOtb,cAmBtBvT,OAACpF,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,EAAG,IAC1B8tB,YAAa,CAAEztB,QAAS,EAAGL,EAAG,GAC9BQ,WAAY,CAAEpG,SAAU,GAAKkgB,MAAO,IACpCyT,SAAU,CAAEC,MAAM,GAElB/xB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,gCAAgCxB,SAAA,SAC/CoC,MAAC,MAAGZ,UAAU,mCACXxB,WAAY0xB,KAAKvuB,IAAI,CAACkvB,EAAMtW,IAC3B3Z,MAAClE,EAAOo0B,GAAP,CAECnuB,QAAS,CAAEC,QAAS,EAAGU,GAAG,IAC1B+sB,YAAa,CAAEztB,QAAS,EAAGU,EAAG,GAC9BP,WAAY,CAAEpG,SAAU,GAAKkgB,MAAe,IAARtC,GACpC+V,SAAU,CAAEC,MAAM,GAElB/xB,SAAAoC,MAAC,KACCyd,KAAMwS,EAAKxS,KACXre,UAAU,kDAETxB,SAAAqyB,EAAKv1B,QAVHu1B,EAAKv1B,YAkBlBwG,OAACpF,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,EAAG,IAC1B8tB,YAAa,CAAEztB,QAAS,EAAGL,EAAG,GAC9BQ,WAAY,CAAEpG,SAAU,GAAKkgB,MAAO,IACpCyT,SAAU,CAAEC,MAAM,GAElB/xB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,gCAAgCxB,SAAA,YAC/CoC,MAAC,MAAGZ,UAAU,mCACXxB,WAAY2xB,QAAQxuB,IAAI,CAACkvB,EAAMtW,IAC9B3Z,MAAClE,EAAOo0B,GAAP,CAECnuB,QAAS,CAAEC,QAAS,EAAGU,GAAG,IAC1B+sB,YAAa,CAAEztB,QAAS,EAAGU,EAAG,GAC9BP,WAAY,CAAEpG,SAAU,GAAKkgB,MAAe,IAARtC,GACpC+V,SAAU,CAAEC,MAAM,GAElB/xB,SAAAoC,MAAC,KACCyd,KAAMwS,EAAKxS,KACXre,UAAU,kDAETxB,SAAAqyB,EAAKv1B,QAVHu1B,EAAKv1B,YAkBlBwG,OAACpF,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,EAAG,IAC1B8tB,YAAa,CAAEztB,QAAS,EAAGL,EAAG,GAC9BQ,WAAY,CAAEpG,SAAU,GAAKkgB,MAAO,IACpCyT,SAAU,CAAEC,MAAM,GAElB/xB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,gCAAgCxB,SAAA,YAC/CoC,MAAC,MAAGZ,UAAU,mCACXxB,WAAY4xB,QAAQzuB,IAAI,CAACkvB,EAAMtW,IAC9B3Z,MAAClE,EAAOo0B,GAAP,CAECnuB,QAAS,CAAEC,QAAS,EAAGU,GAAG,IAC1B+sB,YAAa,CAAEztB,QAAS,EAAGU,EAAG,GAC9BP,WAAY,CAAEpG,SAAU,GAAKkgB,MAAe,IAARtC,GACpC+V,SAAU,CAAEC,MAAM,GAElB/xB,SAAAoC,MAAC,KACCyd,KAAMwS,EAAKxS,KACXre,UAAU,kDAETxB,SAAAqyB,EAAKv1B,QAVHu1B,EAAKv1B,aAkBhB4W,GACApQ,OAACpF,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,EAAG,IAC1B8tB,YAAa,CAAEztB,QAAS,EAAGL,EAAG,GAC9BQ,WAAY,CAAEpG,SAAU,GAAKkgB,MAAO,IACpCyT,SAAU,CAAEC,MAAM,GAElB/xB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,gCAAgCxB,SAAA,gBAC/CoC,MAAC,KAAEZ,UAAU,8BAA8BxB,SAAA,qEAG3CoC,MAACiuB,GAAA,CAAiBrtB,QAAQ,SAASstB,YAAY,UAMrDluB,MAAClE,EAAO+F,IAAP,CACCzC,UAAU,iCACV2C,QAAS,CAAEC,QAAS,GACpBytB,YAAa,CAAEztB,QAAS,GACxBG,WAAY,CAAEpG,SAAU,GAAKkgB,MAAO,IACpCyT,SAAU,CAAEC,MAAM,GAElB/xB,SAAAsD,OAAC,OAAI9B,UAAU,+DACbxB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,yBAAyBxB,SAAA,0CAKxCsD,KAAC,OAAI9B,UAAU,0BACbxB,SAAA,CAAAoC,MAAC,OAAIZ,UAAU,8BAA8BxB,SAAA,iBAC7CoC,IAAC,OAAIZ,UAAU,0BACZxB,SAAA,CAAC,OAAQ,aAAc,OAAQ,UAAUmD,IAAIovB,GAC5CnwB,MAAC,OAECZ,UAAU,4HAETxB,SAAAuyB,EAAOvc,MAAM,EAAG,GAAGwc,eAHfD,kBAazB,CC/OA,MAAME,GAAc3yB,gBAAc,MAElC,SAAS4yB,GAAYjzB,EAAOC,GAC1B,OAAQA,EAAOC,MACb,IAAK,MAAO,CACV,MAAM9C,GAAEA,EAAA81B,IAAIA,EAAM,EAAAzY,KAAGA,GAASxa,EACxBkzB,EAASnzB,EAAMozB,MAAMh2B,GACrBi2B,IAAW,MAAAF,OAAA,EAAAA,EAAQD,MAAO,GAAKA,EACrC,MAAO,IACFlzB,EACHozB,MAAO,IACFpzB,EAAMozB,MACTh2B,CAACA,GAAK,CAAEqd,OAAMyY,IAAKG,IAGzB,CACA,IAAK,SAAU,CACb,MAAMC,EAAI,IAAKtzB,EAAMozB,OAErB,cADOE,EAAErzB,EAAO7C,IACT,IAAK4C,EAAOozB,MAAOE,EAC5B,CACA,IAAK,SAAU,CACb,MAAMl2B,GAAEA,EAAA81B,IAAIA,GAAQjzB,EACpB,GAAIizB,GAAO,EAAG,CACZ,MAAMI,EAAI,IAAKtzB,EAAMozB,OAErB,cADOE,EAAEl2B,GACF,IAAK4C,EAAOozB,MAAOE,EAC5B,CACA,MAAO,IACFtzB,EACHozB,MAAO,IAAKpzB,EAAMozB,MAAOh2B,CAACA,GAAK,IAAK4C,EAAMozB,MAAMh2B,GAAK81B,QAEzD,CACA,IAAK,QACH,MAAO,CAAEE,MAAO,IAClB,QACE,OAAOpzB,EAEb,CAEO,SAASuzB,IAAahzB,SAAEA,IAC7B,MAAOP,EAAOQ,GAAYC,aAAWwyB,GAAa,CAAEG,MAAO,MACpDI,EAAeC,GAAoB7kB,WAAS,IAAI8kB,KAEjDC,EAAMhkB,UAAQ,KAClB,MAAMikB,EAAWryB,OAAOC,QAAQxB,EAAMozB,OAAO1vB,IAAI,EAAEtG,EAAIy2B,MAAC,CACtDz2B,QACGy2B,KAECC,EAAQF,EAASG,OAAO,CAACjY,EAAGuV,IAAMvV,EAAIuV,EAAE6B,IAAK,GAC7CzmB,EAAQmnB,EAASG,OAAO,CAACjY,EAAGuV,WAAM,OAAAvV,IAAK,OAAA7W,EAAAosB,EAAE5W,aAAFxV,EAAQkU,QAAS,GAAKkY,EAAE6B,KAAK,GAC1E,MAAO,CACLlzB,QACAozB,MAAOQ,EACPE,QACArnB,QACAvK,IAAK,CAACuY,EAAMyY,EAAM,IAAM1yB,EAAS,CAAEN,KAAM,MAAO9C,GAAIqd,EAAKrd,GAAI81B,MAAKzY,SAClEuZ,OAAQ52B,GAAMoD,EAAS,CAAEN,KAAM,SAAU9C,OACzC62B,OAAQtoB,MAAOvO,EAAI81B,KACjBO,KAAyB,IAAIC,IAAIniB,GAAMrP,IAAI9E,UAErC,IAAIwO,QAAQC,GAAWC,WAAWD,EAAS,MACjDrL,EAAS,CAAEN,KAAM,SAAU9C,KAAI81B,QAC/BO,EAAiBliB,IACf,MAAM2iB,EAAS,IAAIR,IAAIniB,GAEvB,OADA2iB,EAAOC,OAAO/2B,GACP82B,KAGXE,MAAO,IAAM5zB,EAAS,CAAEN,KAAM,UAC9Bm0B,WAAYj3B,GAAMo2B,EAAcc,IAAIl3B,KAErC,CAAC4C,EAAOwzB,IACX,aAAQR,GAAYpwB,SAAZ,CAAqBjB,MAAOgyB,EAAMpzB,YAC5C,CAEO,SAASg0B,KACd,MAAMC,EAAMzxB,aAAWiwB,IACvB,IAAKwB,EAAK,MAAM,IAAIxxB,MAAM,4CAC1B,OAAOwxB,CACT,CC1EO,MAAMC,GAAiB,CAC5BC,QAAS,UACTC,UAAW,YACXC,WAAY,aACZC,QAAS,UACTC,UAAW,YACXC,UAAW,YACXC,SAAU,YAINC,GAAgB,CACpB,CAACR,GAAeC,SAAU,CACxBtd,MAAO,kBACP8d,QAAS,kBACTC,MAAO,gCACPC,KAAM,GAER,CAACX,GAAeE,WAAY,CAC1Bvd,MAAO,oBACP8d,QAAS,iBACTC,MAAO,4BACPC,KAAM,GAER,CAACX,GAAeG,YAAa,CAC3Bxd,MAAO,aACP8d,QAAS,cACTC,MAAO,gCACPC,KAAM,GAER,CAACX,GAAeI,SAAU,CACxBzd,MAAO,UACP8d,QAAS,WACTC,MAAO,gCACPC,KAAM,GAER,CAACX,GAAeK,WAAY,CAC1B1d,MAAO,YACP8d,QAAS,aACTC,MAAO,8BACPC,KAAM,GAER,CAACX,GAAeM,WAAY,CAC1B3d,MAAO,YACP8d,QAAS,OACTC,MAAO,0BACPC,KAAM,GAER,CAACX,GAAeO,UAAW,CACzB5d,MAAO,WACP8d,QAAS,QACTC,MAAO,4BACPC,KAAM,IAKJC,GACU,eADVA,GAEiB,sBAFjBA,GAGiB,sBAHjBA,GAIS,cAJTA,GAKS,cAIT31B,GAAe,CACnB41B,OAAQ,GACRxqB,SAAS,EACThL,MAAO,MAIT,SAASy1B,GAAav1B,EAAOC,GAC3B,OAAQA,EAAOC,MACb,KAAKm1B,GACH,MAAO,IACFr1B,EACH8K,QAAS7K,EAAOE,SAGpB,KAAKk1B,GACH,MAAO,IACFr1B,EACHs1B,OAAQr1B,EAAOE,QACf2K,SAAS,GAGb,KAAKuqB,GAA4B,CAC/B,MAAMG,EAAW,CACfp4B,GAAI6C,EAAOE,QAAQ/C,IAAM,OAAOuL,KAAKsE,QACrCT,YAAavM,EAAOE,QAAQqM,aAAe,IAAI7D,KAAKsE,QACpDJ,OAAQ4nB,GAAeC,QACvBtB,MAAOnzB,EAAOE,QAAQizB,OAAS,GAC/BqC,SAAUx1B,EAAOE,QAAQs1B,UAAY,GACrCC,SAAUz1B,EAAOE,QAAQu1B,UAAY,GACrCC,QAAS11B,EAAOE,QAAQw1B,SAAW,GACnCC,OAAQ31B,EAAOE,QAAQy1B,QAAU,GACjCtoB,WAAA,IAAe3E,MAAOwC,cACtB0qB,WAAA,IAAeltB,MAAOwC,cACtB2qB,SAAU,CACR,CACEjpB,OAAQ4nB,GAAeC,QACvBnoB,QAAS,6BACTwpB,UAAW,uBACX1kB,WAAA,IAAe1I,MAAOwC,cACtB6qB,WAAW,IAGfC,kBAAmB,KACnBC,gBAAiB,KACjBppB,eAAgB,MAGlB,MAAO,IACF9M,EACHs1B,OAAQ,CAACE,KAAax1B,EAAMs1B,QAC5BxqB,SAAS,EAEb,CAEA,KAAKuqB,GACH,MAAO,IACFr1B,EACHs1B,OAAQt1B,EAAMs1B,OAAO5xB,IAAIyyB,GACvBA,EAAM/4B,KAAO6C,EAAOE,QAAQi2B,QACxB,IACKD,EACHtpB,OAAQ5M,EAAOE,QAAQ0M,OACvBgpB,WAAA,IAAeltB,MAAOwC,iBAClBlL,EAAOE,QAAQ2M,gBAAkB,CACnCA,eAAgB7M,EAAOE,QAAQ2M,mBAE7B7M,EAAOE,QAAQ+1B,iBAAmB,CACpCA,gBAAiBj2B,EAAOE,QAAQ+1B,oBAE9Bj2B,EAAOE,QAAQ81B,mBAAqB,CACtCA,kBAAmBh2B,EAAOE,QAAQ81B,oBAGtCE,IAIV,KAAKd,GACH,MAAO,IACFr1B,EACHs1B,OAAQt1B,EAAMs1B,OAAO5xB,IAAIyyB,GACvBA,EAAM/4B,KAAO6C,EAAOE,QAAQi2B,QACxB,IACKD,EACHL,SAAU,IACLK,EAAML,SACT,CACEjpB,OAAQ5M,EAAOE,QAAQ0M,OACvBN,QAAStM,EAAOE,QAAQoM,QACxBwpB,UAAW91B,EAAOE,QAAQ41B,UAC1B1kB,WAAA,IAAe1I,MAAOwC,cACtB6qB,UAAW/1B,EAAOE,QAAQ61B,YAAa,EACvCn1B,SAAUZ,EAAOE,QAAQU,WAG7Bg1B,WAAA,IAAeltB,MAAOwC,eAExBgrB,IAIV,QACE,OAAOn2B,EAEb,CAGA,MAAMq2B,GAAeh2B,kBAGd,SAASi2B,IAAc/1B,SAAEA,IAC9B,MAAOP,EAAOQ,GAAYC,aAAW80B,GAAc71B,KAC7CuM,iBAAEA,GAAqBqC,KAG7B5N,YAAU,KACR,MAAM61B,EAAcv1B,aAAaG,QAAQ,iBACzC,GAAIo1B,EACF,IACE,MAAMjB,EAAS/pB,KAAKC,MAAM+qB,GAC1B/1B,EAAS,CAAEN,KAAMm1B,GAA2Bl1B,QAASm1B,GACvD,OAASx1B,GAET,GAED,IAGHY,YAAU,KACJV,EAAMs1B,OAAOrnB,OAAS,GACxBjN,aAAaC,QAAQ,gBAAiBsK,KAAKE,UAAUzL,EAAMs1B,UAE5D,CAACt1B,EAAMs1B,SAEV,MAyCMkB,EAAoB,CAACJ,EAASvpB,EAAQ4pB,EAAU,kBACpD,MAAMN,EAAQO,EAAaN,GAC3B,IAAKD,EAAO,OAEZ31B,EAAS,CACPN,KAAMm1B,GACNl1B,QAAS,CACPi2B,UACAvpB,YACG4pB,KAKP,MAAME,EAAe1B,GAAcpoB,GACnC+pB,EAAkBR,EAAS,CACzBvpB,SACAN,QAASkqB,EAAQlqB,SAAWoqB,EAAavf,MACzC2e,UAAWU,EAAQV,WAAaY,EAAazB,QAC7Cc,WAAiC,IAAtBS,EAAQT,UACnBn1B,SAAU41B,EAAQ51B,WAIpB,MAAMg2B,EAAmB,CACvBT,UACA5pB,YAAa2pB,EAAM3pB,YACnBK,SACAD,SAAU+pB,EAAazB,QACvB7qB,MAAO,OAAApF,EAAAkxB,EAAMV,iBAANxwB,EAAgBoF,MACvBysB,MAAO,OAAAC,EAAAZ,EAAMV,iBAANsB,EAAgBD,MACvBvpB,OAAQ,OAAAypB,EAAAb,EAAMV,eAAN,EAAAuB,EAAgB55B,GACxB0P,eAAgB2pB,EAAQ3pB,gBAI1B,IAAImqB,EAAmBluB,GAAmBE,oBACtCkD,EAAW,CAAC5C,GAAsBI,QAElCkD,IAAW4nB,GAAeE,WAC5BsC,EAAmBluB,GAAmBG,qBACtC2tB,EAAiBjvB,QAAS,OAAAsvB,EAAAf,EAAMP,aAAN,EAAAsB,EAAczqB,QAAS,IACjDN,EAAW,CAAC5C,GAAsBI,OAAQJ,GAAsBC,QACvDqD,IAAW4nB,GAAeI,SACnCoC,EAAmBluB,GAAmBI,gBACtCgD,EAAW,CACT5C,GAAsBI,OACtBJ,GAAsBE,IACtBF,GAAsBC,QAEfqD,IAAW4nB,GAAeK,YACnC3oB,EAAW,CAAC5C,GAAsBI,OAAQJ,GAAsBC,QAIlEyC,EAAiBgrB,EAAkBJ,EAAkB1qB,IAGjDyqB,EAAoB,CAACR,EAASe,KAClC32B,EAAS,CACPN,KAAMm1B,GACNl1B,QAAS,CACPi2B,aACGe,MAKHT,EAAeN,GACZp2B,EAAMs1B,OAAOpwB,KAAKixB,GAASA,EAAM/4B,KAAOg5B,GAwD3Cz0B,EAAQ,CACZ2zB,OAAQt1B,EAAMs1B,OACdxqB,QAAS9K,EAAM8K,QACfhL,MAAOE,EAAMF,MACbs3B,YA1KkBC,IAClB72B,EAAS,CAAEN,KAAMm1B,GAA2Bl1B,SAAS,IAGrD2L,WAAW,iBACT,MAAMsqB,EAAUiB,EAAUj6B,IAAM,OAAOuL,KAAKsE,QACtCT,EAAc6qB,EAAU7qB,aAAe,IAAI7D,KAAKsE,QAEtDzM,EAAS,CACPN,KAAMm1B,GACNl1B,QAAS,IAAKk3B,EAAWj6B,GAAIg5B,EAAS5pB,iBAIxCP,EACElD,GAAmBC,mBACnB,CACEotB,UACA5pB,cACAC,OAAO,OAAAxH,EAAAoyB,EAAUzB,aAAV,EAAA3wB,EAAkBwH,QAAS,IAClCpC,MAAO,OAAA0sB,EAAAM,EAAU5B,iBAAVsB,EAAoB1sB,MAC3BysB,MAAO,OAAAE,EAAAK,EAAU5B,eAAV,EAAAuB,EAAoBF,MAC3BvpB,OAAQ,OAAA2pB,EAAAG,EAAU5B,eAAV,EAAAyB,EAAoB95B,IAE9B,CACEmM,GAAsBI,OACtBJ,GAAsBC,MACtBD,GAAsBE,MAK1BqC,WAAW,KACT0qB,EAAkBJ,EAAS3B,GAAeE,UAAW,CACnDpoB,QAAS,iCACTwpB,UAAW,0BAEZ,MACF,MAqIHS,oBACAI,oBACAF,eACAY,iBA7DuB9qB,GAChBxM,EAAMs1B,OAAOpwB,KAAKixB,GAASA,EAAM3pB,cAAgBA,GA6DxD+qB,gBA1DsB1qB,GACfooB,GAAcpoB,IAAWooB,GAAcR,GAAeC,SA0D7D8C,sBAvD4BpB,IAE5B,IADcM,EAAaN,GACf,OAEU,CACpB,CACEvpB,OAAQ4nB,GAAeG,WACvBhW,MAAO,IACPrS,QAAS,0BACTwpB,UAAW,oBAEb,CACElpB,OAAQ4nB,GAAeI,QACvBjW,MAAO,IACPrS,QAAS,yBACTwpB,UAAW,eACXjpB,eACE,KAAOI,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAAG0lB,cACjDmD,gBAAiB,SACjBD,kBAAmB,IAAIttB,KACrBA,KAAKsE,MAAQ,QACb9B,eAEJ,CACE0B,OAAQ4nB,GAAeK,UACvBlW,MAAO,KACPrS,QAAS,+BACTwpB,UAAW,yBAIDt0B,QAAQ2zB,IACpBtpB,WAAW,KACT0qB,EAAkBJ,EAAShB,EAAKvoB,OAAQ,CACtCN,QAAS6oB,EAAK7oB,QACdwpB,UAAWX,EAAKW,UAChBjpB,eAAgBsoB,EAAKtoB,eACrBopB,gBAAiBd,EAAKc,gBACtBD,kBAAmBb,EAAKa,kBACxBD,WAAW,KAEZZ,EAAKxW,UAeV6V,mBAGF,SAAO9xB,IAAC0zB,GAAazzB,SAAb,CAAsBjB,QAAepB,YAC/C,CAGO,SAASk3B,KACd,MAAM30B,EAAUC,aAAWszB,IAC3B,IAAKvzB,EACH,MAAM,IAAIE,MAAM,iDAElB,OAAOF,CACT,CCxYA,MAAM40B,GAAer3B,kBAGRs3B,GAAQ,CACnBC,YAAa,cACbC,MAAO,QACPC,QAAS,UACTC,UAAW,YACXC,OAAQ,SACRC,SAAU,YAICC,GAAc,CAEzBC,cAAe,gBACfC,gBAAiB,kBACjBC,cAAe,gBACfC,gBAAiB,kBACjBC,qBAAsB,uBAGtBC,YAAa,cACbC,YAAa,cACbC,cAAe,gBACfC,cAAe,gBACfC,cAAe,gBAGfC,WAAY,aACZC,aAAc,eACdC,WAAY,aACZC,aAAc,eACdC,mBAAoB,qBAGpBC,mBAAoB,qBACpBC,mBAAoB,qBACpBC,sBAAuB,wBACvBC,qBAAsB,uBAGtBC,YAAa,cACbC,YAAa,cACbC,cAAe,gBACfC,cAAe,gBAGfC,eAAgB,iBAChBC,iBAAkB,mBAClBC,iBAAkB,mBAGlBC,cAAe,gBACfC,cAAe,gBACfC,gBAAiB,kBAGjBC,gBAAiB,kBACjBC,aAAc,gBAIHC,GAAmB,CAC9B,CAACvC,GAAMC,aAAc,IAEhBr2B,OAAOa,OAAO81B,KAGnB,CAACP,GAAME,OAAQ,CAEbK,GAAYC,cACZD,GAAYE,gBACZF,GAAYG,cACZH,GAAYI,gBACZJ,GAAYK,qBAGZL,GAAYM,YACZN,GAAYO,YACZP,GAAYQ,cACZR,GAAYS,cACZT,GAAYU,cAGZV,GAAYW,WACZX,GAAYY,aACZZ,GAAYa,WAGZb,GAAYgB,mBACZhB,GAAYiB,mBACZjB,GAAYkB,sBACZlB,GAAYmB,qBAGZnB,GAAYoB,YACZpB,GAAYqB,YACZrB,GAAYsB,cAGZtB,GAAYwB,eACZxB,GAAYyB,iBACZzB,GAAY0B,iBAGZ1B,GAAY2B,cACZ3B,GAAY6B,iBAGd,CAACpC,GAAMG,SAAU,CAEfI,GAAYC,cACZD,GAAYG,cAGZH,GAAYM,YACZN,GAAYO,YAGZP,GAAYgB,mBACZhB,GAAYiB,mBACZjB,GAAYkB,sBAGZlB,GAAYwB,eACZxB,GAAY0B,kBAGd,CAACjC,GAAMI,WAAY,CAEjBG,GAAYC,cACZD,GAAYM,YACZN,GAAYgB,mBACZhB,GAAYiB,mBACZjB,GAAYW,YAGd,CAAClB,GAAMK,QAAS,CAEdE,GAAYC,cACZD,GAAYM,YACZN,GAAYgB,mBACZhB,GAAYwB,gBAGd,CAAC/B,GAAMM,UAAW,IAMPkC,GAAgB,CAC3BC,MAAO,QACPC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,KAAM,OACNC,OAAQ,SACRC,QAAS,UACTC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,YAAa,cACbC,kBAAmB,oBACnBC,gBAAiB,kBACjBC,aAAc,eACdC,eAAgB,kBAIZC,GACK,UADLA,GAEO,YAFPA,GAGQ,aAHRA,GAIS,cAJTA,GAKO,YAGP17B,GAAe,CACnB27B,KAAM,GACNvwB,SAAS,EACThL,MAAO,KACPw7B,YAAa,CACXl+B,GAAI,UACJC,KAAM,aACNgN,MAAO,mBACPmK,KAAMmjB,GAAME,MACZ0D,YAAarB,GAAiBvC,GAAME,SAIlC2D,GAAe,CAACx7B,EAAOC,KAC3B,OAAQA,EAAOC,MACb,KAAKk7B,GACH,MAAO,IACFp7B,EACHq7B,KAAM,CAACp7B,EAAOE,WAAYH,EAAMq7B,MAChCvwB,SAAS,GAGb,KAAKswB,GACH,MAAO,IACFp7B,EACHq7B,KAAMp7B,EAAOE,QACb2K,SAAS,GAGb,KAAKswB,GACH,MAAO,IACFp7B,EACHq7B,KAAM,IAGV,KAAKD,GACH,MAAO,IACFp7B,EACH8K,QAAS7K,EAAOE,SAGpB,KAAKi7B,GACH,MAAO,IACFp7B,EACHF,MAAOG,EAAOE,QACd2K,SAAS,GAGb,QACE,OAAO9K,IAIAy7B,GAAgB,EAAGl7B,eAC9B,MAAOP,EAAOQ,GAAYC,aAAW+6B,GAAc97B,KAC7CuM,iBAAEA,GAAqBqC,KAG7B5N,YAAU,KACR,MAAMg7B,EAAY16B,aAAaG,QAAQ,qBACvC,GAAIu6B,EACF,IACE,MAAML,EAAO9vB,KAAKC,MAAMkwB,GACxBl7B,EAAS,CAAEN,KAAMk7B,GAA+Bj7B,QAASk7B,GAC3D,OAASv7B,GAET,GAED,IAGHY,YAAU,KACR,GAAIV,EAAMq7B,KAAKptB,OAAS,EAAG,CAEzB,MAAM0tB,EAAa37B,EAAMq7B,KAAK9kB,MAAM,EAAG,KACvCvV,aAAaC,QAAQ,oBAAqBsK,KAAKE,UAAUkwB,GAC3D,GACC,CAAC37B,EAAMq7B,OAGV,MAAMO,EAAgB,CAACC,EAAYC,EAAW97B,EAAMs7B,YAAY9mB,QACtC0lB,GAAiB4B,IAAa,IAC/BtuB,SAASquB,GAkF5BE,EAAmB97B,GACC,CACtBk6B,GAAcK,OACdL,GAAcY,YACdZ,GAAca,kBACdb,GAAcgB,eACdhB,GAAcc,iBAEOztB,SAASvN,GAI5B+7B,EAAkB,CAACvjB,EAAU,MACjC,IAAIwjB,EAAe,IAAIj8B,EAAMq7B,MAgC7B,OA9BI5iB,EAAQlL,SACV0uB,EAAeA,EAAa7wB,OAAO8wB,GAAOA,EAAI3uB,SAAWkL,EAAQlL,SAG/DkL,EAAQxY,SACVg8B,EAAeA,EAAa7wB,OAAO8wB,GAAOA,EAAIj8B,SAAWwY,EAAQxY,SAG/DwY,EAAQ0jB,WACVF,EAAeA,EAAa7wB,OAAO8wB,GACjCA,EAAIC,SAAS3uB,SAASiL,EAAQ0jB,YAI9B1jB,EAAQ2jB,YACVH,EAAeA,EAAa7wB,OAC1B8wB,GAAO,IAAIvzB,KAAKuzB,EAAI7qB,YAAc,IAAI1I,KAAK8P,EAAQ2jB,aAInD3jB,EAAQ4jB,UACVJ,EAAeA,EAAa7wB,OAC1B8wB,GAAO,IAAIvzB,KAAKuzB,EAAI7qB,YAAc,IAAI1I,KAAK8P,EAAQ4jB,gBAI/B,IAApB5jB,EAAQ/D,UACVunB,EAAeA,EAAa7wB,OAAO8wB,GAAOA,EAAIxnB,UAAY+D,EAAQ/D,UAG7DunB,GAcHK,EAAkBjB,GAUN,CATA,CACd,YACA,OACA,SACA,WACA,aACA,UACA,WAGQkB,KAAK,QACVlB,EAAK33B,IAAIw4B,GACV,CACEA,EAAI7qB,UACJ,IAAI6qB,EAAIM,YACRN,EAAIj8B,OACJ,IAAIi8B,EAAIC,YACRD,EAAIO,UACJP,EAAIxnB,QACJ,IAAInJ,KAAKE,UAAUywB,EAAIQ,SAAS16B,QAAQ,KAAM,UAC9Cu6B,KAAK,OAIIA,KAAK,MAYhB56B,EAAQ,CACZ05B,KAAMr7B,EAAMq7B,KACZvwB,QAAS9K,EAAM8K,QACfhL,MAAOE,EAAMF,MACbw7B,YAAat7B,EAAMs7B,YAGnBM,gBACAe,iBAtLuB,CAACpB,EAAaO,EAAW97B,EAAMs7B,YAAY9mB,OAC3D+mB,EAAYhgB,KAAKsgB,GAAcD,EAAcC,EAAYC,IAsLhEc,kBAnLwB,CACxBrB,EACAO,EAAW97B,EAAMs7B,YAAY9mB,OAEtB+mB,EAAYsB,MAAMhB,GAAcD,EAAcC,EAAYC,IAgLjEgB,QA5Kc,CAACtoB,EAAMsnB,EAAW97B,EAAMs7B,YAAY9mB,OAC3CsnB,IAAatnB,EA4KpBuoB,eAzKqB,CAACC,EAAalB,EAAW97B,EAAMs7B,YAAY9mB,QAChE,MAAMyoB,EAAgB,CACpBtF,GAAMM,SACNN,GAAMK,OACNL,GAAMI,UACNJ,GAAMG,QACNH,GAAME,MACNF,GAAMC,aAMR,OAHsBqF,EAAcC,QAAQpB,IACnBmB,EAAcC,QAAQF,IAiK/CG,UA3JgBxxB,MAAO1L,EAAQk8B,EAAUO,EAAU,MACnD,IACE,MAAMU,EAAW,CACfhgC,GAAI,SAASuL,KAAKsE,SAASC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,KAChEgE,WAAA,IAAe1I,MAAOwC,cACtBoC,OAAQvN,EAAMs7B,YAAYl+B,GAC1Bo/B,SAAUx8B,EAAMs7B,YAAYj+B,KAC5BggC,UAAWr9B,EAAMs7B,YAAYjxB,MAC7ByxB,SAAU97B,EAAMs7B,YAAY9mB,KAC5BvU,SACAk8B,WACAO,UACAD,UAAW,cACXa,UAAWrN,UAAUqN,UACrBC,UAAWC,eAAer8B,QAAQ,eAAiB,UACnDuT,SAA6B,IAApBgoB,EAAQhoB,SAsBnB,OAnBAlU,EAAS,CAAEN,KAAMk7B,GAA6Bj7B,QAASi9B,IAGnDrB,EAAiB97B,UACbgM,EACJlD,GAAmBM,YACnB,CACEkD,QAAS,8BAA8BtM,QAAak8B,QAAen8B,EAAMs7B,YAAYj+B,OACrF04B,UAAW,uBAAuB91B,SAAck8B,YAAmBn8B,EAAMs7B,YAAYj+B,OACrFkQ,OAAQvN,EAAMs7B,YAAYl+B,GAC1B6C,SACAk8B,WACAsB,SAAU,QAEZ,CAACl0B,GAAsBI,OAAQJ,GAAsBC,QAKlD4zB,CACT,OAASt9B,GAEPU,EAAS,CAAEN,KAAMk7B,GAA+Bj7B,QAASL,EAAMyM,SACjE,GAmHAyvB,kBACA0B,WA/DiB,CAACx1B,EAAS,OAAQuQ,EAAU,MAC7C,MAAM4iB,EAAOW,EAAgBvjB,GAE7B,MAAe,QAAXvQ,EACKo0B,EAAgBjB,GAGlB9vB,KAAKE,UAAU4vB,EAAM,KAAM,IAyDlCsC,aAzBmB,CAACC,EAAa,MACjC,MAAMC,EAAa,IAAIl1B,KAAKA,KAAKsE,MAAqB,GAAb2wB,EAAkB,GAAK,GAAK,KAC/D3B,EAAej8B,EAAMq7B,KAAKjwB,OAC9B8wB,GAAO,IAAIvzB,KAAKuzB,EAAI7qB,YAAcwsB,GAEpCr9B,EAAS,CAAEN,KAAMk7B,GAA+Bj7B,QAAS87B,KAuBzDtE,SACAO,eACAgC,oBACAC,kBAGF,SAAOx3B,IAAC+0B,GAAa90B,SAAb,CAAsBjB,QAAepB,cAGlCu9B,GAAW,KACtB,MAAMh7B,EAAUC,aAAW20B,IAC3B,IAAK50B,EACH,MAAM,IAAIE,MAAM,iDAElB,OAAOF,GC/dHi7B,GAAkB19B,kBAEX29B,GAAc,KACzB,MAAMl7B,EAAUC,aAAWg7B,IAC3B,IAAKj7B,EACH,MAAM,IAAIE,MAAM,sDAElB,OAAOF,GCNHm7B,GAAmB,EAAG19B,eAC1B,MAAO29B,EAAiBC,GAAsBvvB,WAAS,KAChDwvB,EAAgBC,GAAqBzvB,WAAS,OAC9C0vB,EAAiBC,GAAsB3vB,WAAS,OAChDuoB,EAAcqH,GAAmB5vB,WAAS,KAC1C9D,EAASyE,GAAcX,YAAS,GAGjC6vB,EAAsB9uB,UAC1B,IAAM,CACJ,CACEvS,GAAI,WACJC,KAAM,oBACNqhC,YAAa,oCACbC,SAAU,aACVz+B,KAAM,WACN0+B,cAAe,MACfC,mBAAmB,EACnBC,SAAU,GACVC,cAAe,IACfC,UAAW,GACXC,iBAAkB,CAAC,SAAU,SAAU,SAAU,cAEnD,CACE7hC,GAAI,UACJC,KAAM,mBACNqhC,YAAa,oCACbC,SAAU,eACVz+B,KAAM,UACN0+B,cAAe,MACfC,mBAAmB,EACnBC,SAAU,GACVC,cAAe,IACfC,UAAW,GACXC,iBAAkB,CAAC,SAAU,SAAU,SAAU,iBAEnD,CACE7hC,GAAI,WACJC,KAAM,oBACNqhC,YAAa,gDACbC,SAAU,iBACVz+B,KAAM,WACN0+B,cAAe,WACfC,mBAAmB,EACnBC,SAAU,GACVC,cAAe,IACfC,UAAW,GACXC,iBAAkB,CAAC,SAAU,WAE/B,CACE7hC,GAAI,SACJC,KAAM,eACNqhC,YAAa,mCACbC,SAAU,gBACVz+B,KAAM,SACN0+B,cAAe,MACfC,mBAAmB,EACnBC,SAAU,EACVC,cAAe,EACfC,UAAW,KACXC,iBAAkB,CAAC,SAAU,SAAU,YAG3C,IAIIC,EAAiBvvB,UACrB,IAAM,CACJ,CACEvS,GAAI,cACJC,KAAM,2BACN8hC,QAAS,+CACTC,KAAM,SACNtI,MAAO,mBACP3gB,MAAO,uCACPkpB,YAAa,CAAEC,IAAK,QAASC,IAAK,UAEpC,CACEniC,GAAI,cACJC,KAAM,2BACN8hC,QAAS,wDACTC,KAAM,SACNtI,MAAO,mBACP3gB,MAAO,uCACPkpB,YAAa,CAAEC,IAAK,QAASC,IAAK,UAEpC,CACEniC,GAAI,cACJC,KAAM,2BACN8hC,QAAS,uDACTC,KAAM,SACNtI,MAAO,mBACP3gB,MAAO,uCACPkpB,YAAa,CAAEC,IAAK,QAASC,IAAK,WAGtC,IAIF7+B,YAAU,KACRy9B,EAAmBM,IAClB,CAACA,IAGJ,MAAMe,EAAwB,CAACC,EAAWC,EAAiBC,KACzD,MAAM7M,EAAS2L,EAAoBv5B,KAAKpI,GAAKA,EAAEM,KAAOuiC,GACtD,IAAK7M,EAAQ,OAAO,KAGpB,MAAM8M,EAAcH,EAAU1L,OAC5B,CAAC8L,EAAKplB,IAASolB,GAAOplB,EAAKqlB,QAAU,GAAKrlB,EAAK1I,SAC/C,GAQF,GANmB0tB,EAAU1L,OAC3B,CAAC8L,EAAKplB,IAASolB,EAAMplB,EAAKtB,MAAQsB,EAAK1I,SACvC,IAIgB+gB,EAAOiM,cACvB,MAAO,CACLgB,KAAM,EACNC,aAAclN,EAAOgM,SACrBmB,QAAQ,EACRv5B,SAAU,OAKd,GAAIosB,EAAOkM,WAAaY,EAAc9M,EAAOkM,UAC3C,MAAO,CACLl/B,MAAO,2BAA2BgzB,EAAOkM,eAK7C,IAAIe,EAAOjN,EAAOgM,SAMlB,GALIc,EAAc,IAChBG,GAA2C,GAAnC7yB,KAAKgzB,MAAMN,EAAc,GAAK,UAIpCF,WAAiBN,KAAM,CACzB,MAAMe,EAAYT,EAAgBN,KAAKxlB,cACvC,IACGkZ,EAAOmM,iBAAiBzxB,SAAS2yB,KACjCrN,EAAOmM,iBAAiBzxB,SAAS,aAClC,CACA,GAAIslB,EAAOmM,iBAAiBzxB,SAAS,gBACnC,MAAO,CACL1N,MAAO,kCAGXigC,GAAQ,EACV,CACF,CAEA,MAAO,CACLA,OACAC,aAAclN,EAAOgM,SACrBmB,QAAQ,EACRv5B,SAAU,MACV05B,gBAAiBL,EAAOjN,EAAOgM,WAoI7BuB,EAA6BzB,IACjC,MAAMxoB,EAAOwoB,EAAcpxB,SAAS,KAChC8yB,SAAS1B,EAAc79B,MAAM,KAAK,IAClCu/B,SAAS1B,IAAkB,EAEzB2B,MAAmB53B,KAEzB,OADA43B,EAAaC,QAAQD,EAAaE,UAAYrqB,GACvCmqB,EAAap1B,eAGhBu1B,EAAuB7zB,IACN,CACnB8zB,QAAS,oCACTC,UAAW,mCACXC,WAAY,oCACZC,iBAAkB,mBAClBC,UAAW,kCAEOl0B,IAAW,iBAG3Bm0B,EAAoBn0B,IACN,CAChB8zB,QAAS,mBACTC,UAAW,sBACXC,WAAY,aACZC,iBAAkB,iBAClBC,UAAW,aAEIl0B,IAAW,WAGxBlL,EAAQ,CACZu8B,kBACAE,iBACAE,kBACAnH,eACA+H,iBACAp0B,UACA00B,wBACAyB,4BAvKkC,CAACxB,EAAWC,IACzCD,GAAkC,IAArBA,EAAUxxB,OAErBwwB,EACJrzB,OAAO0nB,IACN,KAAK,MAAA4M,OAAA,EAAAA,EAAiBN,MAAM,OAAO,EAEnC,MAAMe,EAAYT,EAAgBN,KAAKxlB,cACvC,OACEkZ,EAAOmM,iBAAiBzxB,SAAS2yB,IACjCrN,EAAOmM,iBAAiBzxB,SAAS,cAChCslB,EAAOmM,iBAAiBzxB,SAAS,iBAChC,CAAC,SAAU,SAAU,SAAU,QAAS,UAAUA,SAChD2yB,KAIPz8B,IAAIovB,IACH,MAAMoO,EAAW1B,EACfC,EACAC,EACA5M,EAAO11B,IAET,MAAO,IACF01B,EACHoO,WACApuB,YAAY,MAAAouB,OAAA,EAAAA,EAAUphC,UAzBqB,GAuKjDu+B,oBACAE,qBACA4C,eA1IqBx1B,MAAM0rB,IAC3B9nB,GAAW,GACX,UAEQ,IAAI3D,QAAQC,GAAWC,WAAWD,EAAS,MAEjD,MAAMiB,EAAiB,MAAMnE,KAAKsE,QAAQC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAAG0lB,gBAE5EqO,EAAe,CACnBhkC,GAAI,QAAQuL,KAAKsE,QACjBmpB,QAASiB,EAAUjB,QACnBtpB,iBACA6xB,gBAAUP,WAAgBO,WAAY,aACtC7L,cAAQsL,WAAgB/gC,OAAQ,oBAChCwP,OAAQ,UACRopB,kBAAmBoK,EACjB,MAAAjC,OAAA,EAAAA,EAAgBQ,eAElBN,gBAAiBjH,EAAUiH,gBAC3B+C,SAAU,CACR,CACEx0B,OAAQ,UACR6xB,YAAa,mBACbrtB,WAAA,IAAe1I,MAAOwC,cACtBtK,SAAU,sBAWhB,OALA29B,EAAgBjtB,IAAA,IACXA,EACHzE,CAACA,GAAiBs0B,KAGbA,CACT,OAASthC,GAEP,MAAMA,CACR,SACEyP,GAAW,EACb,GAkGA+xB,cA9FoB31B,MAAMmB,IAC1ByC,GAAW,GACX,UAEQ,IAAI3D,QAAQC,GAAWC,WAAWD,EAAS,OAGjD,MAAM01B,EAAe,CACnB,UACA,YACA,aACA,mBACA,aAEIC,EAAqBt0B,KAAKgJ,MAAMhJ,KAAKC,SAAWo0B,EAAatzB,QAC7DwzB,EAAgBF,EAAaC,GAE7BE,EAAe,CACnB50B,iBACAD,OAAQ40B,EACRE,aAAA,IAAiBh5B,MAAOwC,cACxB8qB,kBAAmBoK,EAA2B,OAC9CgB,SAAUE,EACPhrB,MAAM,EAAGirB,EAAqB,GAC9B99B,IAAI,CAACmJ,EAAQyP,KAAA,CACZzP,SACA6xB,YAAagC,EAAqB7zB,GAClCwE,UAAW,IAAI1I,KACbA,KAAKsE,MACiC,IAAnCs0B,EAAatzB,OAASqO,EAAQ,GAAU,GAAK,GAAK,KACrDnR,cACFtK,SAAUmgC,EAAkBn0B,OASlC,OALA2xB,EAAgBjtB,IAAA,IACXA,EACHzE,CAACA,GAAiB40B,KAGbA,CACT,OAAS5hC,GAEP,MAAMA,CACR,SACEyP,GAAW,EACb,IAmDF,SACE5M,IAACo7B,GAAgBn7B,SAAhB,CAAyBjB,QACvBpB,cC1VDqhC,GAAevhC,gBAAc,MAE5B,SAASwhC,IAActhC,SAAEA,IAC9B,MAAOX,EAAOkiC,GAAYlzB,WAAS,UAC5BmzB,EAAaC,GAAkBpzB,WAAS,SAG/ClO,YAAU,KACR,MAAMuhC,EAAarhC,OAAOshC,WAAW,gCACrCF,EAAeC,EAAWE,QAAU,OAAS,SAE7C,MAAMC,EAAU9qB,GAAK0qB,EAAe1qB,EAAE6qB,QAAU,OAAS,SAGzD,OAFAF,EAAWpsB,iBAAiB,SAAUusB,GAE/B,IAAMH,EAAWnsB,oBAAoB,SAAUssB,IACrD,IAGH1hC,YAAU,KACR,MAAM2hC,EAAarhC,aAAaG,QAAQ,SACpCkhC,GAAc,CAAC,QAAS,OAAQ,UAAU70B,SAAS60B,IACrDP,EAASO,IAEV,IAGH3hC,YAAU,KAGe,UAFU,WAAVd,EAAqBmiC,EAAcniC,GAGxDyB,SAASC,gBAAgBW,UAAUC,IAAI,QAEvCb,SAASC,gBAAgBW,UAAU+xB,OAAO,SAE3C,CAACp0B,EAAOmiC,IAEX,MAKMpgC,EAAQ,CACZ/B,QACA0iC,eAA0B,WAAV1iC,EAAqBmiC,EAAcniC,EACnDkiC,SARkBS,IAClBT,EAASS,GACTvhC,aAAaC,QAAQ,QAASshC,IAO9BR,eAGF,SAAOp/B,IAACi/B,GAAah/B,SAAb,CAAsBjB,QAAepB,YAC/C,CC/CO,MAAMiiC,GAAY,CACvB,cAAe,CAAC,UAChB,aAAc,CACZ,SACA,kBACA,gBACA,2BACA,qBAEF,YAAa,CACX,SACA,kBACA,gCAEF,UAAW,CACT,SACA,QACA,QACA,SACA,sBAEF,WAAY,CAAC,SAAU,4BAA6B,SACpD,cAAe,CACb,SACA,eACA,OACA,qBACA,uBAEF,YAAa,CAAC,SAAU,QAAS,SACjC,aAAc,CAAC,UACf,WAAY,CAAC,UACb,cAAe,CAAC,UAChB,kBAAmB,CAAC,UACpB,4BAA6B,ICjCxB,SAASC,IAAiBliC,SAAEA,IACjC,MAAMmiC,iBAAEA,GCsTH,WACL,MAAOC,EAAYC,GAAiBh0B,WAAS,IAEvCi0B,EAAkBnyB,cAAYoyB,IAClC,MAAMC,EAAS,CACb3lC,GAAIuL,KAAKsE,MACToE,WAAA,IAAe1I,MAAOwC,cACtB63B,UAAWF,EAAUG,kBACrBC,WAAYJ,EAAUK,WACtBC,YAAaN,EAAUO,YACvBC,WAAYR,EAAUQ,WACtBC,WAAYT,EAAUS,YAGxBX,EAAcrxB,GAAQ,IAAIA,EAAKgF,OAAM,IAAMwsB,KAM1C,IAGGL,EAAmBhyB,cAAY,KACnC,MAAM8yB,EAAqBlsB,IACzBurB,EAAgBvrB,EAAEmsB,eAAiBnsB,IAKrC,OAFAjW,SAASwU,iBAAiB,0BAA2B2tB,GAE9C,KACLniC,SAASyU,oBACP,0BACA0tB,KAGH,CAACX,IAEJ,MAAO,CACLF,aACAE,kBACAH,mBAEJ,CDjW+BgB,IACvBC,iBAAEA,GC8PH,WACL,MAAOC,EAAgBC,GAAqBj1B,WAAS,KAC9Ck1B,EAAaC,GAAkBn1B,WAAS,OAEzC+0B,EAAmBjzB,cACvB+E,IACE,MAAMuuB,EAAgB,CACpB5mC,GAAIuL,KAAKsE,MACToE,WAAA,IAAe1I,MAAOwC,cACtBjL,KAAMuV,EAAMvV,KACZu9B,SAAUhoB,EAAMgoB,UAAY,MAC5Bf,QAASjnB,EAAMinB,QACfY,UAAWrN,UAAUqN,UACrB2G,IAAKrjC,OAAOC,SAASuf,MAGvByjB,EAAkBtyB,GAAQ,IAAIA,EAAKgF,OAAM,IAAMytB,IAG/C,MAAME,EAAeN,EAAex4B,OAClCkM,GAAK3O,KAAKsE,MAAQ,IAAItE,KAAK2O,EAAEjG,WAAW8yB,UAAY,KAGhDC,EAAoBF,EAAa94B,OACrCkM,GAAoB,SAAfA,EAAEmmB,UACPxvB,OACIo2B,EAAsBH,EAAa94B,OACvCkM,GAAoB,WAAfA,EAAEmmB,UACPxvB,OAGA81B,EADEK,GAAqB,GAAKC,GAAuB,EACpC,OACND,GAAqB,GAAKC,GAAuB,EAC3C,SAEA,QAGnB,CAACT,IAGGU,EAAc5zB,cAAY,KAC9BmzB,EAAkB,IAClBE,EAAe,QACd,IAEH,MAAO,CACLH,iBACAE,cACAH,mBACAW,cAEJ,CDlT+BC,GAwG7B,OAtGA7jC,YAAU,KAER,MAAM8jC,EAAU9B,IAGU,MACxB,MAAM+B,EAAOpjC,SAASojC,KAG8C,CAClE,MAAMC,EAAUrjC,SAASsjC,cAAc,QACvCD,EAAQE,UAAY,0BACpBF,EAAQG,QDiDPtjC,OAAOC,QAAQghC,IACnB9+B,IAAI,EAAEs/B,EAAW8B,KAAa,GAAG9B,KAAa8B,EAAQvI,KAAK,QAC3DA,KAAK,MClDFkI,EAAKM,YAAYL,EACnB,CAGA,MAAMM,EAAe3jC,SAASsjC,cAAc,QAC5CK,EAAa3nC,KAAO,WACpB2nC,EAAaH,QAAU,kCACvBJ,EAAKM,YAAYC,GAGjB,MAAMC,EAAe5jC,SAAS6jC,cAAc,yBACxCD,IAAiBA,EAAaJ,QAAQr3B,SAAS,sBAEjDy3B,EAAaJ,QAAUI,EAAaJ,QAAQ7iC,QAC1C,oBACA,uBAKNmjC,GAkEA,MA/DwB,MAEtB,IAAIC,EAAkB,EAKtB/jC,SAASwU,iBAAiB,SAAU,KAClCuvB,IACIA,EAAkB,GACpBzB,EAAiB,CACfzjC,KAAM,oBACNu9B,SAAU,SACVf,QAAS,GAAG0I,6CAKlBC,YAfmB,KACjBD,EAAkB,GAcI,KAGxB/jC,SAASwU,iBAAiB,QAASyB,IACjC,MAAMguB,EAAahuB,EAAEiuB,cAAcC,QAAQ,SAEzCF,EAAWr3B,OAAS,KACpB,uBAAuBw3B,KAAKH,KAE5B3B,EAAiB,CACfzjC,KAAM,mBACNu9B,SAAU,SACVf,QAAS,oDAMf,IAAIgJ,EAAW,CACbC,MAAM,GAKRN,YAAY,KAERzkC,OAAOglC,YAAchlC,OAAOilC,YAJd,KAKdjlC,OAAOklC,WAAallC,OAAOmlC,WALb,IAOTL,EAASC,OACZD,EAASC,MAAO,EAChBhC,EAAiB,CACfzjC,KAAM,oBACNu9B,SAAU,MACVf,QAAS,iCAIbgJ,EAASC,MAAO,GAEjB,MAGLK,GAEOxB,GACN,CAAC9B,EAAkBiB,IAEfpjC,CACT,CA6BO,SAAS0lC,IAAkB1lC,SAAEA,IAwClC,OAvCAG,YAAU,KACR,MAAMwlC,MAAmBC,IAqBnBC,EAAgBxlC,OAAO6uB,MAY7B,OAXA7uB,OAAO6uB,MAAQ,SAAUwU,EAAKxN,EAAU,IAGtC,MAvBqB,EAAC/0B,EAAK2kC,EAAQ,GAAIC,EAAW,OAClD,MAAMr5B,EAAMtE,KAAKsE,MACXs5B,EAAUL,EAAaM,IAAI9kC,IAAQ,CACvCoyB,MAAO,EACP2S,UAAWx5B,EAAMq5B,GAWnB,OARIr5B,EAAMs5B,EAAQE,WAChBF,EAAQzS,MAAQ,EAChByS,EAAQE,UAAYx5B,EAAMq5B,GAE1BC,EAAQzS,QAGVoS,EAAaQ,IAAIhlC,EAAK6kC,GACfA,EAAQzS,OAASuS,GAQnBM,CAFgB,SAAS1C,IAEI,GAAI,KAK/BmC,EAAcQ,KAAKC,KAAM5C,EAAKxN,GAH5B7qB,QAAQoG,OAAO,IAAIhP,MAAM,uBAIpC,EAEO,KACLpC,OAAO6uB,MAAQ2W,IAEhB,IAEI7lC,CACT,CAwBO,SAASumC,IAAkBvmC,SAAEA,EAAAwmC,YAAUA,IAqC5C,OApCArmC,YAAU,KAER,MAAMsmC,EAAcvxB,IAClB,MAAMG,EAASH,EAAMG,OACrB,GAAIA,GAAUA,EAAOjU,MAAO,CACC,CACzB,WACA,eACA,aACA,cAGqB4Z,KAAK0rB,GAAWA,EAAQxB,KAAK7vB,EAAOjU,UACzD8T,EAAMyxB,iBACNtxB,EAAOjU,MAAQiU,EAAOjU,MAAMK,QAAQ,UAAW,IAE3C+kC,GACFA,EAAY,CACV7mC,KAAM,cACNinC,QAASvxB,EAAOyL,QAChB1f,MAAOiU,EAAOjU,QAItB,GAMF,OAHAN,SAASwU,iBAAiB,QAASmxB,GACnC3lC,SAASwU,iBAAiB,SAAUmxB,GAE7B,KACL3lC,SAASyU,oBAAoB,QAASkxB,GACtC3lC,SAASyU,oBAAoB,SAAUkxB,KAExC,CAACD,IAEGxmC,CACT,CE3OA,MAAM6mC,GAAwB/mC,kBAMxB0Y,GAAgB,CAEpB,CACE3b,GAAI,EACJC,KAAM,yBACN4b,SAAU,UACVouB,YAAa,UACbluB,MAAO,KACPmuB,OAAQ,IACRhlC,QAAS,UACTilC,KAAM,CAAC,UAAW,cAAe,WACjCC,MAAO,8BAET,CACEpqC,GAAI,EACJC,KAAM,8BACN4b,SAAU,UACVouB,YAAa,OACbluB,MAAO,KACPmuB,OAAQ,IACRhlC,QAAS,UACTilC,KAAM,CAAC,eAAgB,UAAW,YAClCC,MAAO,iCAET,CACEpqC,GAAI,EACJC,KAAM,uBACN4b,SAAU,UACVouB,YAAa,QACbluB,MAAO,KACPmuB,OAAQ,IACRhlC,QAAS,UACTilC,KAAM,CAAC,UAAW,aAAc,UAChCC,MAAO,4BAET,CACEpqC,GAAI,EACJC,KAAM,sBACN4b,SAAU,UACVouB,YAAa,cACbluB,MAAO,IACPmuB,OAAQ,IACRhlC,QAAS,UACTilC,KAAM,CAAC,UAAW,UAAW,cAC7BC,MAAO,2BAIT,CACEpqC,GAAI,EACJC,KAAM,6BACN4b,SAAU,cACVouB,YAAa,QACbluB,MAAO,KACPmuB,OAAQ,IACRhlC,QAAS,cACTilC,KAAM,CAAC,WAAY,mBAAoB,YACvCC,MAAO,uBAET,CACEpqC,GAAI,EACJC,KAAM,sBACN4b,SAAU,cACVouB,YAAa,YACbluB,MAAO,MACPmuB,OAAQ,IACRhlC,QAAS,cACTilC,KAAM,CAAC,UAAW,QAAS,cAC3BC,MAAO,6BAET,CACEpqC,GAAI,EACJC,KAAM,sBACN4b,SAAU,cACVouB,YAAa,cACbluB,MAAO,KACPmuB,OAAQ,IACRhlC,QAAS,cACTilC,KAAM,CAAC,WAAY,gBAAiB,WACpCC,MAAO,0BAET,CACEpqC,GAAI,EACJC,KAAM,wBACN4b,SAAU,cACVouB,YAAa,cACbluB,MAAO,KACPmuB,OAAQ,IACRhlC,QAAS,cACTilC,KAAM,CAAC,WAAY,YAAa,SAChCC,MAAO,4BAIT,CACEpqC,GAAI,EACJC,KAAM,yBACN4b,SAAU,YACVouB,YAAa,SACbluB,MAAO,MACPmuB,OAAQ,IACRhlC,QAAS,YACTilC,KAAM,CAAC,YAAa,cAAe,cACnCC,MAAO,4BAET,CACEpqC,GAAI,GACJC,KAAM,sBACN4b,SAAU,YACVouB,YAAa,UACbluB,MAAO,KACPmuB,OAAQ,IACRhlC,QAAS,YACTilC,KAAM,CAAC,SAAU,UAAW,WAC5BC,MAAO,4BAET,CACEpqC,GAAI,GACJC,KAAM,kBACN4b,SAAU,YACVouB,YAAa,UACbluB,MAAO,KACPmuB,OAAQ,IACRhlC,QAAS,YACTilC,KAAM,CAAC,UAAW,kBAAmB,eACrCC,MAAO,+BAET,CACEpqC,GAAI,GACJC,KAAM,0BACN4b,SAAU,YACVouB,YAAa,SACbluB,MAAO,KACPmuB,OAAQ,IACRhlC,QAAS,YACTilC,KAAM,CAAC,YAAa,eAAgB,UACpCC,MAAO,+BAKLC,GAAmB,CACvBC,KAAM,EACNC,UAAW,IACXC,UAAW,EACXC,gBAAgB,EAChBC,SAAU,EACVC,SAAU,EACVC,oBAAoB,GACpBC,OAAQ,EACRC,aAAc,GACdC,YAAa,GACbC,UAAW,GACXC,UAAW,GACXC,WAAY,GACZC,YAAa,EACbC,aAAc,IACdC,eAAgB,IAChBC,aAAc,IACdC,YAAa,EACbC,cAAe,GACfC,YAAa,IACbC,oBAAqB,KAIjBC,GAAsB,sBACtBC,GAAuB,uBACvBC,GAAwB,wBAEvB,SAASC,IAAuB3oC,SAAEA,IACvC,MAAO4oC,EAAcC,GAAmBx6B,WAAS,KAC1Cy6B,EAAaC,GAAkB16B,WAAS,CAC7C2uB,UAAW50B,KAAKsE,MAAMG,WACtBm8B,cAAe5gC,KACf6gC,WAAY,CACVlM,UAAWrN,UAAUqN,UACrB72B,SAAUwpB,UAAUxpB,SACpBgjC,SAAUxZ,UAAUwZ,SACpBC,iBAAkB,GAAGC,OAAOC,SAASD,OAAOE,SAC5CxX,SAAU,GAAGzxB,OAAOmlC,cAAcnlC,OAAOilC,cACzCiE,SAAU,6BAA6BrE,KAAKxV,UAAUqN,YAExDz8B,SAAU,KACVkpC,eAAgB,EAChBC,aAAc,GACdC,YAAarpC,OAAOC,SAASC,YAExBopC,EAAiBC,GAAsBv7B,WAAS,CACrDw7B,SAAU,GACVC,aAAc,GACdC,QAAS,GACTC,yBAA0B,GAC1BC,cAAe,GACfC,YAAa,GACbC,UAAW,GACXC,OAAQ,MAEHC,EAAWC,GAAgBj8B,WAAS,CACzCk8B,eAAgB,EAChBC,gBAAiB,EACjBC,oBAAqB,GACrBtyB,WAAY,CAAE4B,IAAK,EAAGnI,IAAK,GAC3B84B,iBAAkB,GAClBC,iBAAkB,GAClBC,gBAAiB,GACjBC,mBAAoB,GACpBC,aAAc,KAETxrC,EAAWiU,GAAgBlF,YAAS,GAGrC08B,EAAkB56B,cAAY66B,IAClCV,EAAat5B,UACX,MAAMK,EAAU,IAAKL,GAGjBg6B,EAAYzL,OAAS,IACvBluB,EAAQm5B,gBAAkB79B,KAAKoN,IAC7B,IACA1I,EAAQm5B,gBAAkBQ,EAAYzL,SAK1C,MAAM0L,EAAOD,EAAYE,SAASC,UAClC95B,EAAQq5B,iBAAiBO,IAAS55B,EAAQq5B,iBAAiBO,IAAS,GAAK,EAEzE,MAAM9iC,EAAM6iC,EAAYE,SAASE,UAIjC,GAHA/5B,EAAQs5B,iBAAiBxiC,IAAQkJ,EAAQs5B,iBAAiBxiC,IAAQ,GAAK,EAGnE,OAAAzD,EAAAsmC,EAAYK,kBAAZ,EAAA3mC,EAAyBgU,SAAU,CACrC,MAAM4yB,EAAgBj6B,EAAQo5B,oBAAoBxuB,UAChDsvB,GAAOA,EAAIzuC,OAASkuC,EAAYK,YAAY3yB,UAE1C4yB,GAAiB,EACnBj6B,EAAQo5B,oBAAoBa,GAAenyB,OAAS6xB,EAAYzL,OAEhEluB,EAAQo5B,oBAAoB75B,KAAK,CAC/B9T,KAAMkuC,EAAYK,YAAY3yB,SAC9BS,MAAO6xB,EAAYzL,SAIvBluB,EAAQo5B,oBAAoBnvB,KAAK,CAACC,EAAGC,IAAMA,EAAErC,MAAQoC,EAAEpC,MACzD,CAEA,OAAO9H,KAER,IAGGm6B,EAAgBr7B,cACpB,CAACzQ,EAAQ6Q,EAAY,KAAM26B,EAAW,MACpC,MAAMx+B,MAAUtE,KACVqjC,EAAgB,CACpB5uC,GAAI,GAAGuL,KAAKsE,SAASC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,KAC1DkwB,UAAW8L,EAAY9L,UACvBt9B,SACA6Q,YACAO,UAAWpE,EACXw+B,SAAU,IACLA,EACHQ,KAAMrrC,OAAOC,SAASC,SACtBorC,SAAU7qC,SAAS6qC,SACnBC,SAAUpkC,KAAKQ,iBAAiB6jC,kBAAkBD,SAClDE,UAAWp/B,EAAIq/B,eAAe,SAC9BX,UAAW1+B,EAAIs/B,SACfb,UAAWz+B,EAAIu/B,WACfC,OAAQpD,EAAYG,WAAWM,SAAW,SAAW,aAClDT,EAAYG,YAEjB1J,OAAQ2H,GAAiBxnC,IAAW,GAItC,GAAI6Q,EAAW,CACb,MAAMC,EAAUgI,GAAc7T,KAAK8L,GAAKA,EAAE5T,KAAO0T,GAC7CC,IACFi7B,EAAcJ,YAAc,CAC1B3yB,SAAUlI,EAAQkI,SAClBouB,YAAat2B,EAAQs2B,YACrBluB,MAAOpI,EAAQoI,MACfmuB,OAAQv2B,EAAQu2B,OAChBhlC,QAASyO,EAAQzO,QACjBilC,KAAMx2B,EAAQw2B,MAGpB,CAEA6B,EAAgB73B,GACE,IAAIA,EAAMy6B,GAEXz1B,OAAM,MAIvB,IACE,MAAMm2B,EAASnhC,KAAKC,MAClBxK,aAAaG,QAAQ6nC,KAAyB,MAEhD0D,EAAOv7B,KAAK66B,GACZhrC,aAAaC,QACX+nC,GACAz9B,KAAKE,UAAUihC,EAAOn2B,aAE1B,OAASzW,GAET,CAGAwrC,EAAgBU,IAElB,CAAC3C,EAAaiC,IAIVqB,EAAqBj8B,cACzB,CAACI,EAAW87B,KACVb,EAAc,gBAAiBj7B,EAAW,CACxC87B,UAAW1/B,KAAK2/B,MAAMD,GACtBE,WAAYF,EAAY,GAAK,OAASA,EAAY,GAAK,SAAW,SAGtE,CAACb,IAIGgB,EAAmBr8B,cACvB,CAACI,EAAWk8B,KACNA,EAAmB,GAAKA,EAAmB,IAAO,GAEpDjB,EAAc,cAAej7B,EAAW,CACtCk8B,mBACAF,WACEE,EAAmB,GACf,OACAA,EAAmB,GACjB,SACA,SAId,CAACjB,IAIGkB,EAAuBv8B,cAC3B,CAACw8B,EAAQC,EAAWC,KAClBrB,EAAc,kBAAmB,KAAM,CACrCmB,SACAC,YACAC,YACAC,iBAAkB,OAClBC,cAAeH,KAGnB,CAACpB,IAIGwB,EAAc78B,cAClB,CAAC4H,EAAOC,EAASE,EAAU,MACzBszB,EAAc,SAAU,KAAM,CAC5BzzB,QACAk1B,YAAaj1B,EAAQtK,OACrBw/B,WAAYl1B,EAAQtK,OAAS,EAC7BwK,UACAi1B,WAAYnsC,OAAO2R,KAAKuF,GAASxK,OAAS,EAAI,WAAa,YAG/D,CAAC89B,IAIHrrC,YAAU,KACR,IAEE,MAAMitC,EAAiBpiC,KAAKC,MAC1BxK,aAAaG,QAAQ6nC,KAAyB,MAEhDI,EAAgBuE,GAGhB,MAAMC,EAAgBriC,KAAKC,MACzBxK,aAAaG,QAAQ4nC,KAAwB,QAE/C,GACE6E,GACAjlC,KAAKsE,MAAQ,IAAItE,KAAKilC,EAAcrE,WAAWpF,UAC7C,MAGFmF,UAA6B/3B,KAASq8B,SACjC,CAEL,MAAMC,EAAa,IACdxE,EACH9L,UAAW50B,KAAKsE,MAAMG,WACtBm8B,cAAe5gC,MAEjB2gC,EAAeuE,GACf7sC,aAAaC,QAAQ8nC,GAAqBx9B,KAAKE,UAAUoiC,GAC3D,CAGA,MAAMC,EAAkBviC,KAAKC,MAC3BxK,aAAaG,QAAQ8nC,KAA0B,QAE7C6E,GACFjD,UAA2Bt5B,KAASu8B,IAExC,OAAShuC,GAET,CAGAisC,EAAc,WAAY,KAAM,CAAEE,KAAMrrC,OAAOC,SAASC,WAGxD,MAAMitC,EAAqB,KACzB,IACE/sC,aAAaC,QAAQ8nC,GAAqBx9B,KAAKE,UAAU49B,IACzDroC,aAAaC,QAAQgoC,GAAuB19B,KAAKE,UAAUm/B,GAC7D,OAAS9qC,GAET,GAIF,OADAc,OAAOiV,iBAAiB,eAAgBk4B,GACjC,IAAMntC,OAAOkV,oBAAoB,eAAgBi4B,IACvD,CAACnD,EAAWvB,EAAa0C,IAG5B,MAAMiC,EAAmBt9B,cAAY,IAE5BqI,GAAc8C,KACnB,CAACC,EAAGC,IAAMA,EAAEurB,OAASp6B,KAAKC,SAAW2O,EAAEwrB,OAASp6B,KAAKC,UACrDoJ,MAAM,EAAG,GACV,IAGG03B,EAAuBv9B,cAAY,KACvC,GAA4B,IAAxBy4B,EAAal7B,OACf,OAAO+/B,IAIT,MAAME,EAAiB,GACjBC,EAAgB,GAChBC,EAAY,GACZC,EAAmB,GAKnBphC,EAAMtE,KAAKsE,MACjBk8B,EAAa1nC,QAAQ6sC,IACnB,MAAMv9B,EAAUgI,GAAc7T,QAAU8L,EAAE5T,KAAOkxC,EAASx9B,WAC1D,IAAKC,EAAS,OAGd,MAAMw9B,EAAWthC,EAAM,IAAItE,KAAK2lC,EAASj9B,WAAW8yB,UAC9CqK,EAAYthC,KAAKuhC,KAAKF,UACtBG,EAAgBJ,EAASxO,OAAS0O,EAGxCN,EAAen9B,EAAQkI,WACpBi1B,EAAen9B,EAAQkI,WAAa,GAAKy1B,EAC5CP,EAAcp9B,EAAQzO,UACnB6rC,EAAcp9B,EAAQzO,UAAY,GAAKosC,EAG1C39B,EAAQw2B,KAAK9lC,QAAQktC,IACnBP,EAAUO,IAAQP,EAAUO,IAAQ,GAAKD,IAI3C,MAAMh2B,EACJ3H,EAAQoI,MAAQ,IAAO,MAAQpI,EAAQoI,MAAQ,IAAO,SAAW,OACnEk1B,EAAiB31B,IACd21B,EAAiB31B,IAAe,GAAKg2B,EAG3B,IAAI/lC,KAAK2lC,EAASj9B,WAAWm7B,aAwC5C,OAhCuBzzB,GAAcrV,IAAIqN,IACvC,IAAI2I,EAAQ,EAGZA,GAAmD,IAAzCw0B,EAAen9B,EAAQkI,WAAa,GAG9CS,GAAiD,KAAvCy0B,EAAcp9B,EAAQzO,UAAY,GAG5CyO,EAAQw2B,KAAK9lC,QAAQktC,IACnBj1B,GAAiC,IAAvB00B,EAAUO,IAAQ,KAI9B,MAAMj2B,EACJ3H,EAAQoI,MAAQ,IAAO,MAAQpI,EAAQoI,MAAQ,IAAO,SAAW,OACnEO,GAA+C,KAArC20B,EAAiB31B,IAAe,GAG1CgB,GAA0B,EAAjB3I,EAAQu2B,OASjB,OANsB6B,EAAa5tB,QAAUQ,EAAEjL,YAAcC,EAAQ3T,MAClDsc,GAAS,IAG5BA,GAAyB,EAAhBxM,KAAKC,SAEP,IAAK4D,EAAS2I,WAGDmC,KAAK,CAACC,EAAGC,IAAMA,EAAErC,MAAQoC,EAAEpC,OAAOnD,MAAM,EAAG,KAChE,CAAC4yB,EAAc6E,IAGZY,EAAkBl+B,cAAYI,IAClC,MAAMC,EAAUgI,GAAc7T,KAAK8L,GAAKA,EAAE5T,KAAO0T,GACjD,IAAKC,EAAS,MAAO,GA0BrB,OAvBgBgI,GAAc3N,OAAO4F,GAAKA,EAAE5T,KAAO0T,GAChDpN,IAAIsN,IACH,IAAI8I,EAAa,EAGb9I,EAAEiI,WAAalI,EAAQkI,WAAUa,GAAc,GAG/C9I,EAAE1O,UAAYyO,EAAQzO,UAASwX,GAAc,GAIjDA,GADmB9I,EAAEu2B,KAAKn8B,UAAc2F,EAAQw2B,KAAK/5B,SAASmhC,IACrC1gC,OAMzB,OAHkBf,KAAK2hC,IAAI79B,EAAEmI,MAAQpI,EAAQoI,OAASpI,EAAQoI,MAC9C,KAAKW,GAAc,GAE5B,IAAK9I,EAAG8I,gBAEhB+B,KAAK,CAACC,EAAGC,IAAMA,EAAEjC,WAAagC,EAAEhC,YAChCvD,MAAM,EAAG,IAGX,IAGGu4B,EAAmCp+B,cAAYI,IACnD,MAAMC,EAAUgI,GAAc7T,KAAK8L,GAAKA,EAAE5T,KAAO0T,GACjD,IAAKC,EAAS,MAAO,GA2BrB,OAvB8BgI,GAAc3N,OAAO4F,UACjD,GAAIA,EAAE5T,KAAO0T,EAAW,OAAO,EAG/B,GACEE,EAAE1O,UAAYyO,EAAQzO,SACtB0O,EAAEq2B,cAAgBt2B,EAAQs2B,YAE1B,OAAO,EAUT,OAAO,OAAApiC,EANe,CACpB9H,QAAS,CAAC,eACVoC,YAAa,CAAC,WACdC,UAAW,CAAC,cAAe,YAGRuR,EAAQkI,gBAAtB,EAAAhU,EAAiCuI,SAASwD,EAAEiI,YAElD4C,KAAK,IAAM3O,KAAKC,SAAW,IAC3BoJ,MAAM,EAAG,IAGX,IAGGw4B,EAAwBr+B,cAAY,CAACuI,EAAU+1B,EAAY,OACxDj2B,GAAc3N,OACnB4F,GAAKA,EAAEiI,WAAaA,GAAYjI,EAAE5T,KAAO4xC,GAExCnzB,KAAK,CAACC,EAAGC,IAAMA,EAAEurB,OAASxrB,EAAEwrB,QAC5B/wB,MAAM,EAAG,GACX,IAGG04B,EAAoBv+B,cAAY+uB,IACpC,IAAKA,GAAkC,IAArBA,EAAUxxB,aAAqB,GAEjD,MAAMihC,EAAiB,IAClB,IAAIxb,IACL+L,EACG/7B,IAAI+W,IACH,MAAM1J,EAAUgI,GAAc7T,QAAU8L,EAAE5T,KAAOqd,EAAK3J,WACtD,OAAO,MAAAC,OAAA,EAAAA,EAASkI,WAEjB7N,OAAO+jC,WAIRC,EAAmB,CACvBjyC,QAAS,CAAC,cAAe,aACzBoC,YAAa,CAAC,UAAW,aACzBC,UAAW,CAAC,cAAe,YAa7B,OAV0BuZ,GAAc3N,OAAO2F,IAEzC0uB,EAAUlkB,KAAKd,GAAQA,EAAK3J,YAAcC,EAAQ3T,KAG/C8xC,EAAe3zB,eACpB,cAAAtW,EAAAmqC,EAAiBC,SAAjB,EAAApqC,EAA2BuI,SAASuD,EAAQkI,aAIvB4C,KAAK,CAACC,EAAGC,IAAMA,EAAEurB,OAASxrB,EAAEwrB,QAAQ/wB,MAAM,EAAG,IACrE,IAGG+4B,EAAiB5+B,cAAYI,IACjC,MAAMC,EAAUgI,GAAc7T,KAAK8L,GAAKA,EAAE5T,KAAO0T,GACjD,IAAKC,EAAS,MAAO,GAcrB,OAZuBgI,GAAc3N,OAAO4F,IAC1C,GAAIA,EAAE5T,KAAO0T,EAAW,OAAO,EAG/B,MAAMy+B,GAAiBv+B,EAAEmI,MAAQpI,EAAQoI,OAASpI,EAAQoI,MAC1D,OACEnI,EAAEiI,WAAalI,EAAQkI,UACvBs2B,GAAiB,IACjBA,GAAiB,IAKlB1zB,KAAK,CAACC,EAAGC,KAER,MAAMyzB,EAAc1zB,EAAEwrB,QAAUxrB,EAAE3C,MAAQpI,EAAQoI,MAAQ,GAE1D,OADoB4C,EAAEurB,QAAUvrB,EAAE5C,MAAQpI,EAAQoI,MAAQ,GACrCq2B,IAEtBj5B,MAAM,EAAG,IACX,IAGGk5B,EAAmC/+B,cACvC,CAAC4H,EAAOo3B,EAAc,MACpB,MAAMC,EAAar3B,EAAMsB,cACnBg2B,EAAQD,EAAW5uC,MAAM,KAAKqK,OAAOykC,GAAQA,EAAK5hC,OAAS,GAEjE,OAAO8K,GAAcrV,IAAIqN,UACvB,IAAI0K,EAAiB,EA4BrB,GAzBI1K,EAAQ1T,KAAKuc,cAAcpM,SAASmiC,KACtCl0B,GAAkB,IAIpBm0B,EAAMnuC,QAAQouC,IACR9+B,EAAQ1T,KAAKuc,cAAcpM,SAASqiC,KAAOp0B,GAAkB,IAC7D1K,EAAQkI,SAASW,cAAcpM,SAASqiC,KAC1Cp0B,GAAkB,IAChB1K,EAAQs2B,YAAYztB,cAAcpM,SAASqiC,KAC7Cp0B,GAAkB,IAChB1K,EAAQw2B,KAAKhsB,KAAKozB,GAAOA,EAAI/0B,cAAcpM,SAASqiC,MACtDp0B,GAAkB,MAIlB1K,EAAQkI,SAASW,gBAAkB+1B,IAAYl0B,GAAkB,IACjE1K,EAAQs2B,YAAYztB,gBAAkB+1B,IACxCl0B,GAAkB,IAGhB1K,EAAQw2B,KAAKhsB,QAAYozB,EAAI/0B,gBAAkB+1B,KACjDl0B,GAAkB,IAGhB0tB,EAAal7B,OAAS,EAAG,CAC3B,MAAM6hC,GACJ,OAAA7qC,EAAA2lC,EAAUI,oBAAoB9lC,KAC5B4mC,GAAOA,EAAIzuC,OAAS0T,EAAQkI,gBAD9B,EAAAhU,EAEGyU,QAAS,EACd+B,GAA2C,GAAzBq0B,CACpB,CAMA,GAHAr0B,GAAmC,EAAjB1K,EAAQu2B,OAGtBoI,EAAYh3B,WAAY,CAC1B,MAAM4B,IAAEA,EAAAnI,IAAKA,GAAQu9B,EAAYh3B,WAC7B3H,EAAQoI,OAASmB,GAAOvJ,EAAQoI,OAAShH,IAC3CsJ,GAAkB,GAEtB,CAEA,MAAO,IAAK1K,EAAS0K,oBAEpBrQ,UAAkB2F,EAAQ0K,eAAiB,GAC3CI,KAAK,CAACC,EAAGC,IAAMA,EAAEN,eAAiBK,EAAEL,gBACpClF,MAAM,EAAG,KAEd,CAAC4yB,EAAcyB,IAIXmF,EAAmBr/B,cAAY,KACnC,MAAMs/B,EAAoB7G,EAAal7B,OACjCgiC,EAAiB,IAAIvc,IACzByV,EAAa/9B,OAAO2Q,GAAKA,EAAEjL,WAAWpN,IAAIqY,GAAKA,EAAEjL,YACjDzM,KACI6rC,EAAiB/G,EAAa/9B,OAClC2Q,GAAkB,aAAbA,EAAE9b,QACPgO,OACIkiC,EAAgBhH,EAAa/9B,OACjC2Q,GAAkB,cAAbA,EAAE9b,QACPgO,OAEF,MAAO,IACF28B,EACHoF,oBACAC,iBACAnF,eACEqF,EAAgB,EAAKD,EAAiBC,EAAiB,IAAM,EAC/DC,qBAAsB/G,EAAYU,eAAiB,GACnDsB,aAAcn+B,KAAKoN,IAAI,IAAyB,EAApB01B,EAAyC,GAAjBE,GACpDG,gBACEzF,EAAUG,gBAAkB,GACxB,OACAH,EAAUG,gBAAkB,GAC1B,SACA,MACRuF,oBAAqB,CACnBh2B,IACEpN,KAAKoN,OACA6uB,EACA/9B,OAAO2Q,UAAK,cAAA9W,EAAA8W,EAAE6vB,kBAAF,EAAA3mC,EAAekU,QAC3BzV,IAAIqY,GAAKA,EAAE6vB,YAAYzyB,SACvB,EACPhH,IACEjF,KAAKiF,OACAg3B,EACA/9B,OAAO2Q,UAAK,cAAA9W,EAAA8W,EAAE6vB,kBAAF,EAAA3mC,EAAekU,QAC3BzV,IAAIqY,GAAKA,EAAE6vB,YAAYzyB,SACvB,GAETo3B,cAAe3F,EAAUI,oBAAoBz0B,MAAM,EAAG,GACtDi6B,eAAgBrH,EAAa5yB,OAAM,MAEpC,CAAC4yB,EAAcyB,EAAWvB,IAGvBoH,EAAwB//B,cAAY/E,UACxCmI,GAAa,GAEb,UAEQ,IAAIlI,QAAQC,GAAWC,WAAWD,EAAS,MAEjDs+B,EAAmB,CACjBC,SAAU4D,IACV3D,aAAc4D,IACd3D,QAAS,GACTC,yBAA0B,GAC1BC,cAAe,GACfC,YAAa,GACbC,UAAW,GACXC,OAAQ,IAEZ,OAAS7qC,GAET,SACEgU,GAAa,EACf,GACC,CAACk6B,EAAkBC,IAGtBvtC,YAAU,KACR+vC,KACC,CAACA,IAGJ,MAAMC,EAA2BhgC,cAAY4H,IAC3C,MAAMq3B,EAAar3B,EAAMsB,cAEzB,OAAOb,GAAc3N,OACnB2F,GACEA,EAAQ1T,KAAKuc,cAAcpM,SAASmiC,IACpC5+B,EAAQkI,SAASW,cAAcpM,SAASmiC,IACxC5+B,EAAQs2B,YAAYztB,cAAcpM,SAASmiC,IAC3C5+B,EAAQw2B,KAAKhsB,KAAKozB,GAAOA,EAAI/0B,cAAcpM,SAASmiC,KAErD9zB,KAAK,CAACC,EAAGC,KAER,MAAM40B,EAAa70B,EAAEze,KAAKuc,cAAcpM,SAASmiC,GAC3CiB,EAAa70B,EAAE1e,KAAKuc,cAAcpM,SAASmiC,GACjD,OAAIgB,IAAeC,GAAmB,GACjCD,GAAcC,EAAmB,EAG/B70B,EAAEurB,OAASxrB,EAAEwrB,SAErB/wB,MAAM,EAAG,KACX,IAEG5U,EAAQ,CAEZwnC,eACAE,cACAuB,YACAV,kBACArqC,YAGAksC,gBACAY,qBACAI,mBACAE,uBACAM,cACAkD,wBAGAI,WAAY//B,IACLo5B,EAAgBI,QAAQx5B,KAC3Bo5B,EAAgBI,QAAQx5B,GAAa89B,EAAgB99B,IAEhDo5B,EAAgBI,QAAQx5B,IAGjCggC,4BAA6BhgC,IACtBo5B,EAAgBK,yBAAyBz5B,KAC5Co5B,EAAgBK,yBAAyBz5B,GACvCg+B,EAAiCh+B,IAE9Bo5B,EAAgBK,yBAAyBz5B,IAGlDigC,iBAAkB,CAAC93B,EAAU+1B,EAAY,QACvC,MAAMttC,EAAM,GAAGuX,KAAY+1B,GAAa,QAOxC,OANK9E,EAAgBM,cAAc9oC,KACjCwoC,EAAgBM,cAAc9oC,GAAOqtC,EACnC91B,EACA+1B,IAGG9E,EAAgBM,cAAc9oC,IAGvCsvC,aAAcvR,IACZ,MAAM/9B,EAAM+9B,EACT/7B,IAAI+W,GAAQA,EAAK3J,WACjB+K,OACA0gB,KAAK,KAIR,OAHK2N,EAAgBQ,UAAUhpC,KAC7BwoC,EAAgBQ,UAAUhpC,GAAOutC,EAAkBxP,IAE9CyK,EAAgBQ,UAAUhpC,IAGnCuvC,UAAWngC,IACJo5B,EAAgBS,OAAO75B,KAC1Bo5B,EAAgBS,OAAO75B,GAAaw+B,EAAex+B,IAE9Co5B,EAAgBS,OAAO75B,IAIhC4/B,2BACAjB,mCAGAyB,YAAa,IAAMhH,EAAgBE,SACnC+G,gBAAiB,IAAMjH,EAAgBG,aAGvC0F,mBACAqB,mBAAoB,IAAMxG,EAAUG,gBACpCsG,uBAAwB,IAAMzG,EAAUI,oBACxCsG,gBAAiB,IAAM1G,EAAUS,aAGjCkG,YAAa,IAAMx4B,GACnBy4B,WAAYp0C,GAAM2b,GAAc7T,KAAK8L,GAAKA,EAAE5T,KAAOA,GAGnDq0C,mBAAoB,MAClBC,gBAAiBrI,EAAYU,eAC7BC,aAAcX,EAAYW,aAAa/7B,OACvC0jC,WAAYtI,EAAYG,WAAWM,SAAW,SAAW,UACzDuG,gBACEzF,EAAUG,gBAAkB,GACxB,OACAH,EAAUG,gBAAkB,GAC1B,SACA,QAIV6G,0BAA2B,CAACruC,EAAU,aACpC,OAAQA,GACN,IAAK,aACH,OAAO2mC,EAAgBE,SACzB,IAAK,eACH,OAAOF,EAAgBG,aACzB,IAAK,SACH,MAAO,IACFH,EAAgBG,aAAa9zB,MAAM,EAAG,MACtC2zB,EAAgBE,SAAS7zB,MAAM,EAAG,IAEzC,QACE,OAAO2zB,EAAgBG,aAAap8B,OAAS,EACzCi8B,EAAgBG,aAChBH,EAAgBE,YAK5B,SACEznC,IAACykC,GAAsBxkC,SAAtB,CAA+BjB,QAC7BpB,YAGP,CC97BA,SAAwBsxC,KACtB,OACEhuC,OAAA8a,WAAA,CACEpe,SAAA,CAAAoC,MAAC,KACCyd,KAAK,QACLre,UAAU,gHACV,aAAW,uBACZxB,SAAA,yBAGDoC,MAAC,KACCyd,KAAK,cACLre,UAAU,iHACV,aAAW,qBACZxB,SAAA,yBAKP,CCfA,MAAqBuxC,WAAsBC,YACzC,WAAAC,CAAYC,GACVC,MAAMD,GAgDRE,EAAAtL,KAAA,eAAe,KACbjmC,OAAOC,SAASuxC,WAGlBD,EAAAtL,KAAA,eAAe,KACbjmC,OAAOC,SAASuf,KAAO,MAGzB+xB,EAAAtL,KAAA,cAAc,KACZA,KAAKwL,SAAS,CAAEC,UAAU,EAAOxyC,MAAO,KAAMyyC,UAAW,SAxDzD1L,KAAK7mC,MAAQ,CACXsyC,UAAU,EACVxyC,MAAO,KACPyyC,UAAW,KACXC,QAAS,KAEb,CAEA,+BAAOC,CAAyBC,GAC9B,MAAO,CACLJ,UAAU,EACVE,QAAS7pC,KAAKsE,MAAMG,SAAS,IAAMF,KAAKC,SAASC,SAAS,IAAIC,OAAO,GAEzE,CAEA,iBAAAslC,CAAkB7yC,EAAOyyC,GAIvB1L,KAAKwL,SAAS,CACZvyC,QACAyyC,cAIoB,oBAAX3xC,QAA0BA,OAAOgyC,MAC1ChyC,OAAOgyC,KAAK,QAAS,YAAa,CAChClU,YAAa5+B,EAAMsN,WACnBylC,OAAO,IAKX,IACMjyC,OAAO+iC,kBACT/iC,OAAO+iC,iBAAiB,CACtBzjC,KAAM,WACNu9B,SAAU,OACVf,QAAS,UAAU58B,EAAMyM,UACzBk/B,SAAU,CAAE+G,QAAS3L,KAAK7mC,MAAMwyC,UAGtC,OAASM,GAET,CACF,CAcA,MAAAC,GACE,GAAIlM,KAAK7mC,MAAMsyC,SAAU,CACvB,MAAMU,YAAEA,GAAc,EAAA1mC,MAAOA,EAAAC,QAAOA,GAAYs6B,KAAKoL,MAErD,SACEtvC,IAAC,OAAIZ,UAAU,qDACbxB,SAAAsD,OAACpF,EAAO+F,IAAP,CACCE,QAAS,CAAEC,QAAS,EAAGL,EAAG,IAC1BM,QAAS,CAAED,QAAS,EAAGL,EAAG,GAC1BvC,UAAU,+BAGVxB,SAAA,CAAAoC,MAAClE,EAAO+F,IAAP,CACCE,QAAS,CAAER,MAAO,GAClBU,QAAS,CAAEV,MAAO,GAClBY,WAAY,CAAE8Z,MAAO,GAAK1e,KAAM,SAAU2f,UAAW,KACrD9d,UAAU,kFAEVxB,eAAC+e,EAAA,CAAcjb,KAAM,GAAItC,UAAU,mBAIrCY,MAAC,MAAGZ,UAAU,0CACXxB,YAAS,yBAEZoC,MAAC,KAAEZ,UAAU,0BACVxB,YACC,mHAIH,OAAIwB,UAAU,yDACbxB,SAAAsD,OAAC,KAAE9B,UAAU,6BAA6BxB,SAAA,aAC9B,UACT,QAAKwB,UAAU,oDACbxB,SAAAsmC,KAAK7mC,MAAMwyC,iBAMlB3uC,KAAC,OAAI9B,UAAU,sDACbxB,SAAA,CAAAsD,OAAC,UACCE,QAAS8iC,KAAKoM,YACdlxC,UAAU,4GAEVxB,SAAA,GAAAoC,IAACuwC,EAAA,CAAU7uC,KAAM,KAAM,eAGzBR,OAAC,UACCE,QAAS8iC,KAAKsM,aACdpxC,UAAU,0GAEVxB,SAAA,GAAAoC,IAACuwC,EAAA,CAAU7uC,KAAM,KAAM,iBAGzBR,OAAC,UACCE,QAAS8iC,KAAKuM,aACdrxC,UAAU,0HAEVxB,SAAA,GAAAoC,IAAC0wC,EAAA,CAAKhvC,KAAM,KAAM,kBAMpB2uC,GAAuCnM,KAAK7mC,MAAMF,OAClD+D,OAACpF,EAAOi+B,QAAP,CACCh4B,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAAS,GACpBG,WAAY,CAAE8Z,MAAO,IACrB7c,UAAU,2DAEVxB,SAAA,GAAAsD,KAAC,WAAQ9B,UAAU,uEACjBxB,SAAA,GAAAoC,IAAC2wC,EAAA,CAAIjvC,KAAM,KAAM,yBAGnBR,KAAC,OAAI9B,UAAU,iCACbxB,SAAA,CAAAsD,OAAC,OACCtD,SAAA,GAAAoC,IAAC,UAAOpC,SAAA,WACRoC,MAAC,OAAIZ,UAAU,oDACZxB,cAAKP,MAAMF,MAAMsN,gBAGrBy5B,KAAK7mC,MAAMuyC,aACV1uC,KAAC,OACCtD,SAAA,GAAAoC,IAAC,UAAOpC,SAAA,2BACP,OAAIwB,UAAU,oDACZxB,SAAAsmC,KAAK7mC,MAAMuyC,UAAUgB,8BAU1C,CAEA,OAAO1M,KAAKoL,MAAM1xC,QACpB,ECpKF,MAAMizC,GAAc,CAClB90C,SAAU,IACVyH,SAAU,YACVvE,MAAO,CACLjE,WAAY,OACZw3B,MAAO,UACPse,UACE,0EACF11C,OAAQ,oBACRmB,aAAc,YAKLw0C,GAAennC,IAC1BonC,EAAMj/B,QAAQnI,EAAS,CACrB7N,SAAU80C,GAAY90C,SACtBkD,MAAO4xC,GAAY5xC,MACnBgyC,UAAW,CACTp2C,QAAS,UACTC,UAAW,cAKJo2C,GAAatnC,IACxBonC,EAAM7zC,MAAMyM,EAAS,CACnB7N,SAAU80C,GAAY90C,SACtBkD,MAAO4xC,GAAY5xC,MACnBgyC,UAAW,CACTp2C,QAAS,UACTC,UAAW,cAaJq2C,GAAevnC,GACnBonC,EAAM7oC,QAAQyB,EAAS,CAC5B7N,SAAU80C,GAAY90C,SACtBkD,MAAO4xC,GAAY5xC,QAIVmyC,GAAgBC,IAC3BL,EAAMM,QAAQD,IAIhB,SAAwBE,KACtB,OACEvxC,MAACwxC,EAAA,CACChuC,SAAUqtC,GAAYrtC,SACtBiuC,aAAc,CACZ11C,SAAU80C,GAAY90C,SACtBkD,MAAO4xC,GAAY5xC,OAErByyC,cAAc,GAGpB,CCpEA,IAAIC,GAAoC,oBAAZC,QACxBC,GAAwB,mBAARrO,IAChBsO,GAAwB,mBAAR/gB,IAChBghB,GAAwC,mBAAhBC,eAAgCA,YAAYC,OAIxE,SAASC,GAAM/4B,EAAGC,GAEhB,GAAID,IAAMC,EAAG,OAAO,EAEpB,GAAID,GAAKC,GAAiB,iBAALD,GAA6B,iBAALC,EAAe,CAC1D,GAAID,EAAEk2B,cAAgBj2B,EAAEi2B,YAAa,OAAO,EAE5C,IAAI/jC,EAAQkM,EAAGjH,EA6BX4hC,EA5BJ,GAAIC,MAAMC,QAAQl5B,GAAI,CAEpB,IADA7N,EAAS6N,EAAE7N,SACG8N,EAAE9N,OAAQ,OAAO,EAC/B,IAAKkM,EAAIlM,EAAgB,IAARkM,KACf,IAAK06B,GAAM/4B,EAAE3B,GAAI4B,EAAE5B,IAAK,OAAO,EACjC,OAAO,CACb,CAuBI,GAAIq6B,IAAW14B,aAAaqqB,KAASpqB,aAAaoqB,IAAM,CACtD,GAAIrqB,EAAEzX,OAAS0X,EAAE1X,KAAM,OAAO,EAE9B,IADAywC,EAAKh5B,EAAEta,YACE2Y,EAAI26B,EAAGG,QAAQC,UACjBn5B,EAAEuY,IAAIna,EAAExY,MAAM,IAAK,OAAO,EAEjC,IADAmzC,EAAKh5B,EAAEta,YACE2Y,EAAI26B,EAAGG,QAAQC,UACjBL,GAAM16B,EAAExY,MAAM,GAAIoa,EAAEyqB,IAAIrsB,EAAExY,MAAM,KAAM,OAAO,EACpD,OAAO,CACb,CAEI,GAAI8yC,IAAW34B,aAAa4X,KAAS3X,aAAa2X,IAAM,CACtD,GAAI5X,EAAEzX,OAAS0X,EAAE1X,KAAM,OAAO,EAE9B,IADAywC,EAAKh5B,EAAEta,YACE2Y,EAAI26B,EAAGG,QAAQC,UACjBn5B,EAAEuY,IAAIna,EAAExY,MAAM,IAAK,OAAO,EACjC,OAAO,CACb,CAGI,GAAI+yC,IAAkBC,YAAYC,OAAO94B,IAAM64B,YAAYC,OAAO74B,GAAI,CAEpE,IADA9N,EAAS6N,EAAE7N,SACG8N,EAAE9N,OAAQ,OAAO,EAC/B,IAAKkM,EAAIlM,EAAgB,IAARkM,KACf,GAAI2B,EAAE3B,KAAO4B,EAAE5B,GAAI,OAAO,EAC5B,OAAO,CACb,CAEI,GAAI2B,EAAEk2B,cAAgBmD,OAAQ,OAAOr5B,EAAEs5B,SAAWr5B,EAAEq5B,QAAUt5B,EAAEu5B,QAAUt5B,EAAEs5B,MAK5E,GAAIv5B,EAAEw5B,UAAY/zC,OAAOg0C,UAAUD,SAAgC,mBAAdx5B,EAAEw5B,SAA+C,mBAAdv5B,EAAEu5B,QAAwB,OAAOx5B,EAAEw5B,YAAcv5B,EAAEu5B,UAC3I,GAAIx5B,EAAE1O,WAAa7L,OAAOg0C,UAAUnoC,UAAkC,mBAAf0O,EAAE1O,UAAiD,mBAAf2O,EAAE3O,SAAyB,OAAO0O,EAAE1O,aAAe2O,EAAE3O,WAKhJ,IADAa,GADAiF,EAAO3R,OAAO2R,KAAK4I,IACL7N,UACC1M,OAAO2R,KAAK6I,GAAG9N,OAAQ,OAAO,EAE7C,IAAKkM,EAAIlM,EAAgB,IAARkM,KACf,IAAK5Y,OAAOg0C,UAAUC,eAAe5O,KAAK7qB,EAAG7I,EAAKiH,IAAK,OAAO,EAKhE,GAAIm6B,IAAkBx4B,aAAay4B,QAAS,OAAO,EAGnD,IAAKp6B,EAAIlM,EAAgB,IAARkM,KACf,IAAiB,WAAZjH,EAAKiH,IAA+B,QAAZjH,EAAKiH,IAA4B,QAAZjH,EAAKiH,KAAiB2B,EAAE25B,YAarEZ,GAAM/4B,EAAE5I,EAAKiH,IAAK4B,EAAE7I,EAAKiH,KAAM,OAAO,EAK7C,OAAO,CACX,CAEE,OAAO2B,GAAMA,GAAKC,GAAMA,CAC1B,YAGiB,SAAiBD,EAAGC,GACnC,IACE,OAAO84B,GAAM/4B,EAAGC,EACpB,OAAWjc,GACP,IAAMA,EAAMyM,SAAW,IAAIkN,MAAM,oBAO/B,OAAO,EAGT,MAAM3Z,CACV,CACA,cCtHgB,SAAS41C,EAAWxtC,EAAQ4T,EAAGC,EAAGsV,EAAGna,EAAGI,EAAGq+B,GAOzD,IAAKD,EAAW,CACd,IAAI51C,EACJ,QAAe,IAAXoI,EACFpI,EAAQ,IAAIkD,MACV,qIAGG,CACL,IAAI4yC,EAAO,CAAC95B,EAAGC,EAAGsV,EAAGna,EAAGI,EAAGq+B,GACvBE,EAAW,GACf/1C,EAAQ,IAAIkD,MACVkF,EAAOlG,QAAQ,MAAO,WAAa,OAAO4zC,EAAKC,IAAU,KAErDx4C,KAAO,sBAIf,MADAyC,EAAMg2C,YAAc,EACdh2C,CAAA,CAEV,cC5CiB,SAAsBi2C,EAAMC,EAAMC,EAASC,GAC1D,IAAIC,EAAMF,EAAUA,EAAQrP,KAAKsP,EAAgBH,EAAMC,QAAQ,EAE/D,QAAY,IAARG,EACF,QAASA,EAGX,GAAIJ,IAASC,EACX,OAAO,EAGT,GAAoB,iBAATD,IAAsBA,GAAwB,iBAATC,IAAsBA,EACpE,OAAO,EAGT,IAAII,EAAQ70C,OAAO2R,KAAK6iC,GACpBM,EAAQ90C,OAAO2R,KAAK8iC,GAExB,GAAII,EAAMnoC,SAAWooC,EAAMpoC,OACzB,OAAO,EAMT,IAHA,IAAIqoC,EAAkB/0C,OAAOg0C,UAAUC,eAAee,KAAKP,GAGlDQ,EAAM,EAAGA,EAAMJ,EAAMnoC,OAAQuoC,IAAO,CAC3C,IAAI90C,EAAM00C,EAAMI,GAEhB,IAAKF,EAAgB50C,GACnB,OAAO,EAGT,IAAI+0C,EAASV,EAAKr0C,GACdg1C,EAASV,EAAKt0C,GAIlB,IAAY,KAFZy0C,EAAMF,EAAUA,EAAQrP,KAAKsP,EAAgBO,EAAQC,EAAQh1C,QAAO,SAEtC,IAARy0C,GAAkBM,IAAWC,EACjD,OAAO,CAEb,CAEE,OAAO,CACT,GCjCA,IAAIC,IAA8BC,IAChCA,EAAiB,KAAI,OACrBA,EAAiB,KAAI,OACrBA,EAAiB,KAAI,OACrBA,EAAiB,KAAI,OACrBA,EAAiB,KAAI,OACrBA,EAAiB,KAAI,OACrBA,EAAqB,SAAI,WACzBA,EAAmB,OAAI,SACvBA,EAAkB,MAAI,QACtBA,EAAkB,MAAI,QACtBA,EAAqB,SAAI,yBAClBA,IACND,IAAa,IACZE,GACI,CAAEC,IAAK,CAAC,UAAW,YAAa,cADpCD,GAEM,CAAE32C,KAAM,CAAC,wBAFf22C,GAGI,CACJE,QAAS,GACT15C,KAAM,CAAC,YAAa,SAAU,eAC9B25C,SAAU,CACR,UACA,WACA,SACA,WACA,eACA,iBACA,cACA,gBACA,sBACA,gBACA,oBACA,eACA,iBAIFC,GAAkB11C,OAAOa,OAAOu0C,IAChCO,GAAgB,CAClBC,UAAW,YACXJ,QAAS,UACTK,MAAO,YACPC,gBAAiB,kBACjBC,YAAa,cACb,aAAc,YACdC,SAAU,WACVC,SAAU,YAERC,GAAel2C,OAAOC,QAAQ01C,IAAenjB,OAC/C,CAAC2jB,GAAQh2C,EAAKC,MACZ+1C,EAAM/1C,GAASD,EACRg2C,GAET,IAEEC,GAAmB,UAGnBC,GACa,eADbA,GAEK,QAFLA,GAGyB,0BAHzBA,GAIsB,sBAJtBA,GAKc,gBALdA,GAMmB,oBAEnBC,GAAuB,CAACC,EAAWd,KACrC,QAAS78B,EAAI29B,EAAU7pC,OAAS,EAAGkM,GAAK,EAAGA,GAAK,EAAG,CACjD,MAAM83B,EAAQ6F,EAAU39B,GACxB,GAAI5Y,OAAOg0C,UAAUC,eAAe5O,KAAKqL,EAAO+E,GAC9C,OAAO/E,EAAM+E,EAEjB,CACA,OAAO,MAELe,GAAyBD,IAC3B,IAAIE,EAAiBH,GAAqBC,EAAW,SACrD,MAAMG,EAAoBJ,GAAqBC,EAAWF,IAI1D,GAHI7C,MAAMC,QAAQgD,KAChBA,EAAiBA,EAAezb,KAAK,KAEnC0b,GAAqBD,EACvB,OAAOC,EAAkBj2C,QAAQ,MAAO,IAAMg2C,GAEhD,MAAME,EAAwBL,GAAqBC,EAAWF,IAC9D,OAAOI,GAAkBE,QAAyB,GAEhDC,GAA0BL,GAAcD,GAAqBC,EAAWF,WAC5E,GACIQ,GAA6B,CAACC,EAASP,IAAcA,EAAU1sC,OAAQ6mC,QAAoC,IAAnBA,EAAMoG,IAA0B30C,IAAKuuC,GAAUA,EAAMoG,IAAUtkB,OAAO,CAACukB,EAAU5iC,KAAA,IAAkB4iC,KAAa5iC,IAAY,IACpN6iC,GAA0B,CAACC,EAAmBV,IAAcA,EAAU1sC,OAAQ6mC,QAA8C,IAA7BA,QAA0CvuC,IAAKuuC,GAAUA,EAAY,MAAcwG,UAAU1kB,OAAO,CAAC2kB,EAAkB/J,KACxN,IAAK+J,EAAiBzqC,OAAQ,CAC5B,MAAMiF,EAAO3R,OAAO2R,KAAKy7B,GACzB,QAASx0B,EAAI,EAAGA,EAAIjH,EAAKjF,OAAQkM,GAAK,EAAG,CACvC,MACMw+B,EADezlC,EAAKiH,GACiBP,cAC3C,IAAyD,IAArD4+B,EAAkBtb,QAAQyb,IAAiChK,EAAIgK,GACjE,OAAOD,EAAiBE,OAAOjK,EAEnC,CACF,CACA,OAAO+J,GACN,IAECG,GAAuB,CAACx3B,EAASm3B,EAAmBV,KACtD,MAAMgB,EAAmB,GACzB,OAAOhB,EAAU1sC,OAAQ6mC,KACnB8C,MAAMC,QAAQ/C,EAAM5wB,WAGM,IAAnB4wB,EAAM5wB,KAE+D4wB,EAAM5wB,GATtE03B,SAAkBA,QAAQC,OAYnC,IACNt1C,IAAKuuC,GAAUA,EAAM5wB,IAAUo3B,UAAU1kB,OAAO,CAACklB,EAAcC,KAChE,MAAMC,EAAmB,GACzBD,EAAa9tC,OAAQujC,IACnB,IAAIyK,EACJ,MAAMC,EAAQ93C,OAAO2R,KAAKy7B,GAC1B,QAASx0B,EAAI,EAAGA,EAAIk/B,EAAMprC,OAAQkM,GAAK,EAAG,CACxC,MAAMm/B,EAAeD,EAAMl/B,GACrBw+B,EAAwBW,EAAa1/B,mBACvC4+B,EAAkBtb,QAAQyb,IAA2D,QAAxBS,GAAsF,cAA3CzK,EAAIyK,GAAqBx/B,eAA8D,QAA1B++B,GAA0F,eAA7ChK,EAAIgK,GAAuB/+B,gBAC/Ow/B,EAAsBT,IAEwB,IAA5CH,EAAkBtb,QAAQoc,IAA0C,cAAjBA,GAAkE,YAAjBA,GAA8D,aAAjBA,IACnJF,EAAsBE,EAE1B,CACA,IAAKF,IAAwBzK,EAAIyK,GAC/B,OAAO,EAET,MAAMz3C,EAAQgtC,EAAIyK,GAAqBx/B,cAOvC,OANKk/B,EAAiBM,KACpBN,EAAiBM,GAAuB,IAErCD,EAAiBC,KACpBD,EAAiBC,GAAuB,KAErCN,EAAiBM,GAAqBz3C,KACzCw3C,EAAiBC,GAAqBz3C,IAAS,GACxC,KAGR82C,UAAUh3C,QAASktC,GAAQsK,EAAa9nC,KAAKw9B,IAChD,MAAMz7B,EAAO3R,OAAO2R,KAAKimC,GACzB,QAASh/B,EAAI,EAAGA,EAAIjH,EAAKjF,OAAQkM,GAAK,EAAG,CACvC,MAAMm/B,EAAepmC,EAAKiH,GACpBo/B,EAAW,IACZT,EAAiBQ,MACjBH,EAAiBG,IAEtBR,EAAiBQ,GAAgBC,CACnC,CACA,OAAON,GACN,IAAIR,WAELe,GAA0B,CAAC1B,EAAW2B,KACxC,GAAI1E,MAAMC,QAAQ8C,IAAcA,EAAU7pC,OACxC,QAASqO,EAAQ,EAAGA,EAAQw7B,EAAU7pC,OAAQqO,GAAS,EAAG,CAExD,GADaw7B,EAAUx7B,GACdm9B,GACP,OAAO,CAEX,CAEF,OAAO,GAoCLC,GAAgBC,GAAkB5E,MAAMC,QAAQ2E,GAAiBA,EAAcpd,KAAK,IAAMod,EAU1FC,GAAc,CAACC,EAAcC,IAC3B/E,MAAMC,QAAQ6E,GACTA,EAAa9lB,OAClB,CAACgmB,EAAKC,KAZY,EAAC/H,EAAOgI,KAC9B,MAAM/mC,EAAO3R,OAAO2R,KAAK++B,GACzB,QAAS93B,EAAI,EAAGA,EAAIjH,EAAKjF,OAAQkM,GAAK,EACpC,GAAI8/B,EAAQ/mC,EAAKiH,KAAO8/B,EAAQ/mC,EAAKiH,IAAI3M,SAASykC,EAAM/+B,EAAKiH,KAC3D,OAAO,EAGX,OAAO,GAMG+/B,CAAkBF,EAAcF,GAClCC,EAAIptC,SAASwE,KAAK6oC,GAElBD,EAAIh7C,QAAQoS,KAAK6oC,GAEZD,GAET,CAAEptC,SAAU,GAAI5N,QAAS,KAGtB,CAAEA,QAAS86C,EAAcltC,SAAU,IAExCwtC,GAAU,CAACC,EAAK14C,KACX,IACF04C,EACH14C,CAACA,QAAM,IAKP24C,GAAoB,CAAC,WAA2B,SAAuB,SACvEC,GAA0B,CAACC,EAAKC,GAAS,KAC5B,IAAXA,EACKC,OAAOF,GAETE,OAAOF,GAAKv4C,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,UAAUA,QAAQ,KAAM,UAE1H04C,GAAqCC,GAAep5C,OAAO2R,KAAKynC,GAAY5mB,OAAO,CAACwmB,EAAK74C,KAC3F,MAAMk5C,OAAkC,IAApBD,EAAWj5C,GAAuB,GAAGA,MAAQi5C,EAAWj5C,MAAU,GAAGA,IACzF,OAAO64C,EAAM,GAAGA,KAAOK,IAASA,GAC/B,IAwBCC,GAAuC,CAACF,EAAYG,EAAY,KAAOv5C,OAAO2R,KAAKynC,GAAY5mB,OAAO,CAACqmB,EAAK14C,KAE9G04C,EADelD,GAAcx1C,IACfA,GAAOi5C,EAAWj5C,GACzB04C,GACNU,GASCC,GAA+B,CAAC76C,EAAMqnC,IAASA,EAAK7jC,IAAI,CAACirC,EAAKx0B,KAChE,MAAM6gC,EAAY,CAChBt5C,IAAKyY,EACLw9B,CAACA,KAAmB,GAYtB,OAVAp2C,OAAO2R,KAAKy7B,GAAKltC,QAASw5C,IACxB,MACMC,EADShE,GAAc+D,IACKA,EAClC,GAAwB,cAApBC,GAAwE,YAApBA,EAA8C,CACpG,MAAMrW,EAAU8J,EAAIwM,WAAaxM,EAAIyM,QACrCJ,EAAUK,wBAA0B,CAAEC,OAAQzW,EAChD,MACEmW,EAAUE,GAAmBvM,EAAIsM,KAG9BtgC,EAAMgqB,cAAczkC,EAAM86C,KAE/BO,GAAmB,CAACr7C,EAAMqnC,EAAMiT,GAAS,KAC3C,OAAQt6C,GACN,IAAK,QACH,MAAO,CACLs7C,YAAa,IA7Be,EAACC,EAAOnvC,EAAOquC,KACjD,MAIM1I,EAAQ4I,GAAqCF,EAJjC,CAChBj5C,IAAK4K,EACLqrC,CAACA,KAAmB,IAGtB,MAAO,CAACh9B,EAAMgqB,cAAc,QAAqBsN,EAAO3lC,KAuB/BovC,CAA8Bx7C,EAAMqnC,EAAKj7B,MAAOi7B,EAAKoU,iBACxEvuC,SAAU,IA1DU,EAAClN,EAAMoM,EAAOquC,EAAYH,KACpD,MAAMoB,EAAkBlB,GAAkCC,GACpDkB,EAAiBnC,GAAaptC,GACpC,OAAOsvC,EAAkB,IAAI17C,KAAQy3C,aAA2BiE,KAAmBtB,GACjFuB,EACArB,OACIt6C,KAAU,IAAIA,KAAQy3C,aAA2B2C,GACrDuB,EACArB,OACIt6C,MAiDgB47C,CAAsB57C,EAAMqnC,EAAKj7B,MAAOi7B,EAAKoU,gBAAiBnB,IAElF,IAAK,iBACL,IAAK,iBACH,MAAO,CACLgB,YAAa,IAAMX,GAAqCtT,GACxDn6B,SAAU,IAAMstC,GAAkCnT,IAEtD,QACE,MAAO,CACLiU,YAAa,IAAMT,GAA6B76C,EAAMqnC,GACtDn6B,SAAU,IA1DS,EAAClN,EAAMqnC,EAAMiT,GAAS,IAASjT,EAAKxT,OAAO,CAACwmB,EAAK9yC,KAC1E,MAAMknC,EAAMlnC,EACNs0C,EAAgBx6C,OAAO2R,KAAKy7B,GAAKvjC,OACpC6vC,KAA8B,cAAdA,GAA4D,YAAdA,IAC/DlnB,OAAO,CAACioB,EAAQf,KAChB,MAAML,OAAiC,IAAnBjM,EAAIsM,GAA6BA,EAAY,GAAGA,MAAcX,GAAwB3L,EAAIsM,GAAYT,MAC1H,OAAOwB,EAAS,GAAGA,KAAUpB,IAASA,GACrC,IACGqB,EAAatN,EAAIwM,WAAaxM,EAAIyM,SAAW,GAC7Cc,GAAoD,IAApC7B,GAAkBnd,QAAQh9B,GAChD,MAAO,GAAGq6C,KAAOr6C,KAAQy3C,aAA2BoE,IAAgBG,EAAgB,KAAO,IAAID,MAAe/7C,QAC7G,IA+CqBi8C,CAAqBj8C,EAAMqnC,EAAMiT,MAgErD4B,GAlCoBnK,IACtB,MAAMoK,QACJA,EAAAC,eACAA,EAAA9B,OACAA,GAAS,EAAA+B,eACTA,EAAAC,aACAA,EAAAC,UACAA,EAAAnwC,MACAA,EAAQ,GAAAqvC,gBACRA,EAAAe,kBACAA,GACEzK,EACJ,IAAI0K,SAAEA,EAAAC,SAAUA,EAAAC,WAAUA,GAAe5K,EACrC6K,EAAkB,CACpBtB,YAAa,OAEbpuC,SAAU,IAAM,IAKlB,OAHIsvC,KACCI,kBAAiBH,WAAUC,WAAUC,cA7CnB,GAAGD,WAAUD,WAAUE,aAAYrC,aAC1D,MAAMuC,EAAOnD,GAAYgD,EAAU/F,IAC7BjkB,EAAOgnB,GAAY+C,EAAU9F,IAC7BmG,EAASpD,GAAYiD,EAAYhG,IAgBvC,MAAO,CACLiG,gBAhBsB,CACtBtB,YAAa,IAAM,IACdT,GAA6B,OAAmBgC,EAAKpwC,aACrDouC,GAA6B,OAAmBnoB,EAAKjmB,aACrDouC,GAA6B,SAAuBiC,EAAOrwC,WAEhES,SAAU,OAELmuC,GAAiB,OAAmBwB,EAAKpwC,SAAU6tC,MAAWe,GAC/D,OACA3oB,EAAKjmB,SACL6tC,MACGe,GAAiB,SAAuByB,EAAOrwC,SAAU6tC,MAKhEoC,SAAUG,EAAKh+C,QACf49C,SAAU/pB,EAAK7zB,QACf89C,WAAYG,EAAOj+C,UAsBoCk+C,CAAmBhL,IAErE,CACLtlC,SAAUmwC,EACVI,KAAM3B,GAAiB,OAAmBc,EAAS7B,GACnD8B,eAAgBf,GAAiB,iBAA6Be,EAAgB9B,GAC9E+B,eAAgBhB,GAAiB,iBAA6BgB,EAAgB/B,GAC9E5nB,KAAM2oB,GAAiB,OAAmBoB,EAAUnC,GACpDuC,KAAMxB,GAAiB,OAAmBqB,EAAUpC,GACpD2C,SAAU5B,GAAiB,WAA2BiB,EAAchC,GACpEwC,OAAQzB,GAAiB,SAAuBsB,EAAYrC,GAC5D54C,MAAO25C,GAAiB,QAAqBkB,EAAWjC,GACxDluC,MAAOivC,GAAiB,QAAqB,CAAEjvC,QAAOqvC,mBAAmBnB,KAMzE4C,GAAY,GACZC,KAAkC,oBAAXz8C,SAA0BA,OAAOS,WAAYT,OAAOS,SAASsjC,eACpF2Y,GAAa,MAmBf,WAAAtL,CAAYlvC,EAASy6C,GAlBrBpL,EAAAtL,KAAA,YAAY,IACZsL,EAAAtL,KAAA,YAAYwW,IACZlL,EAAAtL,KAAA,WACAsL,EAAAtL,KAAA,QAAQ,CACN2W,UAAYC,IACV5W,KAAK/jC,QAAQ46C,OAASD,GAExBE,gBAAiB,CACfnX,IAAK,IAAMK,KAAK0W,UAAYH,GAAYvW,KAAKuW,UAC7Cl7C,IAAM07C,KACH/W,KAAK0W,UAAYH,GAAYvW,KAAKuW,WAAWjsC,KAAKysC,IAErD5pB,OAAS4pB,IACP,MAAMthC,GAASuqB,KAAK0W,UAAYH,GAAYvW,KAAKuW,WAAWlgB,QAAQ0gB,IACnE/W,KAAK0W,UAAYH,GAAYvW,KAAKuW,WAAWS,OAAOvhC,EAAO,OAKhEuqB,KAAK/jC,QAAUA,EACf+jC,KAAK0W,UAAYA,IAAa,EACzBA,IACHz6C,EAAQ46C,OAAStB,GAAe,CAC9BC,QAAS,GACTC,eAAgB,GAEhBC,eAAgB,GAChBI,SAAU,GACVC,SAAU,GACVJ,aAAc,GACdK,WAAY,GACZJ,UAAW,GACXnwC,MAAO,GACPqvC,gBAAiB,KAGvB,GAKEmC,GAAUC,EAAO19C,cADF,IAEf29C,IAAiB/4C,EAAA,cAA8B8sC,YAGjD,WAAAC,CAAYC,GACVC,MAAMD,GAFRE,EAAAtL,KAAA,cAGEA,KAAKoX,WAAa,IAAIX,GAAWzW,KAAKoL,MAAMnvC,SAAW,GAAImC,EAAgBs4C,UAC7E,CACA,MAAAxK,GACE,OAAuBgL,EAAOpZ,cAAcmZ,GAAQl7C,SAAU,CAAEjB,MAAOklC,KAAKoX,WAAWt8C,OAASklC,KAAKoL,MAAM1xC,SAC7G,GARA4xC,EADmBltC,EACZ,YAAYo4C,IADAp4C,GAiBjBi5C,GAAa,CAACh+C,EAAMqnC,KACtB,MAAM4W,EAAc98C,SAASojC,MAAQpjC,SAAS6jC,cAAc,QACtDkZ,EAAWD,EAAYE,iBAAiB,GAAGn+C,KAAQy3C,OACnD2G,EAAU,GAAG/nC,MAAMqwB,KAAKwX,GACxBG,EAAU,GAChB,IAAIC,EAkCJ,OAjCIjX,GAAQA,EAAKt5B,QACfs5B,EAAK9lC,QAASktC,IACZ,MAAM8P,EAAap9C,SAASsjC,cAAczkC,GAC1C,UAAW+6C,KAAatM,EACtB,GAAIptC,OAAOg0C,UAAUC,eAAe5O,KAAK+H,EAAKsM,GAC5C,GAAkB,cAAdA,EACFwD,EAAWtD,UAAYxM,EAAIwM,eAC7B,GAAyB,YAAdF,EACLwD,EAAWC,WACbD,EAAWC,WAAWtD,QAAUzM,EAAIyM,QAEpCqD,EAAW1Z,YAAY1jC,SAASs9C,eAAehQ,EAAIyM,cAEhD,CACL,MAAMR,EAAOK,EACPt5C,OAA6B,IAAdgtC,EAAIiM,GAAwB,GAAKjM,EAAIiM,GAC1D6D,EAAWG,aAAa3D,EAAWt5C,EACrC,CAGJ88C,EAAWG,aAAajH,GAAkB,QACtC2G,EAAQ/iC,KAAK,CAACsjC,EAAaviC,KAC7BkiC,EAAgBliC,EACTmiC,EAAWK,YAAYD,KAE9BP,EAAQT,OAAOW,EAAe,GAE9BD,EAAQptC,KAAKstC,KAInBH,EAAQ78C,QAASktC,UAAQ,cAAA1pC,EAAA0pC,EAAIoQ,iBAAJ,EAAA95C,EAAgB+5C,YAAYrQ,KACrD4P,EAAQ98C,QAASktC,GAAQwP,EAAYpZ,YAAY4J,IAC1C,CACL2P,UACAC,YAGAU,GAAmB,CAAC59B,EAASs5B,KAC/B,MAAMuE,EAAa79C,SAAS89C,qBAAqB99B,GAAS,GAC1D,IAAK69B,EACH,OAEF,MAAME,EAAwBF,EAAWG,aAAa1H,IAChD2H,EAAmBF,EAAwBA,EAAsBr+C,MAAM,KAAO,GAC9Ew+C,EAAqB,IAAID,GACzBE,EAAgBj+C,OAAO2R,KAAKynC,GAClC,UAAWM,KAAauE,EAAe,CACrC,MAAM79C,EAAQg5C,EAAWM,IAAc,GACnCiE,EAAWG,aAAapE,KAAet5C,GACzCu9C,EAAWN,aAAa3D,EAAWt5C,IAEO,IAAxC29C,EAAiBpiB,QAAQ+d,IAC3BqE,EAAiBnuC,KAAK8pC,GAExB,MAAMwE,EAAcF,EAAmBriB,QAAQ+d,IAC3B,IAAhBwE,GACFF,EAAmB1B,OAAO4B,EAAa,EAE3C,CACA,QAAStlC,EAAIolC,EAAmBtxC,OAAS,EAAGkM,GAAK,EAAGA,GAAK,EACvD+kC,EAAWQ,gBAAgBH,EAAmBplC,IAE5CmlC,EAAiBrxC,SAAWsxC,EAAmBtxC,OACjDixC,EAAWQ,gBAAgB/H,IAClBuH,EAAWG,aAAa1H,MAAsB6H,EAAcjjB,KAAK,MAC1E2iB,EAAWN,aAAajH,GAAkB6H,EAAcjjB,KAAK,OAS7DojB,GAAmB,CAACC,EAAUC,KAChC,MAAMxD,QACJA,EAAAC,eACAA,EAAAC,eACAA,EAAAI,SACAA,EAAAC,SACAA,EAAAJ,aACAA,EAAAsD,oBACAA,EAAAjD,WACAA,EAAAJ,UACAA,EAAAnwC,MACAA,EAAAqvC,gBACAA,GACEiE,EACJX,GAAiB,OAAmB3C,GACpC2C,GAAiB,OAAmB1C,GArBpB,EAACjwC,EAAOquC,UACH,IAAVruC,GAAyBjL,SAASiL,QAAUA,IACrDjL,SAASiL,MAAQotC,GAAaptC,IAEhC2yC,GAAiB,QAAqBtE,IAkBtCoF,CAAYzzC,EAAOqvC,GACnB,MAAMqE,EAAa,CACjB3D,QAAS6B,GAAW,OAAmB7B,GACvCM,SAAUuB,GAAW,OAAmBvB,GACxCC,SAAUsB,GAAW,OAAmBtB,GACxCJ,aAAc0B,GAAW,WAA2B1B,GACpDK,WAAYqB,GAAW,SAAuBrB,GAC9CJ,UAAWyB,GAAW,QAAqBzB,IAEvCwD,EAAY,GACZC,EAAc,GACpB3+C,OAAO2R,KAAK8sC,GAAYv+C,QAAS42C,IAC/B,MAAMkG,QAAEA,EAAAD,QAASA,GAAY0B,EAAW3H,GACpCkG,EAAQtwC,SACVgyC,EAAU5H,GAAWkG,GAEnBD,EAAQrwC,SACViyC,EAAY7H,GAAW2H,EAAW3H,GAASiG,WAG3CuB,GACFA,IAEFC,EAAoBF,EAAUK,EAAWC,IAEvCC,GAAkB,KAgBlBC,GAf6BR,IAC3BO,IACFE,qBAAqBF,IAEnBP,EAASU,MACXH,GAAkBI,sBAAsB,KACtCZ,GAAiBC,EAAU,KACzBO,GAAkB,UAItBR,GAAiBC,GACjBO,GAAkB,OAMlBK,GAAmB,cAAcC,YAAd,WAAAzO,GAAAE,SAAAwO,WACrBvO,EAAAtL,KAAA,YAAW,GACX,qBAAA8Z,CAAsBC,GACpB,OAAQC,GAAaD,EAAW/Z,KAAKoL,MACvC,CACA,kBAAA6O,GACEja,KAAKka,YACP,CACA,oBAAAC,GACE,MAAMrD,gBAAEA,GAAoB9W,KAAKoL,MAAMnvC,QACvC66C,EAAgB3pB,OAAO6S,MACvBA,KAAKka,YACP,CACA,UAAAA,GACE,MAAMpD,gBAAEA,EAAAH,UAAiBA,GAAc3W,KAAKoL,MAAMnvC,QAClD,IAAI26C,EAAc,KAClB,MAAMz9C,GAlbgB83C,EAmbpB6F,EAAgBnX,MAAM9iC,IAAKk6C,IACzB,MAAM3L,EAAQ,IAAK2L,EAAS3L,OAE5B,cADOA,EAAMnvC,QACNmvC,IAtbW,CACxBoK,QAAS9D,GAAwB,CAAC,QAAoBT,GACtDwE,eAAgBlE,GAA2B,iBAA6BN,GACxEwI,MAAOzI,GAAqBC,EAAWF,IACvC4C,OAAQ3C,GAAqBC,EAAWF,IACxC2E,eAAgBnE,GAA2B,iBAA6BN,GACxE6E,SAAU9D,GACR,OACA,CAAC,MAAiB,QAClBf,GAEF8E,SAAU/D,GACR,OACA,CACE,OACA,UACA,aACA,WACA,YAEFf,GAEF0E,aAAc3D,GAAqB,WAA2B,CAAC,aAA+Bf,GAC9FgI,oBAAqB3H,GAAuBL,GAC5C+E,WAAYhE,GACV,SACA,CAAC,MAAiB,aAClBf,GAEF2E,UAAW5D,GAAqB,QAAqB,CAAC,WAA2Bf,GACjFxrC,MAAOyrC,GAAsBD,GAC7B6D,gBAAiBvD,GAA2B,kBAA+BN,GAC3E4E,kBAAmBlD,GAAwB1B,EAAWF,MAhC/B,IAACE,EAyblBkG,GAAeT,UACjB6C,GAAepgD,GACNo8C,KACTqB,EAAcrB,GAAep8C,IAE/Bw9C,EAAUC,EACZ,CAIA,IAAAwD,GACE,GAAIpa,KAAKqa,SACP,OAEFra,KAAKqa,UAAW,EAChB,MAAMvD,gBAAEA,GAAoB9W,KAAKoL,MAAMnvC,QACvC66C,EAAgBz7C,IAAI2kC,MACpBA,KAAKka,YACP,CACA,MAAAhO,GAEE,OADAlM,KAAKoa,OACE,IACT,GAIEE,IAASpqB,EAAA,cAAcqqB,YAMzB,qBAAAT,CAAsBC,GACpB,OAAQS,GAAYlH,GAAQtT,KAAKoL,MAAO,cAAekI,GAAQyG,EAAW,cAC5E,CACA,wBAAAU,CAAyBC,EAAOC,GAC9B,IAAKA,EACH,OAAO,KAET,OAAQD,EAAMrhD,MACZ,IAAK,SACL,IAAK,WACH,MAAO,CACLi7C,UAAWqG,GAEf,IAAK,QACH,MAAO,CACLpG,QAASoG,GAEb,QACE,MAAM,IAAIx+C,MACR,IAAIu+C,EAAMrhD,0GAGlB,CACA,wBAAAuhD,CAAyBF,EAAOG,EAAmBC,EAAeH,GAChE,MAAO,IACFE,EACH,CAACH,EAAMrhD,MAAO,IACTwhD,EAAkBH,EAAMrhD,OAAS,GACpC,IACKyhD,KACA9a,KAAKya,yBAAyBC,EAAOC,KAIhD,CACA,qBAAAI,CAAsBL,EAAOM,EAAUF,EAAeH,GACpD,OAAQD,EAAMrhD,MACZ,IAAK,QACH,MAAO,IACF2hD,EACH,CAACN,EAAMrhD,MAAOshD,EACd7F,gBAAiB,IAAKgG,IAE1B,IAAK,OACH,MAAO,IACFE,EACHvF,eAAgB,IAAKqF,IAEzB,IAAK,OACH,MAAO,IACFE,EACHtF,eAAgB,IAAKoF,IAEzB,QACE,MAAO,IACFE,EACH,CAACN,EAAMrhD,MAAO,IAAKyhD,IAG3B,CACA,2BAAAG,CAA4BJ,EAAmBG,GAC7C,IAAIE,EAAoB,IAAKF,GAO7B,OANAtgD,OAAO2R,KAAKwuC,GAAmBjgD,QAASugD,IACtCD,EAAoB,IACfA,EACHC,CAACA,GAAiBN,EAAkBM,MAGjCD,CACT,CACA,qBAAAE,CAAsBV,EAAOC,GAW3B,OAVAU,GACEjL,GAAgB17B,KAAMle,GAASkkD,EAAMrhD,OAAS7C,GACxB,mBAAfkkD,EAAMrhD,KAAsB,oIAAsI,uBAAuB+2C,GAAgB1a,KAC9M,yDACmDglB,EAAMrhD,0DAE7DgiD,IACGV,GAA4C,iBAAnBA,GAA+BzM,MAAMC,QAAQwM,KAAoBA,EAAejmC,KAAM4mC,GAAuC,iBAAhBA,GACvI,0CAA0CZ,EAAMrhD,6DAA6DqhD,EAAMrhD,gBAAgBqhD,EAAMrhD,mDAEpI,CACT,CACA,kBAAAkiD,CAAmB7hD,EAAUshD,GAC3B,IAAIH,EAAoB,GAqCxB,OApCAW,EAAOC,SAAS7gD,QAAQlB,EAAWghD,IACjC,IAAKA,IAAUA,EAAMtP,MACnB,OAEF,MAAQ1xC,SAAUihD,KAAmBe,GAAehB,EAAMtP,MACpD0P,EAAgBpgD,OAAO2R,KAAKqvC,GAAYxuB,OAAO,CAACqmB,EAAK14C,KACzD04C,EAAI3C,GAAa/1C,IAAQA,GAAO6gD,EAAW7gD,GACpC04C,GACN,IACH,IAAIl6C,KAAEA,GAASqhD,EAMf,OALoB,iBAATrhD,EACTA,EAAOA,EAAKkN,WAEZy5B,KAAKob,sBAAsBV,EAAOC,GAE5BthD,GACN,IAAK,yBACH2hD,EAAWhb,KAAKub,mBAAmBZ,EAAgBK,GACnD,MACF,IAAK,OACL,IAAK,OACL,IAAK,WACL,IAAK,SACL,IAAK,QACHH,EAAoB7a,KAAK4a,yBACvBF,EACAG,EACAC,EACAH,GAEF,MACF,QACEK,EAAWhb,KAAK+a,sBAAsBL,EAAOM,EAAUF,EAAeH,MAIrE3a,KAAKib,4BAA4BJ,EAAmBG,EAC7D,CACA,MAAA9O,GACE,MAAMxyC,SAAEA,KAAa0xC,GAAUpL,KAAKoL,MACpC,IAAI4P,EAAW,IAAK5P,IAChBgM,WAAEA,GAAehM,EAIrB,GAHI1xC,IACFshD,EAAWhb,KAAKub,mBAAmB7hD,EAAUshD,IAE3C5D,KAAgBA,aAAsBX,IAAa,CAErDW,EAAa,IAAIX,GADJW,EACoBn7C,SAAS,UACnC++C,EAAS5D,UAClB,CACA,OAAOA,EAA6BoE,EAAO1d,cAAc6b,GAAkB,IAAKqB,EAAU/+C,QAASm7C,EAAWt8C,QAA2B0gD,EAAO1d,cAAcmZ,GAAQ0E,SAAU,KAAO1/C,GAA4Bu/C,EAAO1d,cAAc6b,GAAkB,IAAKqB,EAAU/+C,YAC3Q,GA7IAqvC,EADWpb,EACJ,eAAe,CACpBupB,OAAO,EACPhG,yBAAyB,EACzBoC,mBAAmB,IAJV3lB,GCxoBN,MAAMjvB,GACN,CACHzK,KAAM,UCAH,SAASolD,IAAYliD,SAAEA,IAC5B,OAAOoC,MAACq7C,IAAgBz9C,YAC1B,CAEO,SAASmiD,IAAIp2C,MAClBA,EAAAoyB,YACAA,EAAArlB,SACAA,EAAAmuB,MACAA,EAAAvD,IACAA,EAAA/jC,KACAA,EAAO,UAAAyiD,QACPA,GAAU,EAAAC,UACVA,EAAAC,mBACAA,EAAAC,eACAA,IAEA,MAAMC,EAAWj7C,GAAWzK,KACtB2lD,EAAY12C,EAAQ,GAAGA,OAAWy2C,IAAaA,EAC/CE,EACJhf,IAA0B,oBAAXrjC,OAAyBA,OAAOC,SAASuf,KAAO,IAG3D8iC,EAAmBxkB,GADvB,6HAIIykB,EAAa3b,GADE,uBAEf4b,EAAeD,EAAWE,WAAW,QACvCF,EACA,GAAqB,oBAAXviD,OAAyBA,OAAOC,SAASyiD,OAAS,KAAKH,IAE/DI,EAAkB,CACtB,gBACA,eACA,gBACA,kBACA,mBACA,kBACA,sBACA,sBAEIC,EAAgBnqC,EAClB,IAAIA,KAAakqC,GACjBA,EAEJ,cACGpC,GAAA,CAEC5gD,SAAA,GAAAoC,IAAC,SAAOpC,SAAAyiD,IACRrgD,MAAC,QAAKtF,KAAK,cAAcwnC,QAASqe,IAClCvgD,MAAC,QAAKtF,KAAK,WAAWwnC,QAAS2e,EAAcjnB,KAAK,QAGjDqmB,KAAajgD,IAAC,QAAKm0C,IAAI,YAAY12B,KAAMwiC,IAG1CjgD,MAAC,QACCtF,KAAK,SACLwnC,QAAS8d,EAAU,mBAAqB,iBAI1ChgD,MAAC,QAAKq0C,SAAS,UAAUnS,QAAS3kC,IAClCyC,MAAC,QAAKq0C,SAAS,WAAWnS,QAASme,IACnCrgD,MAAC,QAAKq0C,SAAS,iBAAiBnS,QAASqe,IACzCvgD,MAAC,QAAKq0C,SAAS,WAAWnS,QAASue,IACnCzgD,MAAC,QAAKq0C,SAAS,SAASnS,QAASoe,IACjCtgD,MAAC,QAAKq0C,SAAS,eAAenS,QAASke,IAGvCpgD,MAAC,QAAKtF,KAAK,eAAewnC,QAAQ,wBAClCliC,MAAC,QAAKtF,KAAK,gBAAgBwnC,QAASme,IACpCrgD,MAAC,QAAKtF,KAAK,sBAAsBwnC,QAASqe,IAC1CvgD,MAAC,QAAKtF,KAAK,gBAAgBwnC,QAASue,IAGpCzgD,MAAC,QAAKtF,KAAK,SAASwnC,QAASke,IAC7BpgD,MAAC,QAAKtF,KAAK,WAAWwnC,QAAQ,0CAC9BliC,MAAC,QAAKiiC,UAAU,mBAAmBC,QAAQ,OAG1Cge,GACCA,EAAmBn/C,IAAIyD,GACrBxE,MAAC,QAECm0C,IAAI,YACJ2M,SAAUt8C,EAAKu8C,SACftjC,KAAMjZ,EAAKiZ,MAHNjZ,EAAKu8C,WAQfZ,SACE,UAAO5iD,KAAK,sBACVK,SAAAgL,KAAKE,UAAUq3C,OAK1B,CCxEA,MAAMzP,GAAOsQ,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAAuBC,qCAChDC,GAAWJ,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA2BC,qCACxDE,GAAOL,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAAuBC,sCAChDG,GAAUN,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA0BC,oCACtDI,GAAOP,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAAuBC,kCAChDK,GAAWR,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA2BC,kCACxDM,GAAYT,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA4BC,gCAC1DO,GAAQV,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAAwBC,kCAClDQ,GAAUX,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA0BC,kCACtDS,GAAQZ,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAAwBC,kCAClDU,GAAWb,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA2BC,kCACxDW,GAAUd,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA0BC,kCACtDY,GAAoBf,OACxB,UAAME,OAAO,uBAAoCC,kCAE7Ca,GAAYhB,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA0BC,gCACxDc,GAAkBjB,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA2BC,gCAC/De,GAAelB,OAAK,IAAAC,EAAA,IAAMC,OAAO,8BAA+BC,gCAChEgB,GAAanB,OAAK,IAAAC,EAAA,IAAMC,OAAO,4BAAmCC,gCAClEiB,GAAWpB,OAAK,IAAAC,EAAA,IAAMC,OAAO,uBAA2BC,kCAG9D,SAASkB,KACP,SACEnhD,KAAC,OAAI9B,UAAU,gDACbxB,SAAA,GAAAoC,IAAC,OAAIZ,UAAU,kEACfY,MAAC,QAAKZ,UAAU,0CAA0CxB,SAAA,iBAKhE,CAEA,SAAwB0kD,KAItB,OChEK,WACL,MAAOC,EAASC,GAAcv2C,WAAS,CACrCw2C,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,KAAM,OAGR9kD,YAAU,KAER,GAAsB,oBAAXE,OAAwB,OAGnC,MAAM6kD,EAAaC,YAAYC,iBAAiB,cAAc,GAS9D,GARIF,GACFN,EAAW5zC,IAAA,IACNA,EACHi0C,KAAMC,EAAWG,cAAgBH,EAAWI,gBAK5C,wBAAyBjlD,OAAQ,CAEnC,MAAMklD,EAAc,IAAIC,oBAAoBC,IAC1C,MACMZ,EADUY,EAAKC,aACD/gD,KAClBghD,GAAwB,2BAAfA,EAAM7oD,MAEb+nD,GACFD,UAAyB5zC,EAAM6zC,IAAKA,EAAI7b,eAKtC4c,EAAc,IAAIJ,oBAAoBC,IAC1C,MAAMxkD,EAAUwkD,EAAKC,aACfG,EAAY5kD,EAAQA,EAAQyM,OAAS,GAC3Ck3C,UAAyB5zC,EAAM8zC,IAAKe,EAAU7c,eAI1C8c,EAAc,IAAIN,oBAAoBC,IAC1C,MACMM,EADUN,EAAKC,aACM,GAC3Bd,EAAW5zC,IAAA,IACNA,EACH+zC,IAAKgB,EAAWC,gBAAkBD,EAAW/c,eAK3Cid,EAAc,IAAIT,oBAAoBC,IAC1C,IAAIS,EAAW,EACf,MAAMjlD,EAAUwkD,EAAKC,aAErB,UAAWC,KAAS1kD,EACb0kD,EAAMQ,iBACTD,GAAYP,EAAMvkD,OAItBwjD,UAAyB5zC,EAAMg0C,IAAKkB,OAGtC,IACEX,EAAYa,QAAQ,CAAEC,WAAY,CAAC,WACnCT,EAAYQ,QAAQ,CAAEC,WAAY,CAAC,8BACnCP,EAAYM,QAAQ,CAAEC,WAAY,CAAC,iBACnCJ,EAAYG,QAAQ,CAAEC,WAAY,CAAC,iBACrC,OAAS9mD,GAET,CAEA,MAAO,KACLgmD,EAAYe,aACZV,EAAYU,aACZR,EAAYQ,aACZL,EAAYK,aAEhB,GACC,IAGHnmD,YAAU,OAkBP,CAACwkD,GAGN,CD5CE4B,GAGEnkD,MAAC8/B,GAAA,CACCliC,SAAAoC,MAACsjC,GAAA,CACC1lC,SAAAoC,MAACoE,GAAA,CACCxG,SAAAoC,MAACumC,GAAA,CACC3oC,SAAAoC,MAACrC,GAAA,CACCC,SAAAoC,MAACk/B,GAAA,CACCthC,SAAAoC,MAAC8/C,GAAA,CACCliD,SAAAoC,MAACusB,GAAA,CACC3uB,SAAAoC,MAACgR,GAAA,CACCpT,SAAAoC,MAAC0I,GAAA,CACC9K,SAAAoC,MAAC84B,GAAA,CACCl7B,SAAAoC,MAAC8L,GAAA,CACClO,SAAAoC,MAACs7B,GAAA,CACC19B,SAAAoC,MAAC2zB,GAAA,CACC/1B,eAACgzB,GAAA,CACChzB,SAAAoC,MAACokD,EAAA,CACCC,OAAQ,CACNC,oBAAoB,EACpBC,sBAAsB,GAGxB3mD,eAACma,GAAA,CACCna,SAAAoC,MAACmkC,IACCvmC,SAAAsD,OAAC,OAAI9B,UAAU,8DACbxB,SAAA,CAAAoC,MAACkvC,GAAA,UACAxxB,GAAA,UACA,QAAKjjB,GAAG,OAAO2E,UAAU,QACxBxB,eAACuxC,GAAA,CACCvxC,SAAAoC,MAACwkD,WAAA,CACCz/C,eAAWs9C,GAAA,IAEXzkD,gBAAC6mD,EAAA,CACC7mD,SAAA,CAAAoC,MAAC0kD,EAAA,CACCC,KAAK,IACLngB,cAAUkM,GAAA,MAEZ1wC,MAAC0kD,EAAA,CACCC,KAAK,WACLngB,cAAUkM,GAAA,MAEZ1wC,MAAC0kD,EAAA,CACCC,KAAK,eACLngB,cAAUkM,GAAA,MAEZ1wC,MAAC0kD,EAAA,CACCC,KAAK,aACLngB,cAAUkM,GAAA,MAEZ1wC,MAAC0kD,EAAA,CACCC,KAAK,QACLngB,cAAU6c,GAAA,MAEZrhD,MAAC0kD,EAAA,CACCC,KAAK,sBACLngB,cAAU4c,GAAA,MAEZphD,MAAC0kD,EAAA,CACCC,KAAK,eACLngB,cAAU8c,GAAA,MAEZthD,MAAC0kD,EAAA,CACCC,KAAK,QACLngB,cAAU+c,GAAA,MAEZvhD,MAAC0kD,EAAA,CACCC,KAAK,YACLngB,cAAUgd,GAAA,MAEZxhD,MAAC0kD,EAAA,CACCC,KAAK,aACLngB,cAAUid,GAAA,MAEZzhD,MAAC0kD,EAAA,CACCC,KAAK,SACLngB,cAAUkd,GAAA,MAEZ1hD,MAAC0kD,EAAA,CACCC,KAAK,WACLngB,cAAUmd,GAAA,MAEZ3hD,MAAC0kD,EAAA,CACCC,KAAK,SACLngB,cAAUod,GAAA,MAEZ5hD,MAAC0kD,EAAA,CACCC,KAAK,YACLngB,cAAUqd,GAAA,MAEZ7hD,MAAC0kD,EAAA,CACCC,KAAK,WACLngB,cAAUsd,GAAA,MAEZ9hD,MAAC0kD,EAAA,CACCC,KAAK,aACLngB,cAAUwd,GAAA,MAEZhiD,MAAC0kD,EAAA,CACCC,KAAK,oBACLngB,cACGyd,GAAA,MAGLjiD,MAAC0kD,EAAA,CACCC,KAAK,kBACLngB,cAAU0d,GAAA,MAEZliD,MAAC0kD,EAAA,CACCC,KAAK,sBACLngB,cACGud,GAAA,MAGL/hD,MAAC0kD,EAAA,CACCC,KAAK,WACLngB,cAAU2d,GAAA,MAGZniD,MAAC0kD,EAAA,CACCC,KAAK,IACLngB,cAAU4d,GAAA,qBAMnBrzB,GAAA,UACAwiB,GAAA,0CAqB3C,CEjNal3C,EAAWqE,SAASkmD,eAAe,SAC3CxU,aACFp4B,EAAM6sC,WAAN,CACCjnD,SAAAoC,MAACsiD","names":["m","require$$0","createRoot","hydrateRoot","SEGMENT_THEMES","leather","id","name","slug","colors","primary","secondary","accent","background","surface","foreground","muted","border","ring","texture","overlay","card","shadows","sm","md","lg","xl","motion","duration","fast","normal","slow","easing","default","spring","smooth","borderRadius","full","spacing","section","component","electronics","furniture","SEGMENT_ACTIONS","initialState","activeSegment","theme","isLoading","error","segmentReducer","state","action","type","payload","SegmentContext","createContext","SegmentProvider","children","dispatch","useReducer","useEffect","urlSegment","window","location","pathname","split","localStorage","setItem","savedSegment","getItem","root","document","documentElement","Object","entries","forEach","key","value","style","setProperty","body","className","replace","classList","add","segments","values","setSegment","segment","newPath","history","pushState","isCurrentSegment","jsx","Provider","useSegment","context","useContext","Error","SEGMENT_ICONS","Package","Smartphone","Sofa","SEGMENT_DESCRIPTIONS","SegmentSwitcher","variant","handleSegmentChange","segmentId","map","Icon","isActive","jsxs","button","onClick","backgroundColor","whileHover","scale","whileTap","layout","size","y","AnimatePresence","div","layoutId","initial","opacity","animate","exit","transition","mode","ease","_a","find","s","FloatingSegmentSwitcher","x","LANGUAGES","en","code","nativeName","dir","flag","hi","ar","TRANSLATIONS","CURRENCY_CONFIG","INR","symbol","locale","position","SAR","USD","EUR","GBP","I18N_ACTIONS","language","currency","region","direction","i18nReducer","I18nContext","I18nProvider","savedLanguage","savedCurrency","savedRegion","lang","languages","currencies","setLanguage","setCurrency","setRegion","t","fallback","formatCurrency","amount","currencyCode","config","Intl","NumberFormat","minimumFractionDigits","format","formatNumber","number","formatDate","date","DateTimeFormat","year","month","day","Date","isRTL","useI18n","NotificationContext","NOTIFICATION_TYPES","ORDER_CONFIRMATION","ORDER_STATUS_UPDATE","PAYMENT_CONFIRMATION","SHIPPING_UPDATE","CUSTOMIZATION_UPDATE","ADMIN_ALERT","SYSTEM_NOTIFICATION","NOTIFICATION_CHANNELS","EMAIL","SMS","WHATSAPP","IN_APP","PUSH","NOTIFICATION_PRIORITIES","LOW","MEDIUM","HIGH","URGENT","NOTIFICATION_ACTIONS","notifications","preferences","email","orderUpdates","customizationUpdates","promotions","newsletter","sms","whatsapp","inApp","all","loading","notificationReducer","notification","read","readAt","toISOString","filter","NotificationProvider","savedPreferences","JSON","parse","stringify","simulateEmailNotification","async","Promise","resolve","setTimeout","simulateSMSNotification","simulateWhatsAppNotification","sendNotification","data","channels","template","templates","title","message","orderNumber","total","icon","priority","statusAr","status","trackingNumber","requestId","getNotificationTemplate","now","Math","random","toString","substr","createdAt","userId","includes","updatePreferences","newPreferences","markAsRead","notificationId","markAllAsRead","deleteNotification","clearAllNotifications","getUnreadCount","length","getNotificationsByType","shouldSendNotification","channel","prefs","useNotifications","InventoryContext","useInventory","InventoryProvider","inventory","setInventory","useState","alerts","setAlerts","settings","setSettings","lowStockThreshold","criticalStockThreshold","enableAlerts","alertChannels","autoReorderEnabled","autoReorderThreshold","setLoading","addNotification","notificationContext","mockInventoryData","useMemo","prod_001","stock","reserved","incoming","reorderPoint","maxStock","prod_002","prod_003","prod_004","prod_005","prod_006","prod_007","prod_008","checkInventoryAlerts","useCallback","inventoryData","newAlerts","products","productId","product","p","productName","availableStock","push","threshold","timestamp","acknowledged","prev","alert","initInventory","updateStock","newStock","updated","allAlerts","reserveStock","quantity","reject","currentStock","releaseStock","max","confirmStock","addIncomingStock","_expectedDate","receiveStock","acknowledgeAlert","alertId","clearAlerts","updateSettings","newSettings","getStockStatus","available","getInventorySummary","summary","totalProducts","keys","outOfStock","criticalStock","lowStock","inStock","totalValue","_productId","AuthContext","useAuth","AuthProvider","user","setUser","setIsLoading","storedUser","removeItem","isAuthenticated","login","credentials","password","userData","firstName","lastName","role","avatar","success","logout","register","newUser","updateProfile","updates","updatedUser","NotificationBell","isOpen","setIsOpen","setFilter","bellRef","useRef","unreadCount","handleClickOutside","event","current","contains","target","addEventListener","removeEventListener","formatTimeAgo","notificationTime","diffInMinutes","floor","hours","days","filteredNotifications","displayedNotifications","slice","ref","rotate","repeat","repeatDelay","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","span","label","tab","e","stopPropagation","SearchContext","SEARCH_TYPES","PRODUCTS","CATEGORIES","BRANDS","COLLECTIONS","ALL","RESULT_TYPES","PRODUCT","CATEGORY","BRAND","COLLECTION","SUGGESTION","SEARCH_ACTIONS","query","results","suggestions","filters","priceRange","sortBy","searchHistory","popularSearches","totalResults","MOCK_PRODUCTS","nameAr","category","categoryAr","price","brand","keywords","MOCK_CATEGORIES","MOCK_BRANDS","fuzzyMatch","match","score","queryLower","toLowerCase","targetLower","similarity","levenshteinDistance","str1","str2","matrix","i","j","charAt","min","searchReducer","newHistory","item","SearchProvider","React","savedHistory","performSearch","trim","searchQuery","mergedFilters","searchResults","productResults","nameMatch","categoryMatch","brandMatch","keywordMatch","some","keyword","relevanceScore","calculateRelevanceScore","categoryResults","brandResults","sort","a","b","result","Number","generateSuggestions","text","uniqueSuggestions","suggestion","index","self","findIndex","setQuery","setFilters","clearHistory","EnhancedSearch","onResultSelect","placeholder","showFilters","useSearch","localQuery","setLocalQuery","showFiltersPanel","setShowFiltersPanel","searchRef","inputRef","debounceTimer","clearTimeout","handleSearch","handleHistoryClick","historyQuery","handleFilterChange","filterKey","getSuggestionIcon","priceRanges","sortOptions","backdropFilter","Search","onChange","onFocus","onKeyDown","focus","X","Filter","range","option","Fragment","delay","handleSuggestionClick","ArrowRight","Clock","TrendingUp","term","InventoryAlerts","onClose","filteredAlerts","getAlertIcon","AlertTriangle","TrendingDown","Info","getAlertColor","formatTime","toLocaleDateString","damping","stiffness","cardBackground","Bell","borderHover","textSecondary","Check","NAVIGATION_ITEMS","href","FloatingNavbar","isScrolled","setIsScrolled","isMobileMenuOpen","setIsMobileMenuOpen","isSearchOpen","setIsSearchOpen","isInventoryAlertsOpen","setIsInventoryAlertsOpen","showCurrencyDropdown","setShowCurrencyDropdown","showLanguageDropdown","setShowLanguageDropdown","handleScroll","scrollY","clickedInside","tagName","parentElement","isAdmin","Globe","ChevronDown","curr","nav","User","ShoppingBag","Menu","currencyMap","SA","AE","QA","KW","BH","OM","IQ","JO","LB","SY","YE","IL","PS","TR","IR","AF","AD","AL","AT","BA","BE","BG","BY","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MC","MD","ME","MK","MT","NL","NO","PL","PT","RO","RS","RU","SE","SI","SK","SM","UA","VA","XK","US","CA","MX","AR","BR","CL","CO","PE","VE","EC","UY","PY","BO","GY","SR","FK","GF","CU","DO","HT","JM","TT","BB","BS","BZ","CR","GT","HN","NI","PA","SV","AG","DM","GD","KN","LC","VC","AI","AW","BM","BQ","CW","GL","GP","KY","MQ","MS","PM","PR","SX","TC","VG","VI","CN","JP","KR","IN","TH","VN","ID","MY","SG","PH","BD","PK","LK","NP","BT","MV","MM","KH","LA","MN","TW","HK","MO","AU","NZ","FJ","PG","VU","SB","NC","PF","WS","TO","KI","TV","NR","PW","FM","MH","CK","NU","TK","EG","ZA","NG","KE","MA","TN","DZ","LY","SD","ET","GH","CI","SN","ML","BF","NE","TG","BJ","GN","SL","LR","CM","CF","TD","CG","GA","GQ","AO","ZM","ZW","BW","NA","SZ","LS","MW","MZ","MG","MU","SC","KM","DJ","SO","ER","UG","TZ","RW","BI","regionMap","CURRENCIES","localeCompare","REGIONS","LocationContext","useLocation","LocationProvider","setLocation","country","manualOverride","setManualOverride","detectByIP","response","fetch","json","countryCode","country_code","detectedRegion","detectedCurrency","country_name","detectLocation","navigator","geolocation","getCurrentPosition","latitude","longitude","coords","countryName","effectiveCurrency","effectiveRegion","setManualCurrency","setManualRegion","CurrencySelector","showRegion","isCurrencyOpen","setIsCurrencyOpen","isRegionOpen","setIsRegionOpen","currencyRef","regionRef","currentCurrency","c","getButtonClasses","baseClasses","getDropdownClasses","getItemClasses","Footer","socialLinks","Facebook","Instagram","Twitter","Youtube","footerLinks","shop","company","support","whileInView","viewport","once","MapPin","Phone","Mail","social","IconComponent","link","li","method","toUpperCase","CartContext","cartReducer","qty","exists","items","nextQty","n","CartProvider","updatingItems","setUpdatingItems","Set","api","itemsArr","v","count","reduce","remove","setQty","newSet","delete","clear","isUpdating","has","useCart","ctx","ORDER_STATUSES","PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","CANCELLED","REFUNDED","STATUS_CONFIG","labelAr","color","step","ORDER_ACTIONS","orders","orderReducer","newOrder","customer","shipping","payment","totals","updatedAt","tracking","messageAr","automated","estimatedDelivery","shippingCarrier","order","orderId","OrderContext","OrderProvider","savedOrders","updateOrderStatus","options","getOrderById","statusConfig","addTrackingUpdate","notificationData","phone","_b","_c","notificationType","_d","trackingData","createOrder","orderData","getOrderByNumber","getStatusConfig","simulateOrderProgress","useOrder","AuditContext","ROLES","SUPER_ADMIN","ADMIN","MANAGER","MODERATOR","VIEWER","CUSTOMER","PERMISSIONS","PRODUCTS_VIEW","PRODUCTS_CREATE","PRODUCTS_EDIT","PRODUCTS_DELETE","PRODUCTS_BULK_IMPORT","ORDERS_VIEW","ORDERS_EDIT","ORDERS_REFUND","ORDERS_CANCEL","ORDERS_EXPORT","USERS_VIEW","USERS_CREATE","USERS_EDIT","USERS_DELETE","USERS_ASSIGN_ROLES","CUSTOMIZATION_VIEW","CUSTOMIZATION_EDIT","CUSTOMIZATION_APPROVE","CUSTOMIZATION_REJECT","THEMES_VIEW","THEMES_EDIT","THEMES_CREATE","THEMES_DELETE","ANALYTICS_VIEW","ANALYTICS_EXPORT","REPORTS_GENERATE","SETTINGS_VIEW","SETTINGS_EDIT","AUDIT_LOGS_VIEW","SECURITY_MANAGE","ROLES_MANAGE","ROLE_PERMISSIONS","AUDIT_ACTIONS","LOGIN","LOGOUT","CREATE","UPDATE","DELETE","VIEW","EXPORT","APPROVE","REJECT","REFUND","CANCEL","ROLE_CHANGE","PERMISSION_CHANGE","SETTINGS_CHANGE","THEME_CHANGE","SECURITY_EVENT","AUDIT_ACTIONS_TYPES","logs","currentUser","permissions","auditReducer","AuditProvider","savedLogs","logsToSave","hasPermission","permission","userRole","isCriticalAction","getFilteredLogs","filteredLogs","log","resource","startDate","endDate","exportLogsAsCSV","join","userName","ipAddress","details","hasAnyPermission","hasAllPermissions","every","hasRole","hasMinimumRole","minimumRole","roleHierarchy","indexOf","logAction","logEntry","userEmail","userAgent","sessionId","sessionStorage","severity","exportLogs","clearOldLogs","daysToKeep","cutoffDate","useAudit","ShippingContext","useShipping","ShippingProvider","shippingMethods","setShippingMethods","selectedMethod","setSelectedMethod","shippingAddress","setShippingAddress","setTrackingData","mockShippingMethods","description","provider","estimatedDays","trackingAvailable","baseRate","freeThreshold","maxWeight","supportedRegions","storeLocations","address","city","coordinates","lat","lng","calculateShippingRate","cartItems","deliveryAddress","methodId","totalWeight","sum","weight","rate","originalRate","isFree","ceil","cityLower","weightSurcharge","calculateEstimatedDelivery","parseInt","deliveryDate","setDate","getDate","getStatusDescription","pending","picked_up","in_transit","out_for_delivery","delivered","getStatusLocation","getAvailableShippingMethods","rateInfo","createShipment","shipmentData","timeline","trackShipment","mockStatuses","currentStatusIndex","currentStatus","trackingInfo","lastUpdated","ThemeContext","ThemeProvider","setTheme","systemTheme","setSystemTheme","mediaQuery","matchMedia","matches","handler","savedTheme","effectiveTheme","newTheme","cspConfig","SecurityProvider","setupCSPListener","violations","setViolations","reportViolation","violation","report","directive","violatedDirective","blockedUri","blockedURI","documentUri","documentURI","lineNumber","sourceFile","handleCSPViolation","originalEvent","useCSPReporting","logSecurityEvent","securityEvents","setSecurityEvents","threatLevel","setThreatLevel","securityEvent","url","recentEvents","getTime","highSeverityCount","mediumSeverityCount","clearEvents","useSecurityMonitor","cleanup","head","cspMeta","createElement","httpEquiv","content","sources","appendChild","referrerMeta","viewportMeta","querySelector","applySecurityMeta","submissionCount","setInterval","pastedData","clipboardData","getData","test","devtools","open","outerHeight","innerHeight","outerWidth","innerWidth","monitorActivity","RateLimitProvider","rateLimiters","Map","originalFetch","limit","windowMs","limiter","get","resetTime","set","checkRateLimit","call","this","SecurityValidator","onViolation","checkForXSS","pattern","preventDefault","element","RecommendationContext","subcategory","rating","tags","image","BEHAVIOR_WEIGHTS","view","quickView","addToCart","removeFromCart","purchase","wishlist","removeFromWishlist","search","categoryView","filterApply","sortApply","imageZoom","reviewRead","reviewWrite","shareProduct","compareProduct","emailInquiry","chatInquiry","timeOnProduct","scrollDepth","clickRecommendation","SESSION_STORAGE_KEY","BEHAVIOR_STORAGE_KEY","ANALYTICS_STORAGE_KEY","RecommendationProvider","userBehavior","setUserBehavior","sessionData","setSessionData","startTime","deviceInfo","platform","screenResolution","screen","width","height","isMobile","totalTimeSpent","pagesVisited","currentPage","recommendations","setRecommendations","trending","personalized","related","frequentlyBoughtTogether","categoryBased","searchBased","crossSell","upsell","analytics","setAnalytics","conversionRate","engagementScore","preferredCategories","timeOfDayPattern","dayOfWeekPattern","seasonalPattern","abandonmentReasons","loyaltyScore","updateAnalytics","newBehavior","hour","metadata","hourOfDay","dayOfWeek","productData","categoryIndex","cat","trackBehavior","behaviorEntry","page","referrer","timeZone","resolvedOptions","localTime","toLocaleString","getDay","getHours","device","stored","trackTimeOnProduct","timeSpent","round","engagement","trackScrollDepth","scrollPercentage","trackCartAbandonment","reason","cartValue","itemCount","abandonmentStage","potentialLoss","trackSearch","resultCount","hasResults","searchType","storedBehavior","storedSession","newSession","storedAnalytics","handleBeforeUnload","generateTrending","generatePersonalized","categoryScores","segmentScores","tagScores","priceRangeScores","behavior","timeDiff","timeDecay","exp","weightedScore","tag","generateRelated","abs","generateFrequentlyBoughtTogether","generateCategoryBased","excludeId","generateCrossSell","cartCategories","Boolean","complementaryMap","cartCat","generateUpsell","priceIncrease","aValueScore","getAdvancedSearchRecommendations","userContext","lowerQuery","words","word","userCategoryPreference","getUserAnalytics","totalInteractions","uniqueProducts","totalPurchases","totalCartAdds","averageSessionLength","engagementLevel","preferredPriceRange","topCategories","recentActivity","updateRecommendations","getSearchRecommendations","aNameMatch","bNameMatch","getRelated","getFrequentlyBoughtTogether","getCategoryBased","getCrossSell","getUpsell","getTrending","getPersonalized","getEngagementScore","getPreferredCategories","getLoyaltyScore","getProducts","getProduct","getSessionInsights","sessionDuration","deviceType","getVariantRecommendations","SkipToContent","ErrorBoundary","Component","constructor","props","super","__publicField","reload","setState","hasError","errorInfo","errorId","getDerivedStateFromError","_error","componentDidCatch","gtag","fatal","loggingError","render","showDetails","handleRetry","RefreshCw","handleReload","handleGoHome","Home","Bug","componentStack","toastConfig","boxShadow","showSuccess","toast","iconTheme","showError","showLoading","dismissToast","toastId","dismiss","ToastProvider","Toaster","toastOptions","reverseOrder","hasElementType","Element","hasMap","hasSet","hasArrayBuffer","ArrayBuffer","isView","equal","it","Array","isArray","next","done","RegExp","source","flags","valueOf","prototype","hasOwnProperty","$$typeof","condition","f","args","argIndex","framesToPop","objA","objB","compare","compareContext","ret","keysA","keysB","bHasOwnProperty","bind","idx","valueA","valueB","TAG_NAMES","TAG_NAMES2","SEO_PRIORITY_TAGS","rel","charset","property","VALID_TAG_NAMES","REACT_TAG_MAP","accesskey","class","contenteditable","contextmenu","itemprop","tabindex","HTML_TAG_MAP","carry","HELMET_ATTRIBUTE","HELMET_PROPS","getInnermostProperty","propsList","getTitleFromPropsList","innermostTitle","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","lowerCaseAttributeKey","concat","getTagsFromPropsList","approvedSeenTags","console","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","keys2","attributeKey","tagUnion","getAnyTrueFromPropsList","checkedTag","flattenArray","possibleArray","prioritizer","elementsList","propsToMatch","acc","elementAttrs","toMatch","checkIfPropsMatch","without","obj","SELF_CLOSING_TAGS","encodeSpecialCharacters","str","encode","String","generateElementAttributesAsString","attributes","attr","convertElementAttributesToReactProps","initProps","generateTagsAsReactComponent","mappedTag","attribute","mappedAttribute","innerHTML","cssText","dangerouslySetInnerHTML","__html","getMethodsForTag","toComponent","_type","generateTitleAsReactComponent","titleAttributes","attributeString","flattenedTitle","generateTitleAsString","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","server_default","baseTag","bodyAttributes","htmlAttributes","noscriptTags","styleTags","prioritizeSeoTags","linkTags","metaTags","scriptTags","priorityMethods","meta","script","getPriorityMethods","base","noscript","instances","isDocument","HelmetData","canUseDOM","setHelmet","serverState","helmet","helmetInstances","instance","splice","Context","React2","HelmetProvider","helmetData","updateTags","headElement","tagNodes","querySelectorAll","oldTags","newTags","indexToDelete","newElement","styleSheet","createTextNode","setAttribute","existingTag","isEqualNode","parentNode","removeChild","updateAttributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","attributesToRemove","attributeKeys","indexToSave","removeAttribute","commitTagChanges","newState","cb","onChangeClientState","updateTitle","tagUpdates","addedTags","removedTags","_helmetCallback","client_default","cancelAnimationFrame","defer","requestAnimationFrame","HelmetDispatcher","Component2","arguments","shouldComponentUpdate","nextProps","shallowEqual","componentDidUpdate","emitChange","componentWillUnmount","init","rendered","Helmet","Component3","fastCompare","mapNestedChildrenToProps","child","nestedChildren","flattenArrayTypeChildren","arrayTypeChildren","newChildProps","mapObjectTypeChildren","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","warnOnInvalidChildren","invariant","nestedChild","mapChildrenToProps","React3","Children","childProps","Consumer","SEOProvider","SEO","noindex","canonical","alternateLanguages","structuredData","siteName","fullTitle","finalUrl","finalDescription","finalImage","fullImageUrl","startsWith","origin","defaultKeywords","finalKeywords","hrefLang","hreflang","lazy","__vitePreload","import","__VITE_PRELOAD__","Category","Shop","Product","Cart","Checkout","Customize","About","Contact","Login","Register","Profile","OrderConfirmation","MyAccount","RequestTracking","TrackingPage","AdminPanel","NotFound","LoadingSpinner","App","metrics","setMetrics","fcp","lcp","fid","cls","ttfb","navigation","performance","getEntriesByType","responseStart","requestStart","fcpObserver","PerformanceObserver","list","getEntries","entry","lcpObserver","lastEntry","fidObserver","firstEntry","processingStart","clsObserver","clsValue","hadRecentInput","observe","entryTypes","disconnect","usePerformance","BrowserRouter","future","v7_startTransition","v7_relativeSplatPath","Suspense","Routes","Route","path","getElementById","StrictMode"],"ignoreList":[0,28,29,30,31],"sources":["../../node_modules/react-dom/client.js","../../src/ui/contexts/SegmentContext.jsx","../../src/ui/components/SegmentSwitcher.jsx","../../src/ui/contexts/I18nContext.jsx","../../src/ui/contexts/NotificationContext.jsx","../../src/ui/contexts/InventoryContext.jsx","../../src/ui/contexts/AuthContext.jsx","../../src/components/ui/NotificationBell.jsx","../../src/ui/contexts/SearchContext.jsx","../../src/components/search/EnhancedSearch.jsx","../../src/components/inventory/InventoryAlerts.jsx","../../src/ui/components/FloatingNavbar.jsx","../../src/ui/contexts/LocationContext.jsx","../../src/ui/components/CurrencySelector.jsx","../../src/ui/sections/Footer.jsx","../../src/ui/contexts/CartContext.jsx","../../src/ui/contexts/OrderContext.jsx","../../src/ui/contexts/AuditContext.jsx","../../src/ui/contexts/ShippingContext.js","../../src/ui/contexts/ShippingContext.jsx","../../src/contexts/ThemeContext.jsx","../../src/config/security.js","../../src/components/SecurityProvider.jsx","../../src/hooks/useSecurity.js","../../src/ui/contexts/RecommendationContext.jsx","../../src/ui/components/SkipToContent.jsx","../../src/ui/components/ErrorBoundary.jsx","../../src/ui/components/ToastProvider.tsx","../../node_modules/react-fast-compare/index.js","../../node_modules/invariant/browser.js","../../node_modules/shallowequal/index.js","../../node_modules/react-helmet-async/lib/index.esm.js","../../src/config.js","../../src/components/SEO.jsx","../../src/ui/App.jsx","../../src/hooks/usePerformance.js","../../src/main.jsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { createContext, useContext, useReducer, useEffect } from 'react'\n\n// Segment theme definitions\nconst SEGMENT_THEMES = {\n  leather: {\n    id: 'leather',\n    name: 'Leather',\n    slug: 'leather',\n    colors: {\n      primary: '#4E342E', // Deep Umber\n      secondary: '#8D6E63', // Saddle\n      accent: '#C6A15B', // Brass Accent\n      background: '#F5E9DA', // Cream\n      surface: '#FFFFFF',\n      foreground: '#2E2E2E',\n      muted: '#6B4423',\n      border: '#D4B896',\n      ring: '#C6A15B',\n    },\n    texture: {\n      background: 'linear-gradient(135deg, #F5E9DA 0%, #E8D5C1 100%)',\n      overlay:\n        'url(\"data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%234E342E\" fill-opacity=\"0.02\"%3E%3Cpath d=\"M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")',\n      card: 'linear-gradient(145deg, #FFFFFF 0%, #FAF7F0 100%)',\n    },\n    shadows: {\n      sm: '0 2px 8px rgba(78, 52, 46, 0.08)',\n      md: '0 4px 16px rgba(78, 52, 46, 0.12)',\n      lg: '0 8px 32px rgba(78, 52, 46, 0.16)',\n      xl: '0 16px 64px rgba(78, 52, 46, 0.20)',\n    },\n    motion: {\n      duration: {\n        fast: '200ms',\n        normal: '300ms',\n        slow: '400ms',\n      },\n      easing: {\n        default: 'cubic-bezier(0.25, 0.1, 0.25, 1)',\n        spring: 'cubic-bezier(0.34, 1.56, 0.64, 1)',\n        smooth: 'cubic-bezier(0.4, 0, 0.2, 1)',\n      },\n    },\n    borderRadius: {\n      sm: '0.375rem',\n      md: '0.5rem',\n      lg: '0.75rem',\n      xl: '1rem',\n      '2xl': '1.5rem',\n      full: '9999px',\n    },\n    spacing: {\n      section: '5rem',\n      component: '2rem',\n    },\n  },\n  electronics: {\n    id: 'electronics',\n    name: 'Electronics',\n    slug: 'electronics',\n    colors: {\n      primary: '#2962FF', // Electric Blue\n      secondary: '#212121', // Graphite\n      accent: '#00E5FF', // Cyan Accent\n      background: '#FFFFFF', // White\n      surface: '#F8F9FA',\n      foreground: '#212121',\n      muted: '#5C6BC0',\n      border: '#E3F2FD',\n      ring: '#2962FF',\n    },\n    texture: {\n      background: 'linear-gradient(135deg, #FFFFFF 0%, #F8F9FA 100%)',\n      overlay:\n        'radial-gradient(circle at 50% 50%, rgba(41, 98, 255, 0.03) 0%, transparent 50%)',\n      card: 'linear-gradient(145deg, #FFFFFF 0%, #F5F7FA 100%)',\n    },\n    shadows: {\n      sm: '0 2px 8px rgba(41, 98, 255, 0.08)',\n      md: '0 4px 16px rgba(41, 98, 255, 0.12)',\n      lg: '0 8px 32px rgba(41, 98, 255, 0.16)',\n      xl: '0 16px 64px rgba(41, 98, 255, 0.20)',\n    },\n    motion: {\n      duration: {\n        fast: '150ms',\n        normal: '200ms',\n        slow: '250ms',\n      },\n      easing: {\n        default: 'cubic-bezier(0.4, 0, 0.2, 1)',\n        spring: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n        smooth: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n      },\n    },\n    borderRadius: {\n      sm: '0.25rem',\n      md: '0.375rem',\n      lg: '0.5rem',\n      xl: '0.75rem',\n      '2xl': '1rem',\n      full: '9999px',\n    },\n    spacing: {\n      section: '4rem',\n      component: '1.5rem',\n    },\n  },\n  furniture: {\n    id: 'furniture',\n    name: 'Furniture & Interiors',\n    slug: 'furniture',\n    colors: {\n      primary: '#2E7D32', // Forest\n      secondary: '#D7CCC8', // Sand\n      accent: '#8BC34A', // Light Green\n      background: '#FAF7F2', // Linen\n      surface: '#FFFFFF',\n      foreground: '#424242', // Charcoal\n      muted: '#81C784',\n      border: '#E8F5E8',\n      ring: '#2E7D32',\n    },\n    texture: {\n      background: 'linear-gradient(135deg, #FAF7F2 0%, #F5F2ED 100%)',\n      overlay:\n        'url(\"data:image/svg+xml,%3Csvg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"%232E7D32\" fill-opacity=\"0.03\" fill-rule=\"evenodd\"%3E%3Cpath d=\"M0 40L40 0H20L0 20M40 40V20L20 40\"/%3E%3C/g%3E%3C/svg%3E\")',\n      card: 'linear-gradient(145deg, #FFFFFF 0%, #FDFCF8 100%)',\n    },\n    shadows: {\n      sm: '0 2px 8px rgba(46, 125, 50, 0.08)',\n      md: '0 4px 16px rgba(46, 125, 50, 0.12)',\n      lg: '0 8px 32px rgba(46, 125, 50, 0.16)',\n      xl: '0 16px 64px rgba(46, 125, 50, 0.20)',\n    },\n    motion: {\n      duration: {\n        fast: '180ms',\n        normal: '280ms',\n        slow: '350ms',\n      },\n      easing: {\n        default: 'cubic-bezier(0.25, 0.1, 0.25, 1)',\n        spring: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n        smooth: 'cubic-bezier(0.4, 0, 0.2, 1)',\n      },\n    },\n    borderRadius: {\n      sm: '0.5rem',\n      md: '0.75rem',\n      lg: '1rem',\n      xl: '1.25rem',\n      '2xl': '1.75rem',\n      full: '9999px',\n    },\n    spacing: {\n      section: '6rem',\n      component: '2.5rem',\n    },\n  },\n}\n\n// Action types\nconst SEGMENT_ACTIONS = {\n  SET_SEGMENT: 'SET_SEGMENT',\n  SET_LOADING: 'SET_LOADING',\n  SET_ERROR: 'SET_ERROR',\n}\n\n// Initial state\nconst initialState = {\n  activeSegment: 'leather',\n  theme: SEGMENT_THEMES.leather,\n  isLoading: false,\n  error: null,\n}\n\n// Reducer\nfunction segmentReducer(state, action) {\n  switch (action.type) {\n    case SEGMENT_ACTIONS.SET_SEGMENT:\n      return {\n        ...state,\n        activeSegment: action.payload,\n        theme: SEGMENT_THEMES[action.payload],\n        error: null,\n      }\n    case SEGMENT_ACTIONS.SET_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload,\n      }\n    case SEGMENT_ACTIONS.SET_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n        isLoading: false,\n      }\n    default:\n      return state\n  }\n}\n\n// Context\nconst SegmentContext = createContext()\n\n// Provider component\nexport function SegmentProvider({ children }) {\n  const [state, dispatch] = useReducer(segmentReducer, initialState)\n\n  // Load segment from URL or localStorage on mount\n  useEffect(() => {\n    const currentPath = window.location.pathname\n    const urlSegment = currentPath.split('/')[1]\n\n    if (SEGMENT_THEMES[urlSegment]) {\n      dispatch({ type: SEGMENT_ACTIONS.SET_SEGMENT, payload: urlSegment })\n      localStorage.setItem('ivolex_segment', urlSegment)\n    } else {\n      const savedSegment = localStorage.getItem('ivolex_segment')\n      if (savedSegment && SEGMENT_THEMES[savedSegment]) {\n        dispatch({ type: SEGMENT_ACTIONS.SET_SEGMENT, payload: savedSegment })\n      }\n    }\n  }, [])\n\n  // Apply CSS custom properties when theme changes\n  useEffect(() => {\n    const root = document.documentElement\n    const theme = state.theme\n\n    if (theme) {\n      // Apply color variables\n      Object.entries(theme.colors).forEach(([key, value]) => {\n        root.style.setProperty(`--color-${key}`, value)\n      })\n\n      // Apply shadow variables\n      Object.entries(theme.shadows).forEach(([key, value]) => {\n        root.style.setProperty(`--shadow-${key}`, value)\n      })\n\n      // Apply motion variables\n      Object.entries(theme.motion.duration).forEach(([key, value]) => {\n        root.style.setProperty(`--duration-${key}`, value)\n      })\n\n      Object.entries(theme.motion.easing).forEach(([key, value]) => {\n        root.style.setProperty(`--easing-${key}`, value)\n      })\n\n      // Apply border radius variables\n      Object.entries(theme.borderRadius).forEach(([key, value]) => {\n        root.style.setProperty(`--radius-${key}`, value)\n      })\n\n      // Apply spacing variables\n      Object.entries(theme.spacing).forEach(([key, value]) => {\n        root.style.setProperty(`--spacing-${key}`, value)\n      })\n\n      // Apply texture backgrounds\n      root.style.setProperty('--bg-texture', theme.texture.background)\n      root.style.setProperty('--bg-overlay', theme.texture.overlay)\n      root.style.setProperty('--bg-card', theme.texture.card)\n\n      // Update body class for segment-specific styling\n      document.body.className = document.body.className.replace(\n        /segment-\\w+/g,\n        ''\n      )\n      document.body.classList.add(`segment-${state.activeSegment}`)\n    }\n  }, [state.theme, state.activeSegment])\n\n  const setSegment = segment => {\n    if (SEGMENT_THEMES[segment]) {\n      dispatch({ type: SEGMENT_ACTIONS.SET_SEGMENT, payload: segment })\n      localStorage.setItem('ivolex_segment', segment)\n\n      // Update URL without page reload\n      const newPath = `/${segment}`\n      if (window.location.pathname !== newPath) {\n        window.history.pushState({}, '', newPath)\n      }\n    }\n  }\n\n  const value = {\n    ...state,\n    segments: Object.values(SEGMENT_THEMES),\n    setSegment,\n    isCurrentSegment: segment => state.activeSegment === segment,\n  }\n\n  return (\n    <SegmentContext.Provider value={value}>{children}</SegmentContext.Provider>\n  )\n}\n\n// Hook to use segment context\nexport function useSegment() {\n  const context = useContext(SegmentContext)\n  if (!context) {\n    throw new Error('useSegment must be used within a SegmentProvider')\n  }\n  return context\n}\n\n// Export theme definitions for use in other components\nexport { SEGMENT_THEMES }\n","import { motion, AnimatePresence } from 'framer-motion'\nimport { useSegment } from '../contexts/SegmentContext.jsx'\nimport { Package, Smartphone, Sofa } from 'lucide-react'\n\nconst SEGMENT_ICONS = {\n  leather: Package,\n  electronics: Smartphone,\n  furniture: Sofa,\n}\n\nconst SEGMENT_DESCRIPTIONS = {\n  leather: 'Premium leather goods & accessories',\n  electronics: 'Cutting-edge electronic devices',\n  furniture: 'Elegant furniture & interior design',\n}\n\nexport default function SegmentSwitcher({\n  variant = 'default',\n  className = '',\n}) {\n  const { activeSegment, segments, setSegment, theme } = useSegment()\n\n  const handleSegmentChange = segmentId => {\n    if (segmentId !== activeSegment) {\n      setSegment(segmentId)\n    }\n  }\n\n  if (variant === 'pills') {\n    return (\n      <div className={`flex items-center gap-2 ${className}`}>\n        {segments.map(segment => {\n          const Icon = SEGMENT_ICONS[segment.id]\n          const isActive = segment.id === activeSegment\n\n          return (\n            <motion.button\n              key={segment.id}\n              onClick={() => handleSegmentChange(segment.id)}\n              className={`relative flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${\n                isActive\n                  ? 'text-white shadow-segment-md'\n                  : 'text-foreground/60 hover:text-foreground hover:bg-surface'\n              }`}\n              style={{\n                backgroundColor: isActive\n                  ? theme.colors.primary\n                  : 'transparent',\n              }}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              layout\n            >\n              <Icon size={16} />\n              <span>{segment.name}</span>\n            </motion.button>\n          )\n        })}\n      </div>\n    )\n  }\n\n  return (\n    <div className={`w-full ${className}`}>\n      <div className=\"flex border-b border-border\">\n        {segments.map(segment => {\n          const Icon = SEGMENT_ICONS[segment.id]\n          const isActive = segment.id === activeSegment\n\n          return (\n            <motion.button\n              key={segment.id}\n              onClick={() => handleSegmentChange(segment.id)}\n              className={`relative flex items-center gap-3 px-6 py-4 text-sm font-medium transition-all duration-200 border-b-2 ${\n                isActive\n                  ? 'text-primary border-primary'\n                  : 'text-foreground/60 border-transparent hover:text-foreground hover:border-foreground/20'\n              }`}\n              whileHover={{ y: -1 }}\n              whileTap={{ y: 0 }}\n            >\n              <Icon size={18} />\n              <div className=\"text-left\">\n                <div>{segment.name}</div>\n                <div className=\"text-xs text-foreground/40 mt-0.5\">\n                  {SEGMENT_DESCRIPTIONS[segment.id]}\n                </div>\n              </div>\n\n              <AnimatePresence>\n                {isActive && (\n                  <motion.div\n                    className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-primary\"\n                    layoutId=\"activeTab\"\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    transition={{ duration: 0.2 }}\n                  />\n                )}\n              </AnimatePresence>\n            </motion.button>\n          )\n        })}\n      </div>\n\n      <AnimatePresence mode=\"wait\">\n        <motion.div\n          key={activeSegment}\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0, y: -10 }}\n          transition={{ duration: 0.3, ease: 'easeInOut' }}\n          className=\"py-6\"\n        >\n          <div className=\"text-center\">\n            <h3 className=\"text-2xl font-bold text-foreground mb-2\">\n              {segments.find(s => s.id === activeSegment)?.name}\n            </h3>\n            <p className=\"text-foreground/60\">\n              {SEGMENT_DESCRIPTIONS[activeSegment]}\n            </p>\n          </div>\n        </motion.div>\n      </AnimatePresence>\n    </div>\n  )\n}\n\nexport function FloatingSegmentSwitcher({ className = '' }) {\n  const { activeSegment, segments, setSegment, theme } = useSegment()\n\n  return (\n    <div\n      className={`flex items-center bg-surface/80 backdrop-blur-md rounded-full p-1 shadow-segment-md ${className}`}\n    >\n      {segments.map(segment => {\n        const Icon = SEGMENT_ICONS[segment.id]\n        const isActive = segment.id === activeSegment\n\n        return (\n          <motion.button\n            key={segment.id}\n            onClick={() => setSegment(segment.id)}\n            className={`relative flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 ${\n              isActive\n                ? 'text-white shadow-sm'\n                : 'text-foreground/60 hover:text-foreground'\n            }`}\n            style={{\n              backgroundColor: isActive ? theme.colors.primary : 'transparent',\n            }}\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            layout\n          >\n            <Icon size={14} />\n            <span className=\"hidden sm:inline\">{segment.name}</span>\n\n            {isActive && (\n              <motion.div\n                className=\"absolute -bottom-1 left-1/2 w-1 h-1 bg-white rounded-full sm:hidden\"\n                layoutId=\"mobileIndicator\"\n                style={{ x: '-50%' }}\n              />\n            )}\n          </motion.button>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function SegmentIndicator({ showLabel = true, className = '' }) {\n  const { activeSegment, theme } = useSegment()\n  const Icon = SEGMENT_ICONS[activeSegment]\n  const segment = {\n    leather: 'Leather',\n    electronics: 'Electronics',\n    furniture: 'Furniture',\n  }[activeSegment]\n\n  return (\n    <div className={`flex items-center gap-2 ${className}`}>\n      <div\n        className=\"flex items-center justify-center w-8 h-8 rounded-full shadow-segment-sm\"\n        style={{ backgroundColor: theme.colors.primary }}\n      >\n        <Icon size={16} className=\"text-white\" />\n      </div>\n      {showLabel && (\n        <span className=\"text-sm font-medium text-foreground\">{segment}</span>\n      )}\n    </div>\n  )\n}\n","import { createContext, useContext, useReducer, useEffect } from 'react'\n\n// Language definitions\nconst LANGUAGES = {\n  en: {\n    code: 'en',\n    name: 'English',\n    nativeName: 'English',\n    dir: 'ltr',\n    flag: '🇺🇸',\n  },\n  hi: {\n    code: 'hi',\n    name: 'Hindi',\n    nativeName: 'हिन्दी',\n    dir: 'ltr',\n    flag: '🇮🇳',\n  },\n  ar: {\n    code: 'ar',\n    name: 'Arabic',\n    nativeName: 'العربية',\n    dir: 'rtl',\n    flag: '🇸🇦',\n  },\n}\n\n// Translation keys and content\nconst TRANSLATIONS = {\n  en: {\n    // Navigation\n    'nav.home': 'Home',\n    'nav.products': 'Products',\n    'nav.categories': 'Categories',\n    'nav.customize': 'Customize',\n    'nav.about': 'About',\n    'nav.contact': 'Contact',\n    'nav.cart': 'Cart',\n    'nav.search': 'Search',\n\n    // Common\n    'common.loading': 'Loading...',\n    'common.error': 'Error',\n    'common.success': 'Success',\n    'common.cancel': 'Cancel',\n    'common.save': 'Save',\n    'common.delete': 'Delete',\n    'common.edit': 'Edit',\n    'common.view': 'View',\n    'common.close': 'Close',\n    'common.submit': 'Submit',\n    'common.continue': 'Continue',\n    'common.back': 'Back',\n    'common.next': 'Next',\n    'common.previous': 'Previous',\n    'common.finish': 'Finish',\n    'common.price': 'Price',\n    'common.quantity': 'Quantity',\n    'common.total': 'Total',\n    'common.subtotal': 'Subtotal',\n    'common.shipping': 'Shipping',\n    'common.tax': 'Tax',\n    'common.discount': 'Discount',\n\n    // Hero Section\n    'hero.leather.headline': 'Timeless Leather Craftsmanship',\n    'hero.leather.subheadline':\n      'Experience the finest handcrafted leather goods, where tradition meets modern elegance',\n    'hero.electronics.headline': 'Cutting-Edge Technology',\n    'hero.electronics.subheadline':\n      'Discover the future of electronics with innovative devices that enhance your digital lifestyle',\n    'hero.furniture.headline': 'Elegant Interior Design',\n    'hero.furniture.subheadline':\n      'Transform your space with premium furniture and décor that reflects your unique style',\n    'hero.cta': 'Explore Collection',\n    'hero.video': 'Watch Our Story',\n    'hero.scroll': 'Scroll to explore',\n\n    // Products\n    'products.featured': 'Featured Products',\n    'products.trending': 'Trending Products',\n    'products.new': 'New Arrivals',\n    'products.bestsellers': 'Best Sellers',\n    'products.sale': 'On Sale',\n    'products.outOfStock': 'Out of Stock',\n    'products.inStock': 'In Stock',\n    'products.addToCart': 'Add to Cart',\n    'products.buyNow': 'Buy Now',\n    'products.quickView': 'Quick View',\n    'products.addToWishlist': 'Add to Wishlist',\n    'products.viewDetails': 'View Details',\n    'products.specifications': 'Specifications',\n    'products.features': 'Features',\n    'products.reviews': 'Reviews',\n    'products.rating': 'Rating',\n    'products.noProducts': 'No products found',\n\n    // Categories\n    'categories.leather.bags': 'Bags',\n    'categories.leather.wallets': 'Wallets',\n    'categories.leather.belts': 'Belts',\n    'categories.leather.accessories': 'Accessories',\n    'categories.electronics.audio': 'Audio',\n    'categories.electronics.wearables': 'Wearables',\n    'categories.electronics.accessories': 'Accessories',\n    'categories.furniture.office': 'Office',\n    'categories.furniture.seating': 'Seating',\n    'categories.furniture.storage': 'Storage',\n\n    // Cart\n    'cart.title': 'Shopping Cart',\n    'cart.empty': 'Your cart is empty',\n    'cart.continueShopping': 'Continue Shopping',\n    'cart.checkout': 'Proceed to Checkout',\n    'cart.remove': 'Remove',\n    'cart.update': 'Update',\n    'cart.itemAdded': 'Item added to cart',\n    'cart.itemRemoved': 'Item removed from cart',\n\n    // Customization\n    'customize.title': 'Custom Request',\n    'customize.subtitle':\n      'Tell us about your vision, and our experts will bring it to life',\n    'customize.contact.title': 'Contact Information',\n    'customize.project.title': 'Project Details',\n    'customize.requirements.title': 'Requirements & Specifications',\n    'customize.files.title': 'Files & References',\n    'customize.timeline.title': 'Timeline & Budget',\n    'customize.review.title': 'Review & Submit',\n    'customize.success': 'Request submitted successfully!',\n    'customize.error': 'Failed to submit request',\n\n    // Footer\n    'footer.quickLinks': 'Quick Links',\n    'footer.customerService': 'Customer Service',\n    'footer.followUs': 'Follow Us',\n    'footer.newsletter': 'Newsletter',\n    'footer.newsletterText':\n      'Subscribe to get updates on new products and offers',\n    'footer.subscribe': 'Subscribe',\n    'footer.copyright': '© 2024 IVOLEX. All rights reserved.',\n\n    // Admin\n    'admin.dashboard': 'Dashboard',\n    'admin.shop': 'Shop Management',\n    'admin.advancedAnalytics': 'Advanced Analytics',\n    'admin.products': 'Products',\n    'admin.orders': 'Orders',\n    'admin.payments': 'Payments',\n    'admin.customers': 'Customers',\n    'admin.profile': 'Profile',\n    'admin.analytics': 'Analytics',\n    'admin.indiaAnalytics': 'India Analytics',\n    'admin.recommendations': 'Recommendations',\n    'admin.security': 'Security Center',\n    'admin.settings': 'Settings',\n    'admin.revenue': 'Revenue',\n    'admin.totalOrders': 'Total Orders',\n    'admin.totalCustomers': 'Total Customers',\n    'admin.conversionRate': 'Conversion Rate',\n  },\n  ar: {\n    // Navigation\n    'nav.home': 'الرئيسية',\n    'nav.products': 'المنتجات',\n    'nav.categories': 'الفئات',\n    'nav.customize': 'تخصيص',\n    'nav.about': 'حول',\n    'nav.contact': 'اتصل',\n    'nav.cart': 'العربة',\n    'nav.search': 'بحث',\n\n    // Common\n    'common.loading': 'جاري التحميل...',\n    'common.error': 'خطأ',\n    'common.success': 'نجح',\n    'common.cancel': 'إلغاء',\n    'common.save': 'حفظ',\n    'common.delete': 'حذف',\n    'common.edit': 'تعديل',\n    'common.view': 'عرض',\n    'common.close': 'إغلاق',\n    'common.submit': 'إرسال',\n    'common.continue': 'متابعة',\n    'common.back': 'رجوع',\n    'common.next': 'التالي',\n    'common.previous': 'السابق',\n    'common.finish': 'إنهاء',\n    'common.price': 'السعر',\n    'common.quantity': 'الكمية',\n    'common.total': 'المجموع',\n    'common.subtotal': 'المجموع الفرعي',\n    'common.shipping': 'الشحن',\n    'common.tax': 'الضريبة',\n    'common.discount': 'الخصم',\n\n    // Hero Section\n    'hero.leather.headline': 'صناعة الجلود الخالدة',\n    'hero.leather.subheadline':\n      'اكتشف أجود المنتجات الجلدية المصنوعة يدوياً، حيث تلتقي التقاليد بالأناقة العصرية',\n    'hero.electronics.headline': 'التكنولوجيا المتطورة',\n    'hero.electronics.subheadline':\n      'اكتشف مستقبل الإلكترونيات مع الأجهزة المبتكرة التي تعزز نمط حياتك الرقمي',\n    'hero.furniture.headline': 'التصميم الداخلي الأنيق',\n    'hero.furniture.subheadline':\n      'حول مساحتك بأثاث وديكور فاخر يعكس أسلوبك الفريد',\n    'hero.cta': 'استكشف المجموعة',\n    'hero.video': 'شاهد قصتنا',\n    'hero.scroll': 'مرر للاستكشاف',\n\n    // Products\n    'products.featured': 'المنتجات المميزة',\n    'products.trending': 'المنتجات الرائجة',\n    'products.new': 'الوافدات الجديدة',\n    'products.bestsellers': 'الأكثر مبيعاً',\n    'products.sale': 'في التخفيضات',\n    'products.outOfStock': 'نفد المخزون',\n    'products.inStock': 'متوفر',\n    'products.addToCart': 'أضف للعربة',\n    'products.buyNow': 'اشتر الآن',\n    'products.quickView': 'عرض سريع',\n    'products.addToWishlist': 'أضف للمفضلة',\n    'products.viewDetails': 'عرض التفاصيل',\n    'products.specifications': 'المواصفات',\n    'products.features': 'الميزات',\n    'products.reviews': 'التقييمات',\n    'products.rating': 'التقييم',\n    'products.noProducts': 'لم يتم العثور على منتجات',\n\n    // Categories\n    'categories.leather.bags': 'الحقائب',\n    'categories.leather.wallets': 'المحافظ',\n    'categories.leather.belts': 'الأحزمة',\n    'categories.leather.accessories': 'الإكسسوارات',\n    'categories.electronics.audio': 'الصوتيات',\n    'categories.electronics.wearables': 'الأجهزة القابلة للارتداء',\n    'categories.electronics.accessories': 'الإكسسوارات',\n    'categories.furniture.office': 'المكتب',\n    'categories.furniture.seating': 'الجلوس',\n    'categories.furniture.storage': 'التخزين',\n\n    // Cart\n    'cart.title': 'عربة التسوق',\n    'cart.empty': 'عربة التسوق فارغة',\n    'cart.continueShopping': 'متابعة التسوق',\n    'cart.checkout': 'الدفع',\n    'cart.remove': 'إزالة',\n    'cart.update': 'تحديث',\n    'cart.itemAdded': 'تم إضافة العنصر للعربة',\n    'cart.itemRemoved': 'تم إزالة العنصر من العربة',\n\n    // Customization\n    'customize.title': 'طلب مخصص',\n    'customize.subtitle': 'أخبرنا عن رؤيتك، وسيقوم خبراؤنا بتحقيقها',\n    'customize.contact.title': 'معلومات الاتصال',\n    'customize.project.title': 'تفاصيل المشروع',\n    'customize.requirements.title': 'المتطلبات والمواصفات',\n    'customize.files.title': 'الملفات والمراجع',\n    'customize.timeline.title': 'الجدول الزمني والميزانية',\n    'customize.review.title': 'المراجعة والإرسال',\n    'customize.success': 'تم إرسال الطلب بنجاح!',\n    'customize.error': 'فشل في إرسال الطلب',\n\n    // Footer\n    'footer.quickLinks': 'روابط سريعة',\n    'footer.customerService': 'خدمة العملاء',\n    'footer.followUs': 'تابعنا',\n    'footer.newsletter': 'النشرة الإخبارية',\n    'footer.newsletterText':\n      'اشترك للحصول على تحديثات المنتجات والعروض الجديدة',\n    'footer.subscribe': 'اشترك',\n    'footer.copyright': '© 2024 إيفوليكس. جميع الحقوق محفوظة.',\n\n    // Admin\n    'admin.dashboard': 'लोचे का पैनल',\n    'admin.products': 'उत्पाद',\n    'admin.orders': 'ऑर्डर',\n    'admin.customers': 'ग्राहक',\n    'admin.analytics': 'विश्लेषण',\n    'admin.settings': 'सेटिंग्स',\n    'admin.revenue': 'आय',\n    'admin.totalOrders': 'कुल ऑर्डर',\n    'admin.totalCustomers': 'कुल ग्राहक',\n    'admin.conversionRate': 'रूपांतरण दर',\n  },\n  hi: {\n    // Navigation\n    'nav.home': 'मुख्य पृष्ठ',\n    'nav.products': 'उत्पाद',\n    'nav.categories': 'श्रेणियाँ',\n    'nav.customize': 'अनुकूलित करें',\n    'nav.about': 'हमारे बारे में',\n    'nav.contact': 'संपर्क',\n    'nav.cart': 'कार्ट',\n    'nav.search': 'खोजें',\n\n    // Common\n    'common.loading': 'लोड हो रहा है...',\n    'common.error': 'त्रुटि',\n    'common.success': 'सफल',\n    'common.cancel': 'रद्द करें',\n    'common.save': 'सेव करें',\n    'common.delete': 'हटाएं',\n    'common.edit': 'संपादित करें',\n    'common.view': 'देखें',\n    'common.close': 'बंद करें',\n    'common.submit': 'जमा करें',\n    'common.continue': 'जारी रखें',\n    'common.back': 'वापस',\n    'common.next': 'अगला',\n    'common.previous': 'पिछला',\n    'common.finish': 'समाप्त',\n    'common.price': 'कीमत',\n    'common.quantity': 'मात्रा',\n    'common.total': 'कुल',\n    'common.subtotal': 'उप-योग',\n    'common.shipping': 'शिपिंग',\n    'common.tax': 'कर',\n    'common.discount': 'छूट',\n\n    // Hero Section\n    'hero.leather.headline': 'शाश्वत चमड़े का शिल्प',\n    'hero.leather.subheadline':\n      'बेहतरीन हस्तनिर्मित चमड़े के सामान का अनुभव करें, जहां परंपरा आधुनिक लालित्य से मिलती है',\n    'hero.electronics.headline': 'अत्याधुनिक तकनीक',\n    'hero.electronics.subheadline':\n      'नवाचार भरे उपकरणों के साथ इलेक्ट्रॉनिक्स का भविष्य खोजें जो आपकी डिजिटल जीवनशैली को बेहतर बनाते हैं',\n    'hero.furniture.headline': 'सुरुचिपूर्ण इंटीरियर डिज़ाइन',\n    'hero.furniture.subheadline':\n      'प्रीमियम फर्नीचर और सजावट के साथ अपने स्थान को रूपांतरित करें जो आपकी अनूठी शैली को दर्शाता है',\n    'hero.cta': 'संग्रह देखें',\n    'hero.video': 'हमारी कहानी देखें',\n    'hero.scroll': 'खोजने के लिए स्क्रॉल करें',\n\n    // Products\n    'products.featured': 'विशेष उत्पाद',\n    'products.trending': 'ट्रेंडिंग उत्पाद',\n    'products.new': 'नई आवक',\n    'products.bestsellers': 'सबसे ज्यादा बिकने वाले',\n    'products.sale': 'सेल में',\n    'products.outOfStock': 'स्टॉक समाप्त',\n    'products.inStock': 'स्टॉक में',\n    'products.addToCart': 'कार्ट में जोड़ें',\n    'products.buyNow': 'अभी खरीदें',\n    'products.quickView': 'त्वरित दृश्य',\n    'products.addToWishlist': 'विशलिस्ट में जोड़ें',\n    'products.viewDetails': 'विवरण देखें',\n    'products.specifications': 'विशिष्टताएं',\n    'products.features': 'सुविधाएं',\n    'products.reviews': 'समीक्षाएं',\n    'products.rating': 'रेटिंग',\n    'products.noProducts': 'कोई उत्पाद नहीं मिला',\n\n    // Categories\n    'categories.leather.bags': 'बैग',\n    'categories.leather.wallets': 'वॉलेट',\n    'categories.leather.belts': 'बेल्ट',\n    'categories.leather.accessories': 'एक्सेसरीज',\n    'categories.electronics.audio': 'ऑडियो',\n    'categories.electronics.wearables': 'पहनने योग्य',\n    'categories.electronics.accessories': 'एक्सेसरीज',\n    'categories.furniture.office': 'ऑफिस',\n    'categories.furniture.seating': 'बैठने की जगह',\n    'categories.furniture.storage': 'भंडारण',\n\n    // Cart\n    'cart.title': 'शॉपिंग कार्ट',\n    'cart.empty': 'आपका कार्ट खाली है',\n    'cart.continueShopping': 'खरीदारी जारी रखें',\n    'cart.checkout': 'चेकआउट पर जाएं',\n    'cart.remove': 'हटाएं',\n    'cart.update': 'अपडेट करें',\n    'cart.itemAdded': 'आइटम कार्ट में जोड़ा गया',\n    'cart.itemRemoved': 'आइटम कार्ट से हटाया गया',\n\n    // Customization\n    'customize.title': 'कस्टम अनुरोध',\n    'customize.subtitle':\n      'हमें अपने विज़न के बारे में बताएं, और हमारे विशेषज्ञ इसे जीवंत बना देंगे',\n    'customize.contact.title': 'संपर्क जानकारी',\n    'customize.project.title': 'प्रोजेक्ट विवरण',\n    'customize.requirements.title': 'आवश्यकताएं और विशिष्टताएं',\n    'customize.files.title': 'फाइलें और संदर्भ',\n    'customize.timeline.title': 'समयसीमा और बजट',\n    'customize.review.title': 'समीक्षा और जमा करें',\n    'customize.success': 'अनुरोध सफलतापूर्वक जमा किया गया!',\n    'customize.error': 'अनुरोध जमा करने में विफल',\n\n    // Footer\n    'footer.quickLinks': 'त्वरित लिंक',\n    'footer.customerService': 'ग्राहक सेवा',\n    'footer.followUs': 'हमें फॉलो करें',\n    'footer.newsletter': 'न्यूज़लेटर',\n    'footer.newsletterText':\n      'नए उत्पादों और ऑफर्स की अपडेट पाने के लिए सब्स्क्राइब करें',\n    'footer.subscribe': 'सब्स्क्राइब करें',\n    'footer.copyright': '© 2024 IVOLEX. सभी अधिकार सुरक्षित।',\n\n    // Admin\n    'admin.dashboard': 'डैशबोर्ड',\n    'admin.products': 'उत्पाद',\n    'admin.orders': 'ऑर्डर',\n    'admin.customers': 'ग्राहक',\n    'admin.analytics': 'विश्लेषण',\n    'admin.settings': 'सेटिंग्स',\n    'admin.revenue': 'आय',\n    'admin.totalOrders': 'कुल ऑर्डर',\n    'admin.totalCustomers': 'कुल ग्राहक',\n    'admin.conversionRate': 'रूपांतरण दर',\n  },\n}\n\n// Currency formatting\nconst CURRENCY_CONFIG = {\n  INR: {\n    code: 'INR',\n    symbol: '₹',\n    name: 'Indian Rupee',\n    locale: 'en-IN',\n    position: 'before',\n  },\n  SAR: {\n    code: 'SAR',\n    symbol: 'ر.س',\n    name: 'Saudi Riyal',\n    locale: 'ar-SA',\n    position: 'after',\n  },\n  USD: {\n    code: 'USD',\n    symbol: '$',\n    name: 'US Dollar',\n    locale: 'en-US',\n    position: 'before',\n  },\n  EUR: {\n    code: 'EUR',\n    symbol: '€',\n    name: 'Euro',\n    locale: 'en-EU',\n    position: 'after',\n  },\n  GBP: {\n    code: 'GBP',\n    symbol: '£',\n    name: 'British Pound',\n    locale: 'en-GB',\n    position: 'before',\n  },\n}\n\n// Actions\nconst I18N_ACTIONS = {\n  SET_LANGUAGE: 'SET_LANGUAGE',\n  SET_CURRENCY: 'SET_CURRENCY',\n  SET_REGION: 'SET_REGION',\n}\n\n// Initial state\nconst initialState = {\n  language: 'en',\n  currency: 'INR', // Default to INR for India launch\n  region: 'IN',\n  direction: 'ltr',\n}\n\n// Reducer\nfunction i18nReducer(state, action) {\n  switch (action.type) {\n    case I18N_ACTIONS.SET_LANGUAGE:\n      return {\n        ...state,\n        language: action.payload,\n        direction: LANGUAGES[action.payload]?.dir || 'ltr',\n      }\n    case I18N_ACTIONS.SET_CURRENCY:\n      return {\n        ...state,\n        currency: action.payload,\n      }\n    case I18N_ACTIONS.SET_REGION:\n      return {\n        ...state,\n        region: action.payload,\n      }\n    default:\n      return state\n  }\n}\n\n// Context\nconst I18nContext = createContext()\n\n// Provider component\nexport function I18nProvider({ children }) {\n  const [state, dispatch] = useReducer(i18nReducer, initialState)\n\n  // Load saved preferences on mount\n  useEffect(() => {\n    const savedLanguage = localStorage.getItem('ivolex_language')\n    const savedCurrency = localStorage.getItem('ivolex_currency')\n    const savedRegion = localStorage.getItem('ivolex_region')\n\n    if (savedLanguage && LANGUAGES[savedLanguage]) {\n      dispatch({ type: I18N_ACTIONS.SET_LANGUAGE, payload: savedLanguage })\n    }\n    if (savedCurrency && CURRENCY_CONFIG[savedCurrency]) {\n      dispatch({ type: I18N_ACTIONS.SET_CURRENCY, payload: savedCurrency })\n    }\n    if (savedRegion) {\n      dispatch({ type: I18N_ACTIONS.SET_REGION, payload: savedRegion })\n    }\n  }, [])\n\n  // Update document direction when language changes\n  useEffect(() => {\n    document.documentElement.dir = state.direction\n    document.documentElement.lang = state.language\n\n    // Update CSS custom property for RTL support\n    document.documentElement.style.setProperty(\n      '--text-align-start',\n      state.direction === 'rtl' ? 'right' : 'left'\n    )\n    document.documentElement.style.setProperty(\n      '--text-align-end',\n      state.direction === 'rtl' ? 'left' : 'right'\n    )\n    document.documentElement.style.setProperty(\n      '--margin-start',\n      state.direction === 'rtl' ? 'margin-right' : 'margin-left'\n    )\n    document.documentElement.style.setProperty(\n      '--margin-end',\n      state.direction === 'rtl' ? 'margin-left' : 'margin-right'\n    )\n    document.documentElement.style.setProperty(\n      '--padding-start',\n      state.direction === 'rtl' ? 'padding-right' : 'padding-left'\n    )\n    document.documentElement.style.setProperty(\n      '--padding-end',\n      state.direction === 'rtl' ? 'padding-left' : 'padding-right'\n    )\n  }, [state.direction, state.language])\n\n  const setLanguage = language => {\n    if (LANGUAGES[language]) {\n      dispatch({ type: I18N_ACTIONS.SET_LANGUAGE, payload: language })\n      localStorage.setItem('ivolex_language', language)\n    }\n  }\n\n  const setCurrency = currency => {\n    if (CURRENCY_CONFIG[currency]) {\n      dispatch({ type: I18N_ACTIONS.SET_CURRENCY, payload: currency })\n      localStorage.setItem('ivolex_currency', currency)\n    }\n  }\n\n  const setRegion = region => {\n    dispatch({ type: I18N_ACTIONS.SET_REGION, payload: region })\n    localStorage.setItem('ivolex_region', region)\n  }\n\n  const t = (key, fallback = key) => {\n    return TRANSLATIONS[state.language]?.[key] || fallback\n  }\n\n  const formatCurrency = (amount, currencyCode = state.currency) => {\n    const config = CURRENCY_CONFIG[currencyCode]\n    if (!config) return `${amount}`\n\n    const formatted = new Intl.NumberFormat(config.locale, {\n      style: 'currency',\n      currency: currencyCode,\n      minimumFractionDigits: 2,\n    }).format(amount)\n\n    return formatted\n  }\n\n  const formatNumber = number => {\n    const locale = state.language === 'ar' ? 'ar-SA' : 'en-US'\n    return new Intl.NumberFormat(locale).format(number)\n  }\n\n  const formatDate = date => {\n    const locale = state.language === 'ar' ? 'ar-SA' : 'en-US'\n    return new Intl.DateTimeFormat(locale, {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n    }).format(new Date(date))\n  }\n\n  const value = {\n    ...state,\n    languages: LANGUAGES,\n    currencies: CURRENCY_CONFIG,\n    setLanguage,\n    setCurrency,\n    setRegion,\n    t,\n    formatCurrency,\n    formatNumber,\n    formatDate,\n    isRTL: state.direction === 'rtl',\n  }\n\n  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>\n}\n\n// Hook to use i18n context\nexport function useI18n() {\n  const context = useContext(I18nContext)\n  if (!context) {\n    throw new Error('useI18n must be used within an I18nProvider')\n  }\n  return context\n}\n\n// Export translations for external use\nexport { TRANSLATIONS, LANGUAGES, CURRENCY_CONFIG }\n","import { createContext, useContext, useReducer, useEffect } from 'react'\nimport { useI18n } from './I18nContext'\n\nconst NotificationContext = createContext()\n\n// Notification types\nexport const NOTIFICATION_TYPES = {\n  ORDER_CONFIRMATION: 'order_confirmation',\n  ORDER_STATUS_UPDATE: 'order_status_update',\n  PAYMENT_CONFIRMATION: 'payment_confirmation',\n  SHIPPING_UPDATE: 'shipping_update',\n  CUSTOMIZATION_UPDATE: 'customization_update',\n  ADMIN_ALERT: 'admin_alert',\n  SYSTEM_NOTIFICATION: 'system_notification',\n}\n\n// Notification channels\nexport const NOTIFICATION_CHANNELS = {\n  EMAIL: 'email',\n  SMS: 'sms',\n  WHATSAPP: 'whatsapp',\n  IN_APP: 'in_app',\n  PUSH: 'push',\n}\n\n// Notification priorities\nexport const NOTIFICATION_PRIORITIES = {\n  LOW: 'low',\n  MEDIUM: 'medium',\n  HIGH: 'high',\n  URGENT: 'urgent',\n}\n\nconst NOTIFICATION_ACTIONS = {\n  SET_PREFERENCES: 'SET_PREFERENCES',\n  ADD_NOTIFICATION: 'ADD_NOTIFICATION',\n  MARK_AS_READ: 'MARK_AS_READ',\n  MARK_ALL_AS_READ: 'MARK_ALL_AS_READ',\n  DELETE_NOTIFICATION: 'DELETE_NOTIFICATION',\n  CLEAR_ALL: 'CLEAR_ALL',\n  SET_LOADING: 'SET_LOADING',\n  SET_ERROR: 'SET_ERROR',\n}\n\nconst initialState = {\n  notifications: [],\n  preferences: {\n    email: {\n      orderUpdates: true,\n      customizationUpdates: true,\n      promotions: false,\n      newsletter: false,\n    },\n    sms: {\n      orderUpdates: true,\n      customizationUpdates: false,\n      promotions: false,\n    },\n    whatsapp: {\n      orderUpdates: false,\n      customizationUpdates: true,\n      promotions: false,\n    },\n    inApp: {\n      all: true,\n    },\n  },\n  loading: false,\n  error: null,\n}\n\nconst notificationReducer = (state, action) => {\n  switch (action.type) {\n    case NOTIFICATION_ACTIONS.SET_PREFERENCES:\n      return {\n        ...state,\n        preferences: { ...state.preferences, ...action.payload },\n      }\n\n    case NOTIFICATION_ACTIONS.ADD_NOTIFICATION:\n      return {\n        ...state,\n        notifications: [action.payload, ...state.notifications],\n        loading: false,\n      }\n\n    case NOTIFICATION_ACTIONS.MARK_AS_READ:\n      return {\n        ...state,\n        notifications: state.notifications.map(notification =>\n          notification.id === action.payload\n            ? { ...notification, read: true, readAt: new Date().toISOString() }\n            : notification\n        ),\n      }\n\n    case NOTIFICATION_ACTIONS.MARK_ALL_AS_READ:\n      return {\n        ...state,\n        notifications: state.notifications.map(notification => ({\n          ...notification,\n          read: true,\n          readAt: new Date().toISOString(),\n        })),\n      }\n\n    case NOTIFICATION_ACTIONS.DELETE_NOTIFICATION:\n      return {\n        ...state,\n        notifications: state.notifications.filter(\n          notification => notification.id !== action.payload\n        ),\n      }\n\n    case NOTIFICATION_ACTIONS.CLEAR_ALL:\n      return {\n        ...state,\n        notifications: [],\n      }\n\n    case NOTIFICATION_ACTIONS.SET_LOADING:\n      return {\n        ...state,\n        loading: action.payload,\n      }\n\n    case NOTIFICATION_ACTIONS.SET_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n        loading: false,\n      }\n\n    default:\n      return state\n  }\n}\n\nexport const NotificationProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(notificationReducer, initialState)\n  const { language } = useI18n()\n\n  // Load preferences from localStorage on mount\n  useEffect(() => {\n    const savedPreferences = localStorage.getItem(\n      'ivolex_notification_preferences'\n    )\n    if (savedPreferences) {\n      try {\n        const preferences = JSON.parse(savedPreferences)\n        dispatch({\n          type: NOTIFICATION_ACTIONS.SET_PREFERENCES,\n          payload: preferences,\n        })\n      } catch (error) {\n        console.error('Failed to load notification preferences:', error)\n      }\n    }\n  }, [])\n\n  // Save preferences to localStorage when they change\n  useEffect(() => {\n    localStorage.setItem(\n      'ivolex_notification_preferences',\n      JSON.stringify(state.preferences)\n    )\n  }, [state.preferences])\n\n  // Notification templates\n  const getNotificationTemplate = (type, data) => {\n    const templates = {\n      [NOTIFICATION_TYPES.ORDER_CONFIRMATION]: {\n        title: language === 'ar' ? 'تأكيد الطلب' : 'Order Confirmed',\n        message:\n          language === 'ar'\n            ? `تم تأكيد طلبك #${data.orderNumber} بنجاح. المبلغ الإجمالي: ${data.total}`\n            : `Your order #${data.orderNumber} has been confirmed. Total: ${data.total}`,\n        icon: '✅',\n        priority: NOTIFICATION_PRIORITIES.HIGH,\n      },\n      [NOTIFICATION_TYPES.ORDER_STATUS_UPDATE]: {\n        title: language === 'ar' ? 'تحديث حالة الطلب' : 'Order Status Update',\n        message:\n          language === 'ar'\n            ? `طلبك #${data.orderNumber} الآن: ${data.statusAr || data.status}`\n            : `Your order #${data.orderNumber} is now: ${data.status}`,\n        icon: '📦',\n        priority: NOTIFICATION_PRIORITIES.MEDIUM,\n      },\n      [NOTIFICATION_TYPES.PAYMENT_CONFIRMATION]: {\n        title: language === 'ar' ? 'تأكيد الدفع' : 'Payment Confirmed',\n        message:\n          language === 'ar'\n            ? `تم استلام دفعتك بمبلغ ${data.amount} بنجاح`\n            : `Your payment of ${data.amount} has been successfully processed`,\n        icon: '💳',\n        priority: NOTIFICATION_PRIORITIES.HIGH,\n      },\n      [NOTIFICATION_TYPES.SHIPPING_UPDATE]: {\n        title: language === 'ar' ? 'تحديث الشحن' : 'Shipping Update',\n        message:\n          language === 'ar'\n            ? `طلبك في الطريق. رقم التتبع: ${data.trackingNumber}`\n            : `Your order is on the way. Tracking: ${data.trackingNumber}`,\n        icon: '🚚',\n        priority: NOTIFICATION_PRIORITIES.MEDIUM,\n      },\n      [NOTIFICATION_TYPES.CUSTOMIZATION_UPDATE]: {\n        title: language === 'ar' ? 'تحديث طلب التخصيص' : 'Customization Update',\n        message:\n          language === 'ar'\n            ? `طلب التخصيص #${data.requestId} - ${data.statusAr || data.status}`\n            : `Customization request #${data.requestId} - ${data.status}`,\n        icon: '🎨',\n        priority: NOTIFICATION_PRIORITIES.MEDIUM,\n      },\n      [NOTIFICATION_TYPES.ADMIN_ALERT]: {\n        title: language === 'ar' ? 'تنبيه إداري' : 'Admin Alert',\n        message:\n          data.message ||\n          (language === 'ar' ? 'تنبيه جديد' : 'New admin alert'),\n        icon: '⚠️',\n        priority: NOTIFICATION_PRIORITIES.URGENT,\n      },\n      [NOTIFICATION_TYPES.SYSTEM_NOTIFICATION]: {\n        title: language === 'ar' ? 'إشعار النظام' : 'System Notification',\n        message:\n          data.message ||\n          (language === 'ar' ? 'إشعار جديد' : 'New system notification'),\n        icon: '🔔',\n        priority: NOTIFICATION_PRIORITIES.LOW,\n      },\n    }\n\n    return templates[type] || templates[NOTIFICATION_TYPES.SYSTEM_NOTIFICATION]\n  }\n\n  // Send notification function\n  const sendNotification = async (\n    type,\n    data,\n    channels = [NOTIFICATION_CHANNELS.IN_APP]\n  ) => {\n    dispatch({ type: NOTIFICATION_ACTIONS.SET_LOADING, payload: true })\n\n    try {\n      const template = getNotificationTemplate(type, data)\n      const notification = {\n        id: `notif_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        type,\n        ...template,\n        data,\n        channels,\n        read: false,\n        createdAt: new Date().toISOString(),\n        userId: data.userId || 'current_user',\n      }\n\n      // Add to in-app notifications\n      if (channels.includes(NOTIFICATION_CHANNELS.IN_APP)) {\n        dispatch({\n          type: NOTIFICATION_ACTIONS.ADD_NOTIFICATION,\n          payload: notification,\n        })\n      }\n\n      // Simulate external notifications (would integrate with real services)\n      if (channels.includes(NOTIFICATION_CHANNELS.EMAIL)) {\n        await simulateEmailNotification(notification)\n      }\n\n      if (channels.includes(NOTIFICATION_CHANNELS.SMS)) {\n        await simulateSMSNotification(notification)\n      }\n\n      if (channels.includes(NOTIFICATION_CHANNELS.WHATSAPP)) {\n        await simulateWhatsAppNotification(notification)\n      }\n\n      return notification\n    } catch (error) {\n      console.error('Failed to send notification:', error)\n      dispatch({ type: NOTIFICATION_ACTIONS.SET_ERROR, payload: error.message })\n      throw error\n    }\n  }\n\n  // Simulate external notification services\n  const simulateEmailNotification = async notification => {\n    console.log('📧 Email sent:', {\n      to: notification.data.email || 'user@example.com',\n      subject: notification.title,\n      body: notification.message,\n      template: notification.type,\n    })\n\n    // Simulate API delay\n    await new Promise(resolve => setTimeout(resolve, 500))\n    return true\n  }\n\n  const simulateSMSNotification = async notification => {\n    console.log('📱 SMS sent:', {\n      to: notification.data.phone || '+1234567890',\n      message: `${notification.title}: ${notification.message}`,\n      provider: 'Twilio',\n    })\n\n    await new Promise(resolve => setTimeout(resolve, 300))\n    return true\n  }\n\n  const simulateWhatsAppNotification = async notification => {\n    console.log('💬 WhatsApp sent:', {\n      to: notification.data.whatsapp || '+1234567890',\n      message: `${notification.icon} ${notification.title}\\n${notification.message}`,\n      provider: 'WhatsApp Business API',\n    })\n\n    await new Promise(resolve => setTimeout(resolve, 400))\n    return true\n  }\n\n  // Update preferences\n  const updatePreferences = newPreferences => {\n    dispatch({\n      type: NOTIFICATION_ACTIONS.SET_PREFERENCES,\n      payload: newPreferences,\n    })\n  }\n\n  // Mark notifications as read\n  const markAsRead = notificationId => {\n    dispatch({\n      type: NOTIFICATION_ACTIONS.MARK_AS_READ,\n      payload: notificationId,\n    })\n  }\n\n  const markAllAsRead = () => {\n    dispatch({ type: NOTIFICATION_ACTIONS.MARK_ALL_AS_READ })\n  }\n\n  // Delete notifications\n  const deleteNotification = notificationId => {\n    dispatch({\n      type: NOTIFICATION_ACTIONS.DELETE_NOTIFICATION,\n      payload: notificationId,\n    })\n  }\n\n  const clearAllNotifications = () => {\n    dispatch({ type: NOTIFICATION_ACTIONS.CLEAR_ALL })\n  }\n\n  // Get unread count\n  const getUnreadCount = () => {\n    return state.notifications.filter(notification => !notification.read).length\n  }\n\n  // Get notifications by type\n  const getNotificationsByType = type => {\n    return state.notifications.filter(\n      notification => notification.type === type\n    )\n  }\n\n  // Check if user should receive notification based on preferences\n  const shouldSendNotification = (type, channel) => {\n    const prefs = state.preferences[channel]\n    if (!prefs) return false\n\n    switch (type) {\n      case NOTIFICATION_TYPES.ORDER_CONFIRMATION:\n      case NOTIFICATION_TYPES.ORDER_STATUS_UPDATE:\n      case NOTIFICATION_TYPES.PAYMENT_CONFIRMATION:\n      case NOTIFICATION_TYPES.SHIPPING_UPDATE:\n        return prefs.orderUpdates\n\n      case NOTIFICATION_TYPES.CUSTOMIZATION_UPDATE:\n        return prefs.customizationUpdates\n\n      case NOTIFICATION_TYPES.ADMIN_ALERT:\n        return true // Always send admin alerts\n\n      case NOTIFICATION_TYPES.SYSTEM_NOTIFICATION:\n        return prefs.all !== false\n\n      default:\n        return false\n    }\n  }\n\n  const value = {\n    ...state,\n    sendNotification,\n    updatePreferences,\n    markAsRead,\n    markAllAsRead,\n    deleteNotification,\n    clearAllNotifications,\n    getUnreadCount,\n    getNotificationsByType,\n    shouldSendNotification,\n    NOTIFICATION_TYPES,\n    NOTIFICATION_CHANNELS,\n    NOTIFICATION_PRIORITIES,\n  }\n\n  return (\n    <NotificationContext.Provider value={value}>\n      {children}\n    </NotificationContext.Provider>\n  )\n}\n\nexport const useNotifications = () => {\n  const context = useContext(NotificationContext)\n  if (!context) {\n    throw new Error(\n      'useNotifications must be used within a NotificationProvider'\n    )\n  }\n  return context\n}\n\nexport default NotificationContext\n","import {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  useCallback,\n  useMemo,\n} from 'react'\nimport { useNotifications } from './NotificationContext'\n\nconst InventoryContext = createContext()\n\n// Extract the hook to a separate export to satisfy React Fast Refresh\nexport { InventoryContext }\n\nexport const useInventory = () => {\n  const context = useContext(InventoryContext)\n  if (!context) {\n    throw new Error('useInventory must be used within an InventoryProvider')\n  }\n  return context\n}\n\nexport const InventoryProvider = ({ children }) => {\n  const [inventory, setInventory] = useState({})\n  const [alerts, setAlerts] = useState([])\n  const [settings, setSettings] = useState({\n    lowStockThreshold: 10,\n    criticalStockThreshold: 5,\n    enableAlerts: true,\n    alertChannels: ['app', 'email'],\n    autoReorderEnabled: false,\n    autoReorderThreshold: 5,\n  })\n  const [loading, setLoading] = useState(true)\n\n  // Safely get addNotification function with fallback\n  let addNotification\n  try {\n    const notificationContext = useNotifications()\n    addNotification = notificationContext?.addNotification || (() => {})\n  } catch (error) {\n    addNotification = () => {}\n    console.warn(\n      'Notification context not available in InventoryProvider:',\n      error.message\n    )\n  }\n\n  // Mock inventory data - in real app, this would come from API\n  const mockInventoryData = useMemo(\n    () => ({\n      prod_001: {\n        stock: 15,\n        reserved: 2,\n        incoming: 0,\n        reorderPoint: 10,\n        maxStock: 100,\n      },\n      prod_002: {\n        stock: 3,\n        reserved: 1,\n        incoming: 20,\n        reorderPoint: 8,\n        maxStock: 50,\n      },\n      prod_003: {\n        stock: 0,\n        reserved: 0,\n        incoming: 10,\n        reorderPoint: 5,\n        maxStock: 30,\n      },\n      prod_004: {\n        stock: 25,\n        reserved: 5,\n        incoming: 0,\n        reorderPoint: 15,\n        maxStock: 80,\n      },\n      prod_005: {\n        stock: 8,\n        reserved: 3,\n        incoming: 0,\n        reorderPoint: 12,\n        maxStock: 60,\n      },\n      prod_006: {\n        stock: 45,\n        reserved: 0,\n        incoming: 0,\n        reorderPoint: 20,\n        maxStock: 100,\n      },\n      prod_007: {\n        stock: 2,\n        reserved: 0,\n        incoming: 25,\n        reorderPoint: 10,\n        maxStock: 40,\n      },\n      prod_008: {\n        stock: 12,\n        reserved: 8,\n        incoming: 0,\n        reorderPoint: 15,\n        maxStock: 75,\n      },\n    }),\n    []\n  )\n\n  // Check for inventory alerts\n  const checkInventoryAlerts = useCallback(\n    (inventoryData = inventory) => {\n      if (!settings.enableAlerts) return\n\n      const newAlerts = []\n      const products = JSON.parse(localStorage.getItem('products') || '[]')\n\n      Object.entries(inventoryData).forEach(([productId, stock]) => {\n        const product = products.find(p => p.id === productId)\n        const productName = product?.name || `Product ${productId}`\n        const availableStock = stock.stock - stock.reserved\n\n        // Critical stock alert (out of stock)\n        if (availableStock === 0) {\n          newAlerts.push({\n            id: `critical_${productId}_${Date.now()}`,\n            type: 'critical',\n            productId,\n            productName,\n            message: `${productName} is out of stock!`,\n            availableStock,\n            threshold: settings.criticalStockThreshold,\n            timestamp: new Date().toISOString(),\n            acknowledged: false,\n          })\n        }\n        // Critical stock alert (below critical threshold)\n        else if (availableStock <= settings.criticalStockThreshold) {\n          newAlerts.push({\n            id: `critical_${productId}_${Date.now()}`,\n            type: 'critical',\n            productId,\n            productName,\n            message: `${productName} has critically low stock (${availableStock} remaining)`,\n            availableStock,\n            threshold: settings.criticalStockThreshold,\n            timestamp: new Date().toISOString(),\n            acknowledged: false,\n          })\n        }\n        // Low stock alert\n        else if (availableStock <= settings.lowStockThreshold) {\n          newAlerts.push({\n            id: `low_${productId}_${Date.now()}`,\n            type: 'low',\n            productId,\n            productName,\n            message: `${productName} is running low (${availableStock} remaining)`,\n            availableStock,\n            threshold: settings.lowStockThreshold,\n            timestamp: new Date().toISOString(),\n            acknowledged: false,\n          })\n        }\n\n        // Auto-reorder alert\n        if (\n          settings.autoReorderEnabled &&\n          availableStock <= settings.autoReorderThreshold\n        ) {\n          newAlerts.push({\n            id: `reorder_${productId}_${Date.now()}`,\n            type: 'reorder',\n            productId,\n            productName,\n            message: `Auto-reorder triggered for ${productName}`,\n            availableStock,\n            threshold: settings.autoReorderThreshold,\n            timestamp: new Date().toISOString(),\n            acknowledged: false,\n          })\n        }\n      })\n\n      setAlerts(prev => [...prev, ...newAlerts])\n\n      // Send notifications for new alerts\n      newAlerts.forEach(alert => {\n        if (settings.alertChannels.includes('app')) {\n          addNotification({\n            title: `Inventory Alert`,\n            message: alert.message,\n            type: alert.type === 'critical' ? 'error' : 'warning',\n            duration: alert.type === 'critical' ? 0 : 5000,\n          })\n        }\n      })\n    },\n    [inventory, settings, addNotification]\n  )\n\n  // Initialize inventory data\n  useEffect(() => {\n    const initInventory = async () => {\n      setLoading(true)\n      try {\n        // Simulate API call\n        await new Promise(resolve => setTimeout(resolve, 1000))\n        setInventory(mockInventoryData)\n        checkInventoryAlerts(mockInventoryData)\n      } catch (error) {\n        console.error('Failed to load inventory:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    initInventory()\n  }, [checkInventoryAlerts, mockInventoryData])\n\n  // Update stock levels\n  const updateStock = (productId, newStock) => {\n    setInventory(prev => {\n      const updated = {\n        ...prev,\n        [productId]: {\n          ...prev[productId],\n          ...newStock,\n        },\n      }\n\n      // Check for new alerts after stock update\n      setTimeout(() => checkInventoryAlerts(updated), 100)\n\n      return updated\n    })\n  }\n\n  // Reserve stock (when order is placed)\n  const reserveStock = (productId, quantity) => {\n    return new Promise((resolve, reject) => {\n      const currentStock = inventory[productId]\n      if (!currentStock) {\n        reject(new Error('Product not found'))\n        return\n      }\n\n      const availableStock = currentStock.stock - currentStock.reserved\n      if (availableStock < quantity) {\n        reject(new Error('Insufficient stock'))\n        return\n      }\n\n      updateStock(productId, {\n        reserved: currentStock.reserved + quantity,\n      })\n\n      resolve(true)\n    })\n  }\n\n  // Release reserved stock (when order is cancelled)\n  const releaseStock = (productId, quantity) => {\n    const currentStock = inventory[productId]\n    if (currentStock) {\n      updateStock(productId, {\n        reserved: Math.max(0, currentStock.reserved - quantity),\n      })\n    }\n  }\n\n  // Confirm stock (when order is shipped)\n  const confirmStock = (productId, quantity) => {\n    const currentStock = inventory[productId]\n    if (currentStock) {\n      updateStock(productId, {\n        stock: currentStock.stock - quantity,\n        reserved: Math.max(0, currentStock.reserved - quantity),\n      })\n    }\n  }\n\n  // Add incoming stock\n  const addIncomingStock = (productId, quantity, _expectedDate) => {\n    const currentStock = inventory[productId]\n    if (currentStock) {\n      updateStock(productId, {\n        incoming: currentStock.incoming + quantity,\n      })\n\n      addNotification({\n        title: 'Incoming Stock Added',\n        message: `${quantity} units added to incoming stock for product ${productId}`,\n        type: 'success',\n      })\n    }\n  }\n\n  // Receive incoming stock\n  const receiveStock = (productId, quantity) => {\n    const currentStock = inventory[productId]\n    if (currentStock) {\n      updateStock(productId, {\n        stock: currentStock.stock + quantity,\n        incoming: Math.max(0, currentStock.incoming - quantity),\n      })\n\n      addNotification({\n        title: 'Stock Received',\n        message: `${quantity} units received for product ${productId}`,\n        type: 'success',\n      })\n    }\n  }\n\n  // Acknowledge alert\n  const acknowledgeAlert = alertId => {\n    setAlerts(prev =>\n      prev.map(alert =>\n        alert.id === alertId ? { ...alert, acknowledged: true } : alert\n      )\n    )\n  }\n\n  // Clear all alerts\n  const clearAlerts = () => {\n    setAlerts([])\n  }\n\n  // Update settings\n  const updateSettings = newSettings => {\n    setSettings(prev => ({ ...prev, ...newSettings }))\n\n    // Re-check alerts with new settings\n    setTimeout(() => checkInventoryAlerts(), 100)\n  }\n\n  // Get stock status for a product\n  const getStockStatus = productId => {\n    const stock = inventory[productId]\n    if (!stock) return { status: 'unknown', available: 0 }\n\n    const available = stock.stock - stock.reserved\n\n    if (available === 0) return { status: 'out_of_stock', available }\n    if (available <= settings.criticalStockThreshold)\n      return { status: 'critical', available }\n    if (available <= settings.lowStockThreshold)\n      return { status: 'low', available }\n    return { status: 'in_stock', available }\n  }\n\n  // Get inventory summary\n  const getInventorySummary = () => {\n    const summary = {\n      totalProducts: Object.keys(inventory).length,\n      outOfStock: 0,\n      criticalStock: 0,\n      lowStock: 0,\n      inStock: 0,\n      totalValue: 0,\n    }\n\n    Object.entries(inventory).forEach(([_productId, stock]) => {\n      const available = stock.stock - stock.reserved\n\n      if (available === 0) summary.outOfStock++\n      else if (available <= settings.criticalStockThreshold)\n        summary.criticalStock++\n      else if (available <= settings.lowStockThreshold) summary.lowStock++\n      else summary.inStock++\n    })\n\n    return summary\n  }\n\n  const value = {\n    inventory,\n    alerts: alerts.filter(alert => !alert.acknowledged),\n    allAlerts: alerts,\n    settings,\n    loading,\n    updateStock,\n    reserveStock,\n    releaseStock,\n    confirmStock,\n    addIncomingStock,\n    receiveStock,\n    acknowledgeAlert,\n    clearAlerts,\n    updateSettings,\n    getStockStatus,\n    getInventorySummary,\n    checkInventoryAlerts,\n  }\n\n  return (\n    <InventoryContext.Provider value={value}>\n      {children}\n    </InventoryContext.Provider>\n  )\n}\n\nexport default InventoryContext\n","import { createContext, useContext, useState, useEffect } from 'react'\n\nconst AuthContext = createContext()\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider')\n  }\n  return context\n}\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null)\n  const [isLoading, setIsLoading] = useState(true)\n\n  // Check for existing session on mount\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user')\n    if (storedUser) {\n      try {\n        setUser(JSON.parse(storedUser))\n      } catch (error) {\n        console.error('Error parsing stored user:', error)\n        localStorage.removeItem('user')\n      }\n    }\n    setIsLoading(false)\n  }, [])\n\n  const login = async credentials => {\n    // Super admin authentication\n    if (\n      credentials.email === 'faisal@limitlessinfotech.com' &&\n      credentials.password === 'SuperAdmin2024!'\n    ) {\n      const userData = {\n        id: '1',\n        email: 'faisal@limitlessinfotech.com',\n        firstName: 'Faisal',\n        lastName: 'Khan',\n        role: 'super_admin',\n        avatar: null,\n      }\n      setUser(userData)\n      localStorage.setItem('user', JSON.stringify(userData))\n      return { success: true, user: userData }\n    }\n    // Demo user for testing\n    if (\n      credentials.email === 'demo@ivolex.com' &&\n      credentials.password === 'password'\n    ) {\n      const userData = {\n        id: '2',\n        email: 'demo@ivolex.com',\n        firstName: 'Demo',\n        lastName: 'User',\n        role: 'customer',\n        avatar: null,\n      }\n      setUser(userData)\n      localStorage.setItem('user', JSON.stringify(userData))\n      return { success: true, user: userData }\n    }\n    return { success: false, error: 'Invalid credentials' }\n  }\n\n  const logout = () => {\n    setUser(null)\n    localStorage.removeItem('user')\n  }\n\n  const register = async userData => {\n    // Simulate API call\n    const newUser = {\n      id: Date.now().toString(),\n      ...userData,\n      avatar: null,\n    }\n    setUser(newUser)\n    localStorage.setItem('user', JSON.stringify(newUser))\n    return { success: true, user: newUser }\n  }\n\n  const updateProfile = async updates => {\n    if (!user) return { success: false, error: 'Not authenticated' }\n\n    const updatedUser = { ...user, ...updates }\n    setUser(updatedUser)\n    localStorage.setItem('user', JSON.stringify(updatedUser))\n    return { success: true, user: updatedUser }\n  }\n\n  const isAuthenticated = !!user\n\n  const value = {\n    user,\n    isAuthenticated,\n    isLoading,\n    login,\n    logout,\n    register,\n    updateProfile,\n  }\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n","import { useState, useRef, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { useNotifications } from '../../ui/contexts/NotificationContext'\nimport { useI18n } from '../../ui/contexts/I18nContext'\n\nconst NotificationBell = () => {\n  const {\n    notifications,\n    getUnreadCount,\n    markAsRead,\n    markAllAsRead,\n    deleteNotification,\n  } = useNotifications()\n  const { t, language, isRTL } = useI18n()\n  const [isOpen, setIsOpen] = useState(false)\n  const [filter, setFilter] = useState('all')\n  const bellRef = useRef(null)\n\n  const unreadCount = getUnreadCount()\n  const maxDisplayNotifications = 5\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (bellRef.current && !bellRef.current.contains(event.target)) {\n        setIsOpen(false)\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside)\n      return () => document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [isOpen])\n\n  const formatTimeAgo = timestamp => {\n    const now = new Date()\n    const notificationTime = new Date(timestamp)\n    const diffInMinutes = Math.floor((now - notificationTime) / (1000 * 60))\n\n    if (diffInMinutes < 1) {\n      return language === 'ar' ? 'الآن' : 'now'\n    } else if (diffInMinutes < 60) {\n      return language === 'ar'\n        ? `منذ ${diffInMinutes} دقيقة`\n        : `${diffInMinutes}m ago`\n    } else if (diffInMinutes < 1440) {\n      const hours = Math.floor(diffInMinutes / 60)\n      return language === 'ar' ? `منذ ${hours} ساعة` : `${hours}h ago`\n    } else {\n      const days = Math.floor(diffInMinutes / 1440)\n      return language === 'ar' ? `منذ ${days} يوم` : `${days}d ago`\n    }\n  }\n\n  const filteredNotifications = notifications.filter(notification => {\n    if (filter === 'unread') return !notification.read\n    if (filter === 'orders')\n      return (\n        notification.type.includes('order') ||\n        notification.type.includes('payment') ||\n        notification.type.includes('shipping')\n      )\n    if (filter === 'customization')\n      return notification.type.includes('customization')\n    return true\n  })\n\n  const displayedNotifications = filteredNotifications.slice(\n    0,\n    maxDisplayNotifications\n  )\n\n  return (\n    <div className=\"relative\" ref={bellRef}>\n      {/* Bell Icon */}\n      <motion.button\n        whileHover={{ scale: 1.05 }}\n        whileTap={{ scale: 0.95 }}\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative p-2 text-foreground/70 hover:text-foreground transition-colors rounded-full hover:bg-surface/50\"\n      >\n        <motion.div\n          animate={unreadCount > 0 ? { rotate: [0, -10, 10, -10, 0] } : {}}\n          transition={{\n            duration: 0.5,\n            repeat: unreadCount > 0 ? 2 : 0,\n            repeatDelay: 3,\n          }}\n        >\n          <svg\n            className=\"w-6 h-6\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M15 17h5l-5 5v-5zM4 19v-7a6 6 0 0112 0v7\"\n            />\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 21c0 .6.4 1 1 1h4c.6 0 1-.4 1-1\"\n            />\n          </svg>\n        </motion.div>\n\n        {/* Unread Badge */}\n        {unreadCount > 0 && (\n          <motion.span\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold\"\n          >\n            {unreadCount > 9 ? '9+' : unreadCount}\n          </motion.span>\n        )}\n      </motion.button>\n\n      {/* Dropdown */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95, y: 10 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.95, y: 10 }}\n            className={`absolute ${isRTL ? 'left-0' : 'right-0'} mt-2 w-96 bg-surface border border-border rounded-xl shadow-lg z-50 max-h-[500px] overflow-hidden`}\n          >\n            {/* Header */}\n            <div className=\"p-4 border-b border-border\">\n              <div\n                className={`flex items-center justify-between mb-3 ${isRTL ? 'flex-row-reverse' : ''}`}\n              >\n                <h3 className=\"font-semibold text-foreground\">\n                  {t('notifications.title', 'Notifications')}\n                </h3>\n                {unreadCount > 0 && (\n                  <motion.button\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    onClick={markAllAsRead}\n                    className=\"text-sm text-primary hover:text-primary/80 font-medium\"\n                  >\n                    {t('notifications.markAllRead', 'Mark all read')}\n                  </motion.button>\n                )}\n              </div>\n\n              {/* Filter Tabs */}\n              <div\n                className={`flex gap-1 bg-background/50 p-1 rounded-lg ${isRTL ? 'flex-row-reverse' : ''}`}\n              >\n                {[\n                  { key: 'all', label: t('notifications.all', 'All') },\n                  { key: 'unread', label: t('notifications.unread', 'Unread') },\n                  { key: 'orders', label: t('notifications.orders', 'Orders') },\n                  {\n                    key: 'customization',\n                    label: t('notifications.customization', 'Custom'),\n                  },\n                ].map(tab => (\n                  <button\n                    key={tab.key}\n                    onClick={() => setFilter(tab.key)}\n                    className={`flex-1 px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${\n                      filter === tab.key\n                        ? 'bg-primary text-primary-foreground'\n                        : 'text-foreground/60 hover:text-foreground hover:bg-surface/50'\n                    }`}\n                  >\n                    {tab.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Notifications List */}\n            <div className=\"overflow-y-auto max-h-80\">\n              {displayedNotifications.length === 0 ? (\n                <div className=\"p-8 text-center\">\n                  <div className=\"text-4xl mb-2\">🔔</div>\n                  <p className=\"text-foreground/60\">\n                    {filter === 'unread'\n                      ? t('notifications.noUnread', 'No unread notifications')\n                      : t(\n                          'notifications.noNotifications',\n                          'No notifications yet'\n                        )}\n                  </p>\n                </div>\n              ) : (\n                <div className=\"divide-y divide-border\">\n                  {displayedNotifications.map(notification => (\n                    <motion.div\n                      key={notification.id}\n                      initial={{ opacity: 0, x: isRTL ? 20 : -20 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      className={`p-4 hover:bg-background/50 transition-colors cursor-pointer ${\n                        !notification.read ? 'bg-primary/5' : ''\n                      }`}\n                      onClick={() =>\n                        !notification.read && markAsRead(notification.id)\n                      }\n                    >\n                      <div\n                        className={`flex gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}\n                      >\n                        <div className=\"flex-shrink-0\">\n                          <span className=\"text-xl\">{notification.icon}</span>\n                          {!notification.read && (\n                            <div className=\"w-2 h-2 bg-primary rounded-full mt-1 mx-auto\"></div>\n                          )}\n                        </div>\n\n                        <div\n                          className={`flex-1 min-w-0 ${isRTL ? 'text-right' : 'text-left'}`}\n                        >\n                          <div\n                            className={`flex items-start justify-between gap-2 ${isRTL ? 'flex-row-reverse' : ''}`}\n                          >\n                            <h4\n                              className={`font-medium text-foreground truncate ${!notification.read ? 'font-semibold' : ''}`}\n                            >\n                              {notification.title}\n                            </h4>\n                            <div\n                              className={`flex items-center gap-2 flex-shrink-0 ${isRTL ? 'flex-row-reverse' : ''}`}\n                            >\n                              <span className=\"text-xs text-foreground/50\">\n                                {formatTimeAgo(notification.createdAt)}\n                              </span>\n                              <motion.button\n                                whileHover={{ scale: 1.1 }}\n                                whileTap={{ scale: 0.9 }}\n                                onClick={e => {\n                                  e.stopPropagation()\n                                  deleteNotification(notification.id)\n                                }}\n                                className=\"text-foreground/40 hover:text-red-500 transition-colors\"\n                              >\n                                <svg\n                                  className=\"w-4 h-4\"\n                                  fill=\"none\"\n                                  stroke=\"currentColor\"\n                                  viewBox=\"0 0 24 24\"\n                                >\n                                  <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth={2}\n                                    d=\"M6 18L18 6M6 6l12 12\"\n                                  />\n                                </svg>\n                              </motion.button>\n                            </div>\n                          </div>\n                          <p className=\"text-sm text-foreground/70 mt-1 line-clamp-2\">\n                            {notification.message}\n                          </p>\n                          {notification.priority === 'urgent' && (\n                            <span className=\"inline-block mt-2 px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full font-medium\">\n                              {t('notifications.urgent', 'Urgent')}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </motion.div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Footer */}\n            {filteredNotifications.length > maxDisplayNotifications && (\n              <div className=\"p-3 border-t border-border text-center\">\n                <button className=\"text-sm text-primary hover:text-primary/80 font-medium\">\n                  {t('notifications.viewAll', 'View all notifications')}\n                </button>\n              </div>\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  )\n}\n\nexport default NotificationBell\n","import React, {\n  createContext,\n  useContext,\n  useReducer,\n  useCallback,\n} from 'react'\n\n// Search context\nconst SearchContext = createContext()\nexport const SEARCH_TYPES = {\n  PRODUCTS: 'products',\n  CATEGORIES: 'categories',\n  BRANDS: 'brands',\n  COLLECTIONS: 'collections',\n  ALL: 'all',\n}\n\n// Search result types\nexport const RESULT_TYPES = {\n  PRODUCT: 'product',\n  CATEGORY: 'category',\n  BRAND: 'brand',\n  COLLECTION: 'collection',\n  SUGGESTION: 'suggestion',\n}\n\n// Search actions\nconst SEARCH_ACTIONS = {\n  SET_QUERY: 'SET_QUERY',\n  SET_RESULTS: 'SET_RESULTS',\n  SET_SUGGESTIONS: 'SET_SUGGESTIONS',\n  SET_LOADING: 'SET_LOADING',\n  SET_FILTERS: 'SET_FILTERS',\n  ADD_TO_HISTORY: 'ADD_TO_HISTORY',\n  CLEAR_HISTORY: 'CLEAR_HISTORY',\n  SET_POPULAR_SEARCHES: 'SET_POPULAR_SEARCHES',\n}\n\nconst initialState = {\n  query: '',\n  results: [],\n  suggestions: [],\n  loading: false,\n  filters: {\n    type: SEARCH_TYPES.ALL,\n    segment: null,\n    priceRange: null,\n    sortBy: 'relevance',\n  },\n  searchHistory: [],\n  popularSearches: [],\n  totalResults: 0,\n}\n\n// Mock data for demonstration\nconst MOCK_PRODUCTS = [\n  // Leather products\n  {\n    id: 1,\n    name: 'Premium Leather Wallet',\n    nameAr: 'محفظة جلدية فاخرة',\n    category: 'Wallets',\n    categoryAr: 'محافظ',\n    segment: 'leather',\n    price: 299,\n    brand: 'IVOLEX',\n    keywords: ['wallet', 'leather', 'premium', 'men', 'brown'],\n  },\n  {\n    id: 2,\n    name: 'Handcrafted Leather Bag',\n    nameAr: 'حقيبة جلدية مصنوعة يدوياً',\n    category: 'Bags',\n    categoryAr: 'حقائب',\n    segment: 'leather',\n    price: 899,\n    brand: 'IVOLEX',\n    keywords: ['bag', 'leather', 'handcrafted', 'women', 'black'],\n  },\n  {\n    id: 3,\n    name: 'Executive Leather Briefcase',\n    nameAr: 'حقيبة أعمال جلدية تنفيذية',\n    category: 'Business',\n    categoryAr: 'أعمال',\n    segment: 'leather',\n    price: 1299,\n    brand: 'IVOLEX',\n    keywords: ['briefcase', 'leather', 'executive', 'business', 'professional'],\n  },\n  {\n    id: 4,\n    name: 'Vintage Leather Jacket',\n    nameAr: 'جاكيت جلدي عتيق',\n    category: 'Clothing',\n    categoryAr: 'ملابس',\n    segment: 'leather',\n    price: 1899,\n    brand: 'IVOLEX',\n    keywords: ['jacket', 'leather', 'vintage', 'clothing', 'style'],\n  },\n\n  // Electronics products\n  {\n    id: 5,\n    name: 'Smart Wireless Headphones',\n    nameAr: 'سماعات لاسلكية ذكية',\n    category: 'Audio',\n    categoryAr: 'صوتيات',\n    segment: 'electronics',\n    price: 599,\n    brand: 'TechPro',\n    keywords: ['headphones', 'wireless', 'smart', 'audio', 'bluetooth'],\n  },\n  {\n    id: 6,\n    name: '4K Ultra HD Monitor',\n    nameAr: 'شاشة عالية الوضوح 4K',\n    category: 'Displays',\n    categoryAr: 'شاشات',\n    segment: 'electronics',\n    price: 1499,\n    brand: 'ViewMaster',\n    keywords: ['monitor', '4k', 'display', 'uhd', 'gaming'],\n  },\n  {\n    id: 7,\n    name: 'Gaming Mechanical Keyboard',\n    nameAr: 'لوحة مفاتيح ميكانيكية للألعاب',\n    category: 'Gaming',\n    categoryAr: 'ألعاب',\n    segment: 'electronics',\n    price: 399,\n    brand: 'GameTech',\n    keywords: ['keyboard', 'mechanical', 'gaming', 'rgb', 'switches'],\n  },\n  {\n    id: 8,\n    name: 'Professional Drone Camera',\n    nameAr: 'طائرة درون احترافية بكاميرا',\n    category: 'Cameras',\n    categoryAr: 'كاميرات',\n    segment: 'electronics',\n    price: 2299,\n    brand: 'SkyTech',\n    keywords: ['drone', 'camera', 'professional', 'aerial', 'photography'],\n  },\n\n  // Furniture products\n  {\n    id: 9,\n    name: 'Modern Executive Desk',\n    nameAr: 'مكتب تنفيذي حديث',\n    category: 'Office',\n    categoryAr: 'مكتب',\n    segment: 'furniture',\n    price: 1899,\n    brand: 'ModernSpace',\n    keywords: ['desk', 'executive', 'modern', 'office', 'workspace'],\n  },\n  {\n    id: 10,\n    name: 'Luxury Dining Table Set',\n    nameAr: 'طقم طاولة طعام فاخر',\n    category: 'Dining',\n    categoryAr: 'طعام',\n    segment: 'furniture',\n    price: 3499,\n    brand: 'LuxeHome',\n    keywords: ['dining', 'table', 'luxury', 'set', 'wooden'],\n  },\n  {\n    id: 11,\n    name: 'Ergonomic Office Chair',\n    nameAr: 'كرسي مكتب مريح',\n    category: 'Seating',\n    categoryAr: 'جلوس',\n    segment: 'furniture',\n    price: 899,\n    brand: 'ComfortPlus',\n    keywords: ['chair', 'office', 'ergonomic', 'comfortable', 'adjustable'],\n  },\n  {\n    id: 12,\n    name: 'Contemporary Sofa Set',\n    nameAr: 'طقم أريكة معاصر',\n    category: 'Living Room',\n    categoryAr: 'غرفة معيشة',\n    segment: 'furniture',\n    price: 2799,\n    brand: 'StyleHome',\n    keywords: ['sofa', 'contemporary', 'living room', 'comfort', 'fabric'],\n  },\n]\n\nconst MOCK_CATEGORIES = [\n  { id: 'wallets', name: 'Wallets', nameAr: 'محافظ', segment: 'leather' },\n  { id: 'bags', name: 'Bags', nameAr: 'حقائب', segment: 'leather' },\n  { id: 'audio', name: 'Audio', nameAr: 'صوتيات', segment: 'electronics' },\n  { id: 'displays', name: 'Displays', nameAr: 'شاشات', segment: 'electronics' },\n  {\n    id: 'office',\n    name: 'Office Furniture',\n    nameAr: 'أثاث مكتبي',\n    segment: 'furniture',\n  },\n  {\n    id: 'living',\n    name: 'Living Room',\n    nameAr: 'غرفة معيشة',\n    segment: 'furniture',\n  },\n]\n\nconst MOCK_BRANDS = [\n  { id: 'ivolex', name: 'IVOLEX', segment: 'leather' },\n  { id: 'techpro', name: 'TechPro', segment: 'electronics' },\n  { id: 'modernspace', name: 'ModernSpace', segment: 'furniture' },\n]\n\n// Fuzzy matching algorithm\nconst fuzzyMatch = (query, target, threshold = 0.6) => {\n  if (!query || !target) return { match: false, score: 0 }\n\n  const queryLower = query.toLowerCase()\n  const targetLower = target.toLowerCase()\n\n  // Exact match\n  if (targetLower.includes(queryLower)) {\n    return { match: true, score: 1 }\n  }\n\n  // Levenshtein distance-based fuzzy matching\n  const distance = levenshteinDistance(queryLower, targetLower)\n  const maxLength = Math.max(queryLower.length, targetLower.length)\n  const similarity = 1 - distance / maxLength\n\n  return {\n    match: similarity >= threshold,\n    score: similarity,\n  }\n}\n\nconst levenshteinDistance = (str1, str2) => {\n  const matrix = []\n\n  for (let i = 0; i <= str2.length; i++) {\n    matrix[i] = [i]\n  }\n\n  for (let j = 0; j <= str1.length; j++) {\n    matrix[0][j] = j\n  }\n\n  for (let i = 1; i <= str2.length; i++) {\n    for (let j = 1; j <= str1.length; j++) {\n      if (str2.charAt(i - 1) === str1.charAt(j - 1)) {\n        matrix[i][j] = matrix[i - 1][j - 1]\n      } else {\n        matrix[i][j] = Math.min(\n          matrix[i - 1][j - 1] + 1, // substitution\n          matrix[i][j - 1] + 1, // insertion\n          matrix[i - 1][j] + 1 // deletion\n        )\n      }\n    }\n  }\n\n  return matrix[str2.length][str1.length]\n}\n\n// Search reducer\nconst searchReducer = (state, action) => {\n  switch (action.type) {\n    case SEARCH_ACTIONS.SET_QUERY:\n      return { ...state, query: action.payload }\n\n    case SEARCH_ACTIONS.SET_RESULTS:\n      return {\n        ...state,\n        results: action.payload.results,\n        totalResults: action.payload.total,\n        loading: false,\n      }\n\n    case SEARCH_ACTIONS.SET_SUGGESTIONS:\n      return { ...state, suggestions: action.payload }\n\n    case SEARCH_ACTIONS.SET_LOADING:\n      return { ...state, loading: action.payload }\n\n    case SEARCH_ACTIONS.SET_FILTERS:\n      return {\n        ...state,\n        filters: { ...state.filters, ...action.payload },\n      }\n\n    case SEARCH_ACTIONS.ADD_TO_HISTORY: {\n      const newHistory = [\n        action.payload,\n        ...state.searchHistory.filter(item => item !== action.payload),\n      ].slice(0, 10) // Keep only last 10 searches\n\n      return { ...state, searchHistory: newHistory }\n    }\n\n    case SEARCH_ACTIONS.CLEAR_HISTORY:\n      return { ...state, searchHistory: [] }\n\n    case SEARCH_ACTIONS.SET_POPULAR_SEARCHES:\n      return { ...state, popularSearches: action.payload }\n\n    default:\n      return state\n  }\n}\n\nexport const SearchProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(searchReducer, initialState)\n  // const { language } = useI18n() // Disabled temporarily\n  // const { activeSegment } = useSegment() // Disabled temporarily\n  const language = 'en' // Default language\n\n  // Load search history from localStorage\n  React.useEffect(() => {\n    const savedHistory = localStorage.getItem('ivolex_search_history')\n    if (savedHistory) {\n      try {\n        const history = JSON.parse(savedHistory)\n        history.forEach(query => {\n          dispatch({ type: SEARCH_ACTIONS.ADD_TO_HISTORY, payload: query })\n        })\n      } catch (error) {\n        console.error('Failed to load search history:', error)\n      }\n    }\n  }, [])\n\n  // Save search history to localStorage\n  React.useEffect(() => {\n    localStorage.setItem(\n      'ivolex_search_history',\n      JSON.stringify(state.searchHistory)\n    )\n  }, [state.searchHistory])\n\n  // Perform search with fuzzy matching\n  const performSearch = useCallback(\n    async (query, filters = {}) => {\n      if (!query.trim()) {\n        dispatch({\n          type: SEARCH_ACTIONS.SET_RESULTS,\n          payload: { results: [], total: 0 },\n        })\n        return\n      }\n\n      dispatch({ type: SEARCH_ACTIONS.SET_LOADING, payload: true })\n\n      // Simulate API delay\n      await new Promise(resolve => setTimeout(resolve, 300))\n\n      const searchQuery = query.toLowerCase().trim()\n      const mergedFilters = { ...state.filters, ...filters }\n\n      let searchResults = []\n\n      // Search products\n      if (\n        mergedFilters.type === SEARCH_TYPES.ALL ||\n        mergedFilters.type === SEARCH_TYPES.PRODUCTS\n      ) {\n        const productResults = MOCK_PRODUCTS.filter(product => {\n          // Segment filter\n          if (\n            mergedFilters.segment &&\n            product.segment !== mergedFilters.segment\n          ) {\n            return false\n          }\n\n          // Text matching\n          const nameMatch = fuzzyMatch(\n            searchQuery,\n            language === 'ar' ? product.nameAr : product.name\n          )\n          const categoryMatch = fuzzyMatch(\n            searchQuery,\n            language === 'ar' ? product.categoryAr : product.category\n          )\n          const brandMatch = fuzzyMatch(searchQuery, product.brand)\n          const keywordMatch = product.keywords.some(\n            keyword => fuzzyMatch(searchQuery, keyword).match\n          )\n\n          return (\n            nameMatch.match ||\n            categoryMatch.match ||\n            brandMatch.match ||\n            keywordMatch\n          )\n        }).map(product => ({\n          ...product,\n          type: RESULT_TYPES.PRODUCT,\n          relevanceScore: calculateRelevanceScore(searchQuery, product),\n        }))\n\n        searchResults.push(...productResults)\n      }\n\n      // Search categories\n      if (\n        mergedFilters.type === SEARCH_TYPES.ALL ||\n        mergedFilters.type === SEARCH_TYPES.CATEGORIES\n      ) {\n        const categoryResults = MOCK_CATEGORIES.filter(category => {\n          if (\n            mergedFilters.segment &&\n            category.segment !== mergedFilters.segment\n          ) {\n            return false\n          }\n\n          const nameMatch = fuzzyMatch(\n            searchQuery,\n            language === 'ar' ? category.nameAr : category.name\n          )\n          return nameMatch.match\n        }).map(category => ({\n          ...category,\n          type: RESULT_TYPES.CATEGORY,\n          relevanceScore: fuzzyMatch(\n            searchQuery,\n            language === 'ar' ? category.nameAr : category.name\n          ).score,\n        }))\n\n        searchResults.push(...categoryResults)\n      }\n\n      // Search brands\n      if (\n        mergedFilters.type === SEARCH_TYPES.ALL ||\n        mergedFilters.type === SEARCH_TYPES.BRANDS\n      ) {\n        const brandResults = MOCK_BRANDS.filter(brand => {\n          if (\n            mergedFilters.segment &&\n            brand.segment !== mergedFilters.segment\n          ) {\n            return false\n          }\n\n          const nameMatch = fuzzyMatch(searchQuery, brand.name)\n          return nameMatch.match\n        }).map(brand => ({\n          ...brand,\n          type: RESULT_TYPES.BRAND,\n          relevanceScore: fuzzyMatch(searchQuery, brand.name).score,\n        }))\n\n        searchResults.push(...brandResults)\n      }\n\n      // Sort by relevance score\n      searchResults.sort((a, b) => b.relevanceScore - a.relevanceScore)\n\n      // Apply price filter if specified\n      if (mergedFilters.priceRange) {\n        searchResults = searchResults.filter(result => {\n          if (result.type !== RESULT_TYPES.PRODUCT || !result.price) return true\n\n          const [min, max] = mergedFilters.priceRange.split('-').map(Number)\n          return result.price >= min && (max ? result.price <= max : true)\n        })\n      }\n\n      dispatch({\n        type: SEARCH_ACTIONS.SET_RESULTS,\n        payload: { results: searchResults, total: searchResults.length },\n      })\n\n      // Add to search history\n      dispatch({ type: SEARCH_ACTIONS.ADD_TO_HISTORY, payload: query })\n    },\n    [state.filters, language]\n  )\n\n  // Calculate relevance score for products\n  const calculateRelevanceScore = (query, product) => {\n    const queryLower = query.toLowerCase()\n    let score = 0\n\n    // Name match (highest weight)\n    const nameMatch = fuzzyMatch(\n      queryLower,\n      language === 'ar' ? product.nameAr : product.name\n    )\n    if (nameMatch.match) score += nameMatch.score * 3\n\n    // Category match\n    const categoryMatch = fuzzyMatch(\n      queryLower,\n      language === 'ar' ? product.categoryAr : product.category\n    )\n    if (categoryMatch.match) score += categoryMatch.score * 2\n\n    // Brand match\n    const brandMatch = fuzzyMatch(queryLower, product.brand)\n    if (brandMatch.match) score += brandMatch.score * 1.5\n\n    // Keyword matches\n    product.keywords.forEach(keyword => {\n      const keywordMatch = fuzzyMatch(queryLower, keyword)\n      if (keywordMatch.match) score += keywordMatch.score * 1\n    })\n\n    return score\n  }\n\n  // Generate search suggestions\n  const generateSuggestions = useCallback(\n    async query => {\n      if (!query.trim() || query.length < 2) {\n        dispatch({ type: SEARCH_ACTIONS.SET_SUGGESTIONS, payload: [] })\n        return\n      }\n\n      const queryLower = query.toLowerCase()\n      const suggestions = []\n\n      // Product name suggestions\n      MOCK_PRODUCTS.forEach(product => {\n        const name = language === 'ar' ? product.nameAr : product.name\n        if (name.toLowerCase().includes(queryLower)) {\n          suggestions.push({\n            text: name,\n            type: 'product',\n            id: product.id,\n            segment: product.segment,\n          })\n        }\n      })\n\n      // Category suggestions\n      MOCK_CATEGORIES.forEach(category => {\n        const name = language === 'ar' ? category.nameAr : category.name\n        if (name.toLowerCase().includes(queryLower)) {\n          suggestions.push({\n            text: name,\n            type: 'category',\n            id: category.id,\n            segment: category.segment,\n          })\n        }\n      })\n\n      // Brand suggestions\n      MOCK_BRANDS.forEach(brand => {\n        if (brand.name.toLowerCase().includes(queryLower)) {\n          suggestions.push({\n            text: brand.name,\n            type: 'brand',\n            id: brand.id,\n            segment: brand.segment,\n          })\n        }\n      })\n\n      // Remove duplicates and limit results\n      const uniqueSuggestions = suggestions\n        .filter(\n          (suggestion, index, self) =>\n            index === self.findIndex(s => s.text === suggestion.text)\n        )\n        .slice(0, 8)\n\n      dispatch({\n        type: SEARCH_ACTIONS.SET_SUGGESTIONS,\n        payload: uniqueSuggestions,\n      })\n    },\n    [language]\n  )\n\n  const setQuery = query => {\n    dispatch({ type: SEARCH_ACTIONS.SET_QUERY, payload: query })\n  }\n\n  const setFilters = filters => {\n    dispatch({ type: SEARCH_ACTIONS.SET_FILTERS, payload: filters })\n  }\n\n  const clearHistory = () => {\n    dispatch({ type: SEARCH_ACTIONS.CLEAR_HISTORY })\n    localStorage.removeItem('ivolex_search_history')\n  }\n\n  const value = {\n    ...state,\n    performSearch,\n    generateSuggestions,\n    setQuery,\n    setFilters,\n    clearHistory,\n    SEARCH_TYPES,\n    RESULT_TYPES,\n  }\n\n  return (\n    <SearchContext.Provider value={value}>{children}</SearchContext.Provider>\n  )\n}\n\nexport const useSearch = () => {\n  const context = useContext(SearchContext)\n  if (!context) {\n    throw new Error('useSearch must be used within a SearchProvider')\n  }\n  return context\n}\n\nexport default SearchContext\n","import { useState, useRef, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { Search, X, Clock, TrendingUp, Filter, ArrowRight } from 'lucide-react'\nimport { useSearch } from '../../ui/contexts/SearchContext'\nimport { useI18n } from '../../ui/contexts/I18nContext'\nimport { useSegment } from '../../ui/contexts/SegmentContext'\n\nconst EnhancedSearch = ({\n  onResultSelect,\n  placeholder,\n  showFilters = true,\n  className = '',\n}) => {\n  const {\n    query,\n    suggestions,\n    searchHistory,\n    loading,\n    filters,\n    performSearch,\n    generateSuggestions,\n    setQuery,\n    setFilters,\n    clearHistory,\n    SEARCH_TYPES,\n  } = useSearch()\n\n  const { t, isRTL } = useI18n()\n  const { theme } = useSegment()\n\n  const [isOpen, setIsOpen] = useState(false)\n  const [localQuery, setLocalQuery] = useState(query)\n  const [showFiltersPanel, setShowFiltersPanel] = useState(false)\n  const searchRef = useRef(null)\n  const inputRef = useRef(null)\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\n        setIsOpen(false)\n        setShowFiltersPanel(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => document.removeEventListener('mousedown', handleClickOutside)\n  }, [])\n\n  // Generate suggestions when query changes\n  useEffect(() => {\n    const debounceTimer = setTimeout(() => {\n      if (localQuery.trim() && isOpen) {\n        generateSuggestions(localQuery)\n      }\n    }, 300)\n\n    return () => clearTimeout(debounceTimer)\n  }, [localQuery, isOpen, generateSuggestions])\n\n  const handleInputChange = e => {\n    const value = e.target.value\n    setLocalQuery(value)\n    setQuery(value)\n\n    if (value.trim()) {\n      setIsOpen(true)\n    }\n  }\n\n  const handleSearch = (searchQuery = localQuery) => {\n    if (searchQuery.trim()) {\n      performSearch(searchQuery)\n      setIsOpen(false)\n      onResultSelect && onResultSelect({ type: 'search', query: searchQuery })\n    }\n  }\n\n  const handleSuggestionClick = suggestion => {\n    setLocalQuery(suggestion.text)\n    setQuery(suggestion.text)\n    handleSearch(suggestion.text)\n    onResultSelect && onResultSelect(suggestion)\n  }\n\n  const handleHistoryClick = historyQuery => {\n    setLocalQuery(historyQuery)\n    setQuery(historyQuery)\n    handleSearch(historyQuery)\n  }\n\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSearch()\n    } else if (e.key === 'Escape') {\n      setIsOpen(false)\n    }\n  }\n\n  const clearInput = () => {\n    setLocalQuery('')\n    setQuery('')\n    inputRef.current?.focus()\n  }\n\n  const handleFilterChange = (filterKey, value) => {\n    setFilters({ [filterKey]: value })\n    if (localQuery.trim()) {\n      handleSearch()\n    }\n  }\n\n  const getSuggestionIcon = type => {\n    switch (type) {\n      case 'product':\n        return '📦'\n      case 'category':\n        return '📂'\n      case 'brand':\n        return '🏷️'\n      default:\n        return '🔍'\n    }\n  }\n\n  const priceRanges = [\n    { label: t('search.allPrices', 'All Prices'), value: null },\n    { label: t('search.under500', 'Under 500 SAR'), value: '0-500' },\n    { label: t('search.500to1000', '500 - 1,000 SAR'), value: '500-1000' },\n    { label: t('search.1000to2000', '1,000 - 2,000 SAR'), value: '1000-2000' },\n    { label: t('search.over2000', 'Over 2,000 SAR'), value: '2000-' },\n  ]\n\n  const sortOptions = [\n    { label: t('search.relevance', 'Relevance'), value: 'relevance' },\n    {\n      label: t('search.priceLowHigh', 'Price: Low to High'),\n      value: 'price_asc',\n    },\n    {\n      label: t('search.priceHighLow', 'Price: High to Low'),\n      value: 'price_desc',\n    },\n    { label: t('search.newest', 'Newest First'), value: 'newest' },\n    { label: t('search.popular', 'Most Popular'), value: 'popular' },\n  ]\n\n  return (\n    <div className={`relative ${className}`} ref={searchRef}>\n      {/* Main Search Input */}\n      <div className=\"relative\">\n        <div\n          className=\"relative flex items-center bg-surface border border-border rounded-xl overflow-hidden transition-all duration-200 focus-within:ring-2 focus-within:ring-primary/20 focus-within:border-primary\"\n          style={{\n            background: `linear-gradient(135deg, ${theme.colors.surface}E6 0%, ${theme.colors.background}CC 100%)`,\n            backdropFilter: 'blur(10px)',\n          }}\n        >\n          <Search\n            className={`absolute top-1/2 transform -translate-y-1/2 text-foreground/40 ${\n              isRTL ? 'right-4' : 'left-4'\n            }`}\n            size={20}\n          />\n\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={localQuery}\n            onChange={handleInputChange}\n            onFocus={() => setIsOpen(true)}\n            onKeyDown={handleKeyPress}\n            placeholder={\n              placeholder ||\n              t('search.placeholder', 'Search products, categories, brands...')\n            }\n            className={`w-full py-3 bg-transparent text-foreground placeholder-foreground/40 focus:outline-none ${\n              isRTL ? 'pr-12 pl-16 text-right' : 'pl-12 pr-16 text-left'\n            }`}\n            dir={isRTL ? 'rtl' : 'ltr'}\n          />\n\n          <div\n            className={`absolute top-1/2 transform -translate-y-1/2 flex items-center gap-2 ${\n              isRTL ? 'left-4' : 'right-4'\n            }`}\n          >\n            {localQuery && (\n              <motion.button\n                initial={{ scale: 0 }}\n                animate={{ scale: 1 }}\n                exit={{ scale: 0 }}\n                onClick={clearInput}\n                className=\"p-1 text-foreground/40 hover:text-foreground transition-colors rounded-full hover:bg-background/50\"\n              >\n                <X size={16} />\n              </motion.button>\n            )}\n\n            {showFilters && (\n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={() => setShowFiltersPanel(!showFiltersPanel)}\n                className={`p-2 text-foreground/60 hover:text-primary transition-colors rounded-lg hover:bg-background/50 ${\n                  showFiltersPanel ? 'text-primary bg-primary/10' : ''\n                }`}\n              >\n                <Filter size={16} />\n              </motion.button>\n            )}\n          </div>\n        </div>\n\n        {/* Loading Indicator */}\n        {loading && (\n          <div\n            className={`absolute top-full mt-1 ${isRTL ? 'right-4' : 'left-4'}`}\n          >\n            <div className=\"flex items-center gap-2 text-sm text-foreground/60\">\n              <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent\"></div>\n              {t('search.searching', 'Searching...')}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Filters Panel */}\n      <AnimatePresence>\n        {showFiltersPanel && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            className={`absolute top-full mt-2 w-full bg-surface border border-border rounded-xl shadow-lg p-4 z-50 ${\n              isRTL ? 'right-0' : 'left-0'\n            }`}\n          >\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              {/* Search Type Filter */}\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  {t('search.searchIn', 'Search in')}\n                </label>\n                <select\n                  value={filters.type}\n                  onChange={e => handleFilterChange('type', e.target.value)}\n                  className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n                >\n                  <option value={SEARCH_TYPES.ALL}>\n                    {t('search.all', 'All')}\n                  </option>\n                  <option value={SEARCH_TYPES.PRODUCTS}>\n                    {t('search.products', 'Products')}\n                  </option>\n                  <option value={SEARCH_TYPES.CATEGORIES}>\n                    {t('search.categories', 'Categories')}\n                  </option>\n                  <option value={SEARCH_TYPES.BRANDS}>\n                    {t('search.brands', 'Brands')}\n                  </option>\n                </select>\n              </div>\n\n              {/* Price Range Filter */}\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  {t('search.priceRange', 'Price Range')}\n                </label>\n                <select\n                  value={filters.priceRange || ''}\n                  onChange={e =>\n                    handleFilterChange('priceRange', e.target.value || null)\n                  }\n                  className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n                >\n                  {priceRanges.map(range => (\n                    <option\n                      key={range.value || 'all'}\n                      value={range.value || ''}\n                    >\n                      {range.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Sort By Filter */}\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">\n                  {t('search.sortBy', 'Sort by')}\n                </label>\n                <select\n                  value={filters.sortBy}\n                  onChange={e => handleFilterChange('sortBy', e.target.value)}\n                  className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n                >\n                  {sortOptions.map(option => (\n                    <option key={option.value} value={option.value}>\n                      {option.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Search Dropdown - Make responsive for mobile */}\n      <AnimatePresence>\n        {isOpen && !showFiltersPanel && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            className={`absolute top-full mt-2 w-full bg-surface border border-border rounded-xl shadow-lg overflow-hidden z-50 max-h-96 ${\n              isRTL ? 'right-0' : 'left-0'\n            }`}\n          >\n            {localQuery.trim() ? (\n              // Show suggestions when there's a query\n              <div>\n                {suggestions.length > 0 ? (\n                  <>\n                    <div className=\"px-4 py-2 bg-background/50 border-b border-border\">\n                      <span className=\"text-sm font-medium text-foreground/60\">\n                        {t('search.suggestions', 'Suggestions')}\n                      </span>\n                    </div>\n                    <div className=\"max-h-64 overflow-y-auto\">\n                      {suggestions.map((suggestion, index) => (\n                        <motion.button\n                          key={`${suggestion.type}-${suggestion.id}-${index}`}\n                          initial={{ opacity: 0, x: isRTL ? 20 : -20 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          transition={{ delay: index * 0.05 }}\n                          onClick={() => handleSuggestionClick(suggestion)}\n                          className={`w-full px-4 py-3 text-left hover:bg-background/50 transition-colors flex items-center gap-3 ${\n                            isRTL ? 'flex-row-reverse text-right' : ''\n                          }`}\n                        >\n                          <span className=\"text-lg\">\n                            {getSuggestionIcon(suggestion.type)}\n                          </span>\n                          <div className=\"flex-1\">\n                            <span className=\"text-foreground\">\n                              {suggestion.text}\n                            </span>\n                            <span className=\"text-xs text-foreground/50 block capitalize\">\n                              {t(`search.${suggestion.type}`, suggestion.type)}\n                            </span>\n                          </div>\n                          <ArrowRight\n                            size={16}\n                            className={`text-foreground/30 ${isRTL ? 'rotate-180' : ''}`}\n                          />\n                        </motion.button>\n                      ))}\n                    </div>\n                  </>\n                ) : (\n                  <div className=\"px-4 py-8 text-center\">\n                    <Search className=\"mx-auto h-8 w-8 text-foreground/30 mb-2\" />\n                    <p className=\"text-foreground/60\">\n                      {t('search.noSuggestions', 'No suggestions found')}\n                    </p>\n                    <button\n                      onClick={() => handleSearch()}\n                      className=\"mt-2 text-primary hover:text-primary/80 font-medium text-sm\"\n                    >\n                      {t('search.searchAnyway', 'Search anyway')}\n                    </button>\n                  </div>\n                )}\n              </div>\n            ) : (\n              // Show search history and popular searches when no query\n              <div>\n                {searchHistory.length > 0 && (\n                  <>\n                    <div className=\"px-4 py-2 bg-background/50 border-b border-border flex items-center justify-between\">\n                      <span className=\"text-sm font-medium text-foreground/60 flex items-center gap-2\">\n                        <Clock size={14} />\n                        {t('search.recentSearches', 'Recent Searches')}\n                      </span>\n                      <button\n                        onClick={clearHistory}\n                        className=\"text-xs text-foreground/40 hover:text-foreground transition-colors\"\n                      >\n                        {t('search.clear', 'Clear')}\n                      </button>\n                    </div>\n                    <div className=\"max-h-48 overflow-y-auto\">\n                      {searchHistory.slice(0, 5).map((historyQuery, index) => (\n                        <motion.button\n                          key={`history-${index}`}\n                          initial={{ opacity: 0, x: isRTL ? 20 : -20 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          transition={{ delay: index * 0.05 }}\n                          onClick={() => handleHistoryClick(historyQuery)}\n                          className={`w-full px-4 py-3 text-left hover:bg-background/50 transition-colors flex items-center gap-3 ${\n                            isRTL ? 'flex-row-reverse text-right' : ''\n                          }`}\n                        >\n                          <Clock size={16} className=\"text-foreground/30\" />\n                          <span className=\"text-foreground flex-1\">\n                            {historyQuery}\n                          </span>\n                          <ArrowRight\n                            size={14}\n                            className={`text-foreground/30 ${isRTL ? 'rotate-180' : ''}`}\n                          />\n                        </motion.button>\n                      ))}\n                    </div>\n                  </>\n                )}\n\n                {/* Popular/Trending Searches */}\n                <div className=\"px-4 py-2 border-t border-border\">\n                  <span className=\"text-sm font-medium text-foreground/60 flex items-center gap-2\">\n                    <TrendingUp size={14} />\n                    {t('search.popularSearches', 'Popular Searches')}\n                  </span>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {[\n                      'leather wallet',\n                      'gaming setup',\n                      'office chair',\n                      'headphones',\n                      'dining table',\n                    ].map((term, index) => (\n                      <motion.button\n                        key={term}\n                        initial={{ opacity: 0, scale: 0.8 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        transition={{ delay: index * 0.1 }}\n                        onClick={() => handleHistoryClick(term)}\n                        className=\"px-3 py-1 bg-background hover:bg-primary/10 text-foreground/70 hover:text-primary text-sm rounded-full border border-border transition-colors\"\n                      >\n                        {term}\n                      </motion.button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  )\n}\n\nexport default EnhancedSearch\n","import { useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport {\n  Bell,\n  AlertTriangle,\n  Package,\n  X,\n  Check,\n  Clock,\n  TrendingDown,\n  Info,\n} from 'lucide-react'\nimport { useInventory } from '../../ui/contexts/InventoryContext'\nimport { useSegment } from '../../ui/contexts/SegmentContext'\n\nconst InventoryAlerts = ({ isOpen, onClose }) => {\n  const { alerts, allAlerts, acknowledgeAlert, clearAlerts } = useInventory()\n  const { theme } = useSegment()\n  const [filter, setFilter] = useState('active') // active, all, acknowledged\n\n  const filteredAlerts = (() => {\n    switch (filter) {\n      case 'active':\n        return alerts\n      case 'all':\n        return allAlerts\n      case 'acknowledged':\n        return allAlerts.filter(alert => alert.acknowledged)\n      default:\n        return alerts\n    }\n  })()\n\n  const getAlertIcon = type => {\n    switch (type) {\n      case 'critical':\n        return <AlertTriangle className=\"w-5 h-5 text-red-500\" />\n      case 'low':\n        return <TrendingDown className=\"w-5 h-5 text-yellow-500\" />\n      case 'reorder':\n        return <Package className=\"w-5 h-5 text-blue-500\" />\n      default:\n        return <Info className=\"w-5 h-5 text-gray-500\" />\n    }\n  }\n\n  const getAlertColor = type => {\n    switch (type) {\n      case 'critical':\n        return 'border-red-200 bg-red-50'\n      case 'low':\n        return 'border-yellow-200 bg-yellow-50'\n      case 'reorder':\n        return 'border-blue-200 bg-blue-50'\n      default:\n        return 'border-gray-200 bg-gray-50'\n    }\n  }\n\n  const formatTime = timestamp => {\n    const date = new Date(timestamp)\n    const now = new Date()\n    const diffInMinutes = Math.floor((now - date) / (1000 * 60))\n\n    if (diffInMinutes < 1) return 'Just now'\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`\n    return date.toLocaleDateString()\n  }\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <>\n          {/* Backdrop */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black bg-opacity-50 z-40\"\n            onClick={onClose}\n          />\n\n          {/* Alert Panel */}\n          <motion.div\n            initial={{ x: '100%' }}\n            animate={{ x: 0 }}\n            exit={{ x: '100%' }}\n            transition={{ type: 'spring', damping: 25, stiffness: 200 }}\n            className={`fixed right-0 top-0 h-full w-full max-w-md ${theme.cardBackground} ${theme.border} border-l z-50 flex flex-col shadow-2xl`}\n          >\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <div className=\"flex items-center gap-2\">\n                <Bell className=\"w-5 h-5 text-blue-500\" />\n                <h2 className={`text-lg font-semibold ${theme.text}`}>\n                  Inventory Alerts\n                </h2>\n                {alerts.length > 0 && (\n                  <span className=\"bg-red-500 text-white text-xs px-2 py-1 rounded-full\">\n                    {alerts.length}\n                  </span>\n                )}\n              </div>\n              <button\n                onClick={onClose}\n                className={`p-2 rounded-lg hover:bg-gray-100 transition-colors`}\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {/* Filter Tabs */}\n            <div className=\"flex border-b\">\n              <button\n                onClick={() => setFilter('active')}\n                className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\n                  filter === 'active'\n                    ? `${theme.accent} text-white`\n                    : `${theme.text} hover:bg-gray-50`\n                }`}\n              >\n                Active ({alerts.length})\n              </button>\n              <button\n                onClick={() => setFilter('all')}\n                className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\n                  filter === 'all'\n                    ? `${theme.accent} text-white`\n                    : `${theme.text} hover:bg-gray-50`\n                }`}\n              >\n                All ({allAlerts.length})\n              </button>\n              <button\n                onClick={() => setFilter('acknowledged')}\n                className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\n                  filter === 'acknowledged'\n                    ? `${theme.accent} text-white`\n                    : `${theme.text} hover:bg-gray-50`\n                }`}\n              >\n                Read ({allAlerts.filter(a => a.acknowledged).length})\n              </button>\n            </div>\n\n            {/* Actions */}\n            {filter === 'active' && alerts.length > 0 && (\n              <div className=\"p-4 border-b\">\n                <button\n                  onClick={clearAlerts}\n                  className={`w-full px-4 py-2 text-sm rounded-lg ${theme.cardBackground} ${theme.border} hover:${theme.borderHover} transition-colors`}\n                >\n                  Clear All Alerts\n                </button>\n              </div>\n            )}\n\n            {/* Alerts List */}\n            <div className=\"flex-1 overflow-y-auto\">\n              {filteredAlerts.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center h-full p-8 text-center\">\n                  <Bell className=\"w-16 h-16 text-gray-300 mb-4\" />\n                  <h3 className={`text-lg font-medium ${theme.text} mb-2`}>\n                    No alerts\n                  </h3>\n                  <p className={`text-sm ${theme.textSecondary}`}>\n                    {filter === 'active'\n                      ? 'All your inventory levels are healthy!'\n                      : filter === 'acknowledged'\n                        ? 'No acknowledged alerts yet'\n                        : 'No alerts have been generated'}\n                  </p>\n                </div>\n              ) : (\n                <div className=\"p-4 space-y-3\">\n                  {filteredAlerts.map(alert => (\n                    <motion.div\n                      key={alert.id}\n                      initial={{ opacity: 0, y: 10 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      className={`p-4 rounded-lg border ${getAlertColor(alert.type)} ${\n                        alert.acknowledged ? 'opacity-60' : ''\n                      }`}\n                    >\n                      <div className=\"flex items-start gap-3\">\n                        <div className=\"flex-shrink-0 mt-0.5\">\n                          {getAlertIcon(alert.type)}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-start justify-between gap-2\">\n                            <div className=\"flex-1\">\n                              <p className=\"text-sm font-medium text-gray-900\">\n                                {alert.productName}\n                              </p>\n                              <p className=\"text-sm text-gray-600 mt-1\">\n                                {alert.message}\n                              </p>\n                              <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\n                                <div className=\"flex items-center gap-1\">\n                                  <Clock className=\"w-3 h-3\" />\n                                  {formatTime(alert.timestamp)}\n                                </div>\n                                <div>Available: {alert.availableStock}</div>\n                              </div>\n                            </div>\n                            {!alert.acknowledged && (\n                              <button\n                                onClick={() => acknowledgeAlert(alert.id)}\n                                className=\"flex-shrink-0 p-1 text-gray-400 hover:text-green-500 transition-colors\"\n                                title=\"Mark as read\"\n                              >\n                                <Check className=\"w-4 h-4\" />\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </motion.div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Footer */}\n            <div className={`p-4 border-t ${theme.cardBackground}`}>\n              <div className=\"text-center\">\n                <p className={`text-xs ${theme.textSecondary}`}>\n                  Inventory alerts help you maintain optimal stock levels\n                </p>\n              </div>\n            </div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  )\n}\n\nexport default InventoryAlerts\n","import { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport {\n  Search,\n  ShoppingBag,\n  Menu,\n  X,\n  Globe,\n  ChevronDown,\n  Package,\n  User,\n} from 'lucide-react'\nimport { FloatingSegmentSwitcher } from './SegmentSwitcher.jsx'\nimport { useSegment } from '../contexts/SegmentContext.jsx'\nimport { useI18n } from '../contexts/I18nContext.jsx'\nimport { useInventory } from '../contexts/InventoryContext.jsx'\nimport { useAuth } from '../contexts/AuthContext.jsx'\nimport NotificationBell from '../../components/ui/NotificationBell.jsx'\nimport EnhancedSearch from '../../components/search/EnhancedSearch.jsx'\nimport InventoryAlerts from '../../components/inventory/InventoryAlerts.jsx'\n\nconst NAVIGATION_ITEMS = [\n  { label: 'nav.home', href: '/', segment: 'all' },\n  { label: 'nav.shop', href: '/shop', segment: 'all' },\n  { label: 'nav.categories', href: '/categories', segment: 'all' },\n  { label: 'nav.customize', href: '/customize', segment: 'all' },\n  { label: 'nav.about', href: '/about', segment: 'all' },\n  { label: 'nav.contact', href: '/contact', segment: 'all' },\n]\n\nexport default function FloatingNavbar() {\n  const [isScrolled, setIsScrolled] = useState(false)\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)\n  const [isSearchOpen, setIsSearchOpen] = useState(false)\n  const [isInventoryAlertsOpen, setIsInventoryAlertsOpen] = useState(false)\n  const [showCurrencyDropdown, setShowCurrencyDropdown] = useState(false)\n  const [showLanguageDropdown, setShowLanguageDropdown] = useState(false)\n\n  const { theme } = useSegment()\n  const { alerts } = useInventory()\n  const { user, isAuthenticated } = useAuth()\n  const {\n    language,\n    currency,\n    languages,\n    currencies,\n    setLanguage,\n    setCurrency,\n    t,\n    isRTL,\n  } = useI18n()\n\n  // Handle scroll effect\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 100)\n    }\n\n    window.addEventListener('scroll', handleScroll)\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [])\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      // Check if click is outside the dropdowns\n      if (showCurrencyDropdown || showLanguageDropdown) {\n        let target = event.target\n        let clickedInside = false\n\n        // Traverse up the DOM to check if click is inside a dropdown\n        while (target) {\n          if (\n            target.classList &&\n            (target.classList.contains('relative') ||\n              target.tagName === 'BUTTON')\n          ) {\n            clickedInside = true\n            break\n          }\n          target = target.parentElement\n        }\n\n        if (!clickedInside) {\n          setShowCurrencyDropdown(false)\n          setShowLanguageDropdown(false)\n        }\n      }\n    }\n\n    document.addEventListener('click', handleClickOutside)\n    return () => document.removeEventListener('click', handleClickOutside)\n  }, [showCurrencyDropdown, showLanguageDropdown])\n\n  const cartItemsCount = 3\n\n  // Check if user is admin/super_admin\n  const isAdmin = user?.role === 'admin' || user?.role === 'super_admin'\n\n  return (\n    <>\n      {/* Top Header */}\n      <div className=\"bg-foreground text-background py-2 px-4\">\n        <div className=\"max-w-7xl mx-auto flex items-center justify-between text-sm\">\n          <div className=\"flex items-center gap-4\">\n            <span>\n              {t('header.freeShipping', 'Free shipping on orders over 500 SAR')}\n            </span>\n            <span className=\"hidden md:inline\">|</span>\n            <span className=\"hidden md:inline\">\n              {t('header.support', '24/7 Customer Support')}\n            </span>\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            {/* Language Selector */}\n            <div className=\"relative\">\n              <button\n                onClick={e => {\n                  e.stopPropagation()\n                  setShowLanguageDropdown(!showLanguageDropdown)\n                  if (!showLanguageDropdown) setShowCurrencyDropdown(false)\n                }}\n                className=\"flex items-center gap-1 hover:opacity-80 transition-opacity\"\n              >\n                <Globe size={14} />\n                <span>{languages[language]?.nativeName}</span>\n                <ChevronDown\n                  size={12}\n                  className={`transform transition-transform ${showLanguageDropdown ? 'rotate-180' : ''}`}\n                />\n              </button>\n\n              <AnimatePresence>\n                {showLanguageDropdown && (\n                  <motion.div\n                    initial={{ opacity: 0, y: -10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -10 }}\n                    className={`absolute top-full mt-2 bg-surface border border-border rounded-segment-md shadow-segment-lg py-2 min-w-[120px] z-50 ${\n                      isRTL ? 'left-0' : 'right-0'\n                    }`}\n                  >\n                    {Object.values(languages).map(lang => (\n                      <button\n                        key={lang.code}\n                        onClick={() => {\n                          setLanguage(lang.code)\n                          setShowLanguageDropdown(false)\n                        }}\n                        className={`w-full px-3 py-2 text-foreground hover:bg-background/50 transition-colors flex items-center gap-2 ${\n                          isRTL ? 'text-right' : 'text-left'\n                        } ${language === lang.code ? 'bg-background/30' : ''}`}\n                      >\n                        <span>{lang.flag}</span>\n                        <span>{lang.nativeName}</span>\n                      </button>\n                    ))}\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n\n            {/* Currency Selector */}\n            <div className=\"relative\">\n              <button\n                onClick={e => {\n                  e.stopPropagation()\n                  setShowCurrencyDropdown(!showCurrencyDropdown)\n                  if (!showCurrencyDropdown) setShowLanguageDropdown(false)\n                }}\n                className=\"flex items-center gap-1 hover:opacity-80 transition-opacity\"\n              >\n                <span>{currency}</span>\n                <ChevronDown\n                  size={12}\n                  className={`transform transition-transform ${showCurrencyDropdown ? 'rotate-180' : ''}`}\n                />\n              </button>\n\n              <AnimatePresence>\n                {showCurrencyDropdown && (\n                  <motion.div\n                    initial={{ opacity: 0, y: -10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -10 }}\n                    className={`absolute top-full mt-2 bg-surface border border-border rounded-segment-md shadow-segment-lg py-2 min-w-[140px] z-50 ${\n                      isRTL ? 'left-0' : 'right-0'\n                    }`}\n                  >\n                    {Object.values(currencies).map(curr => (\n                      <button\n                        key={curr.code}\n                        onClick={() => {\n                          setCurrency(curr.code)\n                          setShowCurrencyDropdown(false)\n                        }}\n                        className={`w-full px-3 py-2 text-foreground hover:bg-background/50 transition-colors ${\n                          isRTL ? 'text-right' : 'text-left'\n                        } ${currency === curr.code ? 'bg-background/30' : ''}`}\n                      >\n                        <span className=\"font-medium\">{curr.code}</span>\n                        <span\n                          className={`text-foreground/60 ${isRTL ? 'mr-2' : 'ml-2'}`}\n                        >\n                          ({curr.symbol})\n                        </span>\n                      </button>\n                    ))}\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Floating Navbar */}\n      <motion.nav\n        className={`fixed top-12 z-40 transition-all duration-300 ${\n          isScrolled ? 'top-4' : 'top-12'\n        } ${isRTL ? 'right-4 left-4' : 'left-4 right-4'}`}\n        initial={{ y: -100, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        transition={{ duration: 0.6, ease: 'easeOut' }}\n      >\n        <div className=\"max-w-7xl mx-auto\">\n          <div\n            className=\"backdrop-blur-xl bg-surface/80 border border-border/50 rounded-2xl shadow-segment-xl px-6 py-4\"\n            style={{\n              background: `linear-gradient(135deg, ${theme.colors.surface}CC 0%, ${theme.colors.background}E6 100%)`,\n              backdropFilter: 'blur(20px)',\n            }}\n          >\n            <div\n              className={`flex items-center justify-between ${isRTL ? 'flex-row-reverse' : ''}`}\n            >\n              {/* Logo */}\n              <motion.div\n                className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n              >\n                <div\n                  className=\"w-10 h-10 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-segment-md\"\n                  style={{ backgroundColor: theme.colors.primary }}\n                >\n                  I\n                </div>\n                <span className=\"text-xl font-bold text-foreground\">\n                  IVOLEX\n                </span>\n              </motion.div>\n\n              {/* Desktop Navigation */}\n              <div\n                className={`hidden lg:flex items-center gap-8 ${isRTL ? 'flex-row-reverse' : ''}`}\n              >\n                {NAVIGATION_ITEMS.map(item => (\n                  <motion.a\n                    key={item.label}\n                    href={item.href}\n                    className=\"text-foreground/70 hover:text-primary transition-colors font-medium\"\n                    whileHover={{ y: -2 }}\n                    whileTap={{ y: 0 }}\n                  >\n                    {t(item.label)}\n                  </motion.a>\n                ))}\n              </div>\n\n              {/* Segment Switcher */}\n              <div className=\"hidden md:block\">\n                <FloatingSegmentSwitcher />\n              </div>\n\n              {/* Actions */}\n              <div\n                className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}\n              >\n                {/* Notifications */}\n                <NotificationBell />\n\n                {/* Inventory Alerts - Only show for admin users */}\n                {isAdmin && (\n                  <motion.button\n                    onClick={() => setIsInventoryAlertsOpen(true)}\n                    className=\"relative p-2 text-foreground/70 hover:text-primary hover:bg-background/50 rounded-full transition-all\"\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.9 }}\n                    aria-label=\"Inventory Alerts\"\n                  >\n                    <Package size={20} />\n                    {alerts.length > 0 && (\n                      <motion.span\n                        className={`absolute w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium ${\n                          isRTL ? 'bottom-1 left-1' : '-top-1 -right-1'\n                        }`}\n                        initial={{ scale: 0 }}\n                        animate={{ scale: 1 }}\n                        transition={{\n                          type: 'spring',\n                          stiffness: 500,\n                          damping: 30,\n                        }}\n                      >\n                        {alerts.length}\n                      </motion.span>\n                    )}\n                  </motion.button>\n                )}\n\n                {/* Search */}\n                <motion.button\n                  onClick={() => setIsSearchOpen(!isSearchOpen)}\n                  className=\"p-2 text-foreground/70 hover:text-primary hover:bg-background/50 rounded-full transition-all\"\n                  whileHover={{ scale: 1.1 }}\n                  whileTap={{ scale: 0.9 }}\n                  aria-label={t('nav.search')}\n                >\n                  <Search size={20} />\n                </motion.button>\n\n                {/* Profile Icon */}\n                {isAuthenticated ? (\n                  <motion.a\n                    href=\"/profile\"\n                    className=\"p-2 text-foreground/70 hover:text-primary hover:bg-background/50 rounded-full transition-all\"\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.9 }}\n                    aria-label={t('nav.profile')}\n                  >\n                    <User size={20} />\n                  </motion.a>\n                ) : (\n                  <motion.a\n                    href=\"/login\"\n                    className=\"p-2 text-foreground/70 hover:text-primary hover:bg-background/50 rounded-full transition-all\"\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.9 }}\n                    aria-label={t('nav.login')}\n                  >\n                    <User size={20} />\n                  </motion.a>\n                )}\n\n                {/* Cart */}\n                <motion.button\n                  className=\"relative p-2 text-foreground/70 hover:text-primary hover:bg-background/50 rounded-full transition-all\"\n                  whileHover={{ scale: 1.1 }}\n                  whileTap={{ scale: 0.9 }}\n                  aria-label={t('nav.cart')}\n                >\n                  <ShoppingBag size={20} />\n                  {cartItemsCount > 0 && (\n                    <motion.span\n                      className={`absolute w-5 h-5 bg-accent text-white text-xs rounded-full flex items-center justify-center font-medium ${\n                        isRTL ? 'bottom-1 left-1' : '-top-1 -right-1'\n                      }`}\n                      initial={{ scale: 0 }}\n                      animate={{ scale: 1 }}\n                      transition={{\n                        type: 'spring',\n                        stiffness: 500,\n                        damping: 30,\n                      }}\n                    >\n                      {cartItemsCount}\n                    </motion.span>\n                  )}\n                </motion.button>\n\n                {/* Mobile Menu Toggle */}\n                <motion.button\n                  onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n                  className=\"lg:hidden p-2 text-foreground/70 hover:text-primary hover:bg-background/50 rounded-full transition-all\"\n                  whileHover={{ scale: 1.1 }}\n                  whileTap={{ scale: 0.9 }}\n                  aria-label=\"Menu\"\n                >\n                  {isMobileMenuOpen ? <X size={20} /> : <Menu size={20} />}\n                </motion.button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </motion.nav>\n\n      {/* Search Overlay */}\n      <AnimatePresence>\n        {isSearchOpen && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-start justify-center pt-32\"\n            onClick={() => setIsSearchOpen(false)}\n          >\n            <motion.div\n              initial={{ y: -50, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              exit={{ y: -50, opacity: 0 }}\n              className=\"w-full max-w-2xl mx-4\"\n              onClick={e => e.stopPropagation()}\n            >\n              <div className=\"bg-surface border border-border rounded-2xl shadow-segment-xl p-6\">\n                <EnhancedSearch\n                  placeholder={t(\n                    'search.placeholder',\n                    'Search products, categories, or brands...'\n                  )}\n                  onResultSelect={result => {\n                    console.log('Selected:', result)\n                    setIsSearchOpen(false)\n                  }}\n                  showFilters={true}\n                />\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Mobile Menu */}\n      <AnimatePresence>\n        {isMobileMenuOpen && (\n          <motion.div\n            initial={{ opacity: 0, y: -20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            className={`fixed top-28 z-30 lg:hidden ${isRTL ? 'right-4 left-4' : 'left-4 right-4'}`}\n          >\n            <div\n              className=\"backdrop-blur-xl border border-border/50 rounded-2xl shadow-segment-xl p-6\"\n              style={{\n                background: `linear-gradient(135deg, ${theme.colors.surface}CC 0%, ${theme.colors.background}E6 100%)`,\n                backdropFilter: 'blur(20px)',\n              }}\n            >\n              {/* Mobile Segment Switcher */}\n              <div className=\"mb-6\">\n                <FloatingSegmentSwitcher className=\"justify-center\" />\n              </div>\n\n              {/* Mobile Navigation */}\n              <div className=\"space-y-4\">\n                {NAVIGATION_ITEMS.map(item => (\n                  <motion.a\n                    key={item.label}\n                    href={item.href}\n                    className={`block py-3 px-4 text-foreground hover:text-primary hover:bg-background/50 rounded-xl transition-colors font-medium ${\n                      isRTL ? 'text-right' : 'text-left'\n                    }`}\n                    whileHover={{ x: isRTL ? -4 : 4 }}\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    {t(item.label)}\n                  </motion.a>\n                ))}\n              </div>\n\n              {/* Mobile Profile/Login */}\n              <div className=\"mt-6 pt-4 border-t border-border\">\n                {isAuthenticated ? (\n                  <motion.a\n                    href=\"/profile\"\n                    className={`block py-3 px-4 text-foreground hover:text-primary hover:bg-background/50 rounded-xl transition-colors font-medium ${\n                      isRTL ? 'text-right' : 'text-left'\n                    }`}\n                    whileHover={{ x: isRTL ? -4 : 4 }}\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <User size={20} />\n                      {t('nav.profile')}\n                    </div>\n                  </motion.a>\n                ) : (\n                  <motion.a\n                    href=\"/login\"\n                    className={`block py-3 px-4 text-foreground hover:text-primary hover:bg-background/50 rounded-xl transition-colors font-medium ${\n                      isRTL ? 'text-right' : 'text-left'\n                    }`}\n                    whileHover={{ x: isRTL ? -4 : 4 }}\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <User size={20} />\n                      {t('nav.login')}\n                    </div>\n                  </motion.a>\n                )}\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Inventory Alerts - Only show for admin users */}\n      {isAdmin && (\n        <InventoryAlerts\n          isOpen={isInventoryAlertsOpen}\n          onClose={() => setIsInventoryAlertsOpen(false)}\n        />\n      )}\n    </>\n  )\n}\n","import {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  useCallback,\n} from 'react'\n\n// Comprehensive currency mapping by country\nconst currencyMap = {\n  // Middle East\n  SA: 'SAR',\n  AE: 'AED',\n  QA: 'QAR',\n  KW: 'KWD',\n  BH: 'BHD',\n  OM: 'OMR',\n  IQ: 'IQD',\n  JO: 'JOD',\n  LB: 'LBP',\n  SY: 'SYP',\n  YE: 'YER',\n  IL: 'ILS',\n  PS: 'ILS',\n  TR: 'TRY',\n  IR: 'IRR',\n  AF: 'AFN',\n\n  // Europe\n  AD: 'EUR',\n  AL: 'ALL',\n  AT: 'EUR',\n  BA: 'BAM',\n  BE: 'EUR',\n  BG: 'BGN',\n  BY: 'BYN',\n  CH: 'CHF',\n  CY: 'EUR',\n  CZ: 'CZK',\n  DE: 'EUR',\n  DK: 'DKK',\n  EE: 'EUR',\n  ES: 'EUR',\n  FI: 'EUR',\n  FR: 'EUR',\n  GB: 'GBP',\n  GR: 'EUR',\n  HR: 'EUR',\n  HU: 'HUF',\n  IE: 'EUR',\n  IS: 'ISK',\n  IT: 'EUR',\n  LI: 'CHF',\n  LT: 'EUR',\n  LU: 'EUR',\n  LV: 'EUR',\n  MC: 'EUR',\n  MD: 'MDL',\n  ME: 'EUR',\n  MK: 'MKD',\n  MT: 'EUR',\n  NL: 'EUR',\n  NO: 'NOK',\n  PL: 'PLN',\n  PT: 'EUR',\n  RO: 'RON',\n  RS: 'RSD',\n  RU: 'RUB',\n  SE: 'SEK',\n  SI: 'EUR',\n  SK: 'EUR',\n  SM: 'EUR',\n  UA: 'UAH',\n  VA: 'EUR',\n  XK: 'EUR',\n\n  // Americas\n  US: 'USD',\n  CA: 'CAD',\n  MX: 'MXN',\n  AR: 'ARS',\n  BR: 'BRL',\n  CL: 'CLP',\n  CO: 'COP',\n  PE: 'PEN',\n  VE: 'VES',\n  EC: 'USD',\n  UY: 'UYU',\n  PY: 'PYG',\n  BO: 'BOB',\n  GY: 'GYD',\n  SR: 'SRD',\n  FK: 'FKP',\n  GF: 'EUR',\n  CU: 'CUP',\n  DO: 'DOP',\n  HT: 'HTG',\n  JM: 'JMD',\n  TT: 'TTD',\n  BB: 'BBD',\n  BS: 'BSD',\n  BZ: 'BZD',\n  CR: 'CRC',\n  GT: 'GTQ',\n  HN: 'HNL',\n  NI: 'NIO',\n  PA: 'PAB',\n  SV: 'USD',\n  AG: 'XCD',\n  DM: 'XCD',\n  GD: 'XCD',\n  KN: 'XCD',\n  LC: 'XCD',\n  VC: 'XCD',\n  AI: 'XCD',\n  AW: 'AWG',\n  BM: 'BMD',\n  BQ: 'USD',\n  CW: 'ANG',\n  GL: 'DKK',\n  GP: 'EUR',\n  KY: 'KYD',\n  MQ: 'EUR',\n  MS: 'XCD',\n  PM: 'EUR',\n  PR: 'USD',\n  SX: 'ANG',\n  TC: 'USD',\n  VG: 'USD',\n  VI: 'USD',\n\n  // Asia Pacific\n  CN: 'CNY',\n  JP: 'JPY',\n  KR: 'KRW',\n  IN: 'INR',\n  TH: 'THB',\n  VN: 'VND',\n  ID: 'IDR',\n  MY: 'MYR',\n  SG: 'SGD',\n  PH: 'PHP',\n  BD: 'BDT',\n  PK: 'PKR',\n  LK: 'LKR',\n  NP: 'NPR',\n  BT: 'BTN',\n  MV: 'MVR',\n  MM: 'MMK',\n  KH: 'KHR',\n  LA: 'LAK',\n  MN: 'MNT',\n  TW: 'TWD',\n  HK: 'HKD',\n  MO: 'MOP',\n  AU: 'AUD',\n  NZ: 'NZD',\n  FJ: 'FJD',\n  PG: 'PGK',\n  VU: 'VUV',\n  SB: 'SBD',\n  NC: 'XPF',\n  PF: 'XPF',\n  WS: 'WST',\n  TO: 'TOP',\n  KI: 'AUD',\n  TV: 'AUD',\n  NR: 'AUD',\n  PW: 'USD',\n  FM: 'USD',\n  MH: 'USD',\n  CK: 'NZD',\n  NU: 'NZD',\n  TK: 'NZD',\n\n  // Africa\n  EG: 'EGP',\n  ZA: 'ZAR',\n  NG: 'NGN',\n  KE: 'KES',\n  MA: 'MAD',\n  TN: 'TND',\n  DZ: 'DZD',\n  LY: 'LYD',\n  SD: 'SDG',\n  ET: 'ETB',\n  GH: 'GHS',\n  CI: 'XOF',\n  SN: 'XOF',\n  ML: 'XOF',\n  BF: 'XOF',\n  NE: 'XOF',\n  TG: 'XOF',\n  BJ: 'XOF',\n  GN: 'GNF',\n  SL: 'SLL',\n  LR: 'LRD',\n  CM: 'XAF',\n  CF: 'XAF',\n  TD: 'XAF',\n  CG: 'XAF',\n  GA: 'XAF',\n  GQ: 'XAF',\n  AO: 'AOA',\n  ZM: 'ZMW',\n  ZW: 'ZWL',\n  BW: 'BWP',\n  NA: 'NAD',\n  SZ: 'SZL',\n  LS: 'LSL',\n  MW: 'MWK',\n  MZ: 'MZN',\n  MG: 'MGA',\n  MU: 'MUR',\n  SC: 'SCR',\n  KM: 'KMF',\n  DJ: 'DJF',\n  SO: 'SOS',\n  ER: 'ERN',\n  UG: 'UGX',\n  TZ: 'TZS',\n  RW: 'RWF',\n  BI: 'BIF',\n\n  // Default to USD for others\n}\n\n// Region mapping by country\nconst regionMap = {\n  // Middle East\n  SA: 'Middle East',\n  AE: 'Middle East',\n  QA: 'Middle East',\n  KW: 'Middle East',\n  BH: 'Middle East',\n  OM: 'Middle East',\n  IQ: 'Middle East',\n  JO: 'Middle East',\n  LB: 'Middle East',\n  SY: 'Middle East',\n  YE: 'Middle East',\n  IL: 'Middle East',\n  PS: 'Middle East',\n  TR: 'Middle East',\n  IR: 'Middle East',\n  AF: 'Middle East',\n\n  // Europe\n  AD: 'Europe',\n  AL: 'Europe',\n  AT: 'Europe',\n  BA: 'Europe',\n  BE: 'Europe',\n  BG: 'Europe',\n  BY: 'Europe',\n  CH: 'Europe',\n  CY: 'Europe',\n  CZ: 'Europe',\n  DE: 'Europe',\n  DK: 'Europe',\n  EE: 'Europe',\n  ES: 'Europe',\n  FI: 'Europe',\n  FR: 'Europe',\n  GB: 'Europe',\n  GR: 'Europe',\n  HR: 'Europe',\n  HU: 'Europe',\n  IE: 'Europe',\n  IS: 'Europe',\n  IT: 'Europe',\n  LI: 'Europe',\n  LT: 'Europe',\n  LU: 'Europe',\n  LV: 'Europe',\n  MC: 'Europe',\n  MD: 'Europe',\n  ME: 'Europe',\n  MK: 'Europe',\n  MT: 'Europe',\n  NL: 'Europe',\n  NO: 'Europe',\n  PL: 'Europe',\n  PT: 'Europe',\n  RO: 'Europe',\n  RS: 'Europe',\n  RU: 'Europe',\n  SE: 'Europe',\n  SI: 'Europe',\n  SK: 'Europe',\n  SM: 'Europe',\n  UA: 'Europe',\n  VA: 'Europe',\n  XK: 'Europe',\n\n  // Americas\n  US: 'Americas',\n  CA: 'Americas',\n  MX: 'Americas',\n  AR: 'Americas',\n  BR: 'Americas',\n  CL: 'Americas',\n  CO: 'Americas',\n  PE: 'Americas',\n  VE: 'Americas',\n  EC: 'Americas',\n  UY: 'Americas',\n  PY: 'Americas',\n  BO: 'Americas',\n  GY: 'Americas',\n  SR: 'Americas',\n  FK: 'Americas',\n  GF: 'Americas',\n  CU: 'Americas',\n  DO: 'Americas',\n  HT: 'Americas',\n  JM: 'Americas',\n  TT: 'Americas',\n  BB: 'Americas',\n  BS: 'Americas',\n  BZ: 'Americas',\n  CR: 'Americas',\n  GT: 'Americas',\n  HN: 'Americas',\n  NI: 'Americas',\n  PA: 'Americas',\n  SV: 'Americas',\n  AG: 'Americas',\n  DM: 'Americas',\n  GD: 'Americas',\n  KN: 'Americas',\n  LC: 'Americas',\n  VC: 'Americas',\n  AI: 'Americas',\n  AW: 'Americas',\n  BM: 'Americas',\n  BQ: 'Americas',\n  CW: 'Americas',\n  GL: 'Americas',\n  GP: 'Americas',\n  KY: 'Americas',\n  MQ: 'Americas',\n  MS: 'Americas',\n  PM: 'Americas',\n  PR: 'Americas',\n  SX: 'Americas',\n  TC: 'Americas',\n  VG: 'Americas',\n  VI: 'Americas',\n\n  // Asia Pacific\n  CN: 'Asia Pacific',\n  JP: 'Asia Pacific',\n  KR: 'Asia Pacific',\n  IN: 'Asia Pacific',\n  TH: 'Asia Pacific',\n  VN: 'Asia Pacific',\n  ID: 'Asia Pacific',\n  MY: 'Asia Pacific',\n  SG: 'Asia Pacific',\n  PH: 'Asia Pacific',\n  BD: 'Asia Pacific',\n  PK: 'Asia Pacific',\n  LK: 'Asia Pacific',\n  NP: 'Asia Pacific',\n  BT: 'Asia Pacific',\n  MV: 'Asia Pacific',\n  MM: 'Asia Pacific',\n  KH: 'Asia Pacific',\n  LA: 'Asia Pacific',\n  MN: 'Asia Pacific',\n  TW: 'Asia Pacific',\n  HK: 'Asia Pacific',\n  MO: 'Asia Pacific',\n  AU: 'Asia Pacific',\n  NZ: 'Asia Pacific',\n  FJ: 'Asia Pacific',\n  PG: 'Asia Pacific',\n  VU: 'Asia Pacific',\n  SB: 'Asia Pacific',\n  NC: 'Asia Pacific',\n  PF: 'Asia Pacific',\n  WS: 'Asia Pacific',\n  TO: 'Asia Pacific',\n  KI: 'Asia Pacific',\n  TV: 'Asia Pacific',\n  NR: 'Asia Pacific',\n  PW: 'Asia Pacific',\n  FM: 'Asia Pacific',\n  MH: 'Asia Pacific',\n  CK: 'Asia Pacific',\n  NU: 'Asia Pacific',\n  TK: 'Asia Pacific',\n\n  // Africa\n  EG: 'Africa',\n  ZA: 'Africa',\n  NG: 'Africa',\n  KE: 'Africa',\n  MA: 'Africa',\n  TN: 'Africa',\n  DZ: 'Africa',\n  LY: 'Africa',\n  SD: 'Africa',\n  ET: 'Africa',\n  GH: 'Africa',\n  CI: 'Africa',\n  SN: 'Africa',\n  ML: 'Africa',\n  BF: 'Africa',\n  NE: 'Africa',\n  TG: 'Africa',\n  BJ: 'Africa',\n  GN: 'Africa',\n  SL: 'Africa',\n  LR: 'Africa',\n  CM: 'Africa',\n  CF: 'Africa',\n  TD: 'Africa',\n  CG: 'Africa',\n  GA: 'Africa',\n  GQ: 'Africa',\n  AO: 'Africa',\n  ZM: 'Africa',\n  ZW: 'Africa',\n  BW: 'Africa',\n  NA: 'Africa',\n  SZ: 'Africa',\n  LS: 'Africa',\n  MW: 'Africa',\n  MZ: 'Africa',\n  MG: 'Africa',\n  MU: 'Africa',\n  SC: 'Africa',\n  KM: 'Africa',\n  DJ: 'Africa',\n  SO: 'Africa',\n  ER: 'Africa',\n  UG: 'Africa',\n  TZ: 'Africa',\n  RW: 'Africa',\n  BI: 'Africa',\n\n  // Default to 'Global' for others\n}\n\n// Complete currency list with symbols\nexport const CURRENCIES = [\n  // Major World Currencies\n  { code: 'USD', symbol: '$', name: 'US Dollar' },\n  { code: 'EUR', symbol: '€', name: 'Euro' },\n  { code: 'GBP', symbol: '£', name: 'British Pound' },\n  { code: 'JPY', symbol: '¥', name: 'Japanese Yen' },\n  { code: 'CNY', symbol: '¥', name: 'Chinese Yuan' },\n\n  // Middle East\n  { code: 'SAR', symbol: 'SAR', name: 'Saudi Riyal' },\n  { code: 'AED', symbol: 'AED', name: 'UAE Dirham' },\n  { code: 'QAR', symbol: 'QAR', name: 'Qatari Riyal' },\n  { code: 'KWD', symbol: 'KWD', name: 'Kuwaiti Dinar' },\n  { code: 'BHD', symbol: 'BHD', name: 'Bahraini Dinar' },\n  { code: 'OMR', symbol: 'OMR', name: 'Omani Rial' },\n  { code: 'ILS', symbol: '₪', name: 'Israeli Shekel' },\n  { code: 'TRY', symbol: '₺', name: 'Turkish Lira' },\n\n  // Americas\n  { code: 'CAD', symbol: 'C$', name: 'Canadian Dollar' },\n  { code: 'MXN', symbol: '$', name: 'Mexican Peso' },\n  { code: 'BRL', symbol: 'R$', name: 'Brazilian Real' },\n  { code: 'ARS', symbol: '$', name: 'Argentine Peso' },\n  { code: 'CLP', symbol: '$', name: 'Chilean Peso' },\n  { code: 'COP', symbol: '$', name: 'Colombian Peso' },\n\n  // Europe\n  { code: 'CHF', symbol: 'CHF', name: 'Swiss Franc' },\n  { code: 'NOK', symbol: 'kr', name: 'Norwegian Krone' },\n  { code: 'SEK', symbol: 'kr', name: 'Swedish Krona' },\n  { code: 'DKK', symbol: 'kr', name: 'Danish Krone' },\n  { code: 'PLN', symbol: 'zł', name: 'Polish Zloty' },\n  { code: 'CZK', symbol: 'Kč', name: 'Czech Koruna' },\n  { code: 'HUF', symbol: 'Ft', name: 'Hungarian Forint' },\n  { code: 'RON', symbol: 'lei', name: 'Romanian Leu' },\n  { code: 'RUB', symbol: '₽', name: 'Russian Ruble' },\n\n  // Asia Pacific\n  { code: 'KRW', symbol: '₩', name: 'South Korean Won' },\n  { code: 'INR', symbol: '₹', name: 'Indian Rupee' },\n  { code: 'THB', symbol: '฿', name: 'Thai Baht' },\n  { code: 'VND', symbol: '₫', name: 'Vietnamese Dong' },\n  { code: 'IDR', symbol: 'Rp', name: 'Indonesian Rupiah' },\n  { code: 'MYR', symbol: 'RM', name: 'Malaysian Ringgit' },\n  { code: 'SGD', symbol: 'S$', name: 'Singapore Dollar' },\n  { code: 'PHP', symbol: '₱', name: 'Philippine Peso' },\n  { code: 'HKD', symbol: 'HK$', name: 'Hong Kong Dollar' },\n  { code: 'TWD', symbol: 'NT$', name: 'Taiwan Dollar' },\n  { code: 'AUD', symbol: 'A$', name: 'Australian Dollar' },\n  { code: 'NZD', symbol: 'NZ$', name: 'New Zealand Dollar' },\n\n  // Africa\n  { code: 'ZAR', symbol: 'R', name: 'South African Rand' },\n  { code: 'EGP', symbol: '£', name: 'Egyptian Pound' },\n  { code: 'NGN', symbol: '₦', name: 'Nigerian Naira' },\n  { code: 'KES', symbol: 'KSh', name: 'Kenyan Shilling' },\n  { code: 'MAD', symbol: 'MAD', name: 'Moroccan Dirham' },\n  { code: 'TND', symbol: 'TND', name: 'Tunisian Dinar' },\n].sort((a, b) => a.name.localeCompare(b.name))\n\n// Regions list\nexport const REGIONS = [\n  'Global',\n  'Africa',\n  'Americas',\n  'Asia Pacific',\n  'Europe',\n  'Middle East',\n]\n\nconst LocationContext = createContext()\n\nexport const useLocation = () => {\n  const context = useContext(LocationContext)\n  if (!context) {\n    throw new Error('useLocation must be used within a LocationProvider')\n  }\n  return context\n}\n\nexport const LocationProvider = ({ children }) => {\n  const [location, setLocation] = useState({\n    country: 'India', // Default to India for launch market\n    region: 'Asia Pacific',\n    currency: 'INR', // Default to INR for India launch\n    loading: true,\n    error: null,\n  })\n\n  const [manualOverride, setManualOverride] = useState({\n    currency: null,\n    region: null,\n  })\n\n  const detectByIP = useCallback(async () => {\n    try {\n      const response = await fetch('https://ipapi.co/json/')\n      const data = await response.json()\n      const countryCode = data.country_code\n      const detectedRegion = regionMap[countryCode] || 'Global'\n      const detectedCurrency = currencyMap[countryCode] || 'USD'\n\n      setLocation({\n        country: data.country_name,\n        region: detectedRegion,\n        currency: detectedCurrency,\n        loading: false,\n        error: null,\n      })\n    } catch (error) {\n      console.error('IP detection failed:', error)\n      setLocation(prev => ({\n        ...prev,\n        loading: false,\n        error: 'Failed to detect location',\n      }))\n    }\n  }, [])\n\n  const detectLocation = useCallback(async () => {\n    try {\n      // Try geolocation first\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(\n          async position => {\n            const { latitude, longitude } = position.coords\n            // Use reverse geocoding to get country\n            const response = await fetch(\n              `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=en`\n            )\n            const data = await response.json()\n            const countryCode = data.countryCode\n            const detectedRegion = regionMap[countryCode] || 'Global'\n            const detectedCurrency = currencyMap[countryCode] || 'USD'\n\n            setLocation({\n              country: data.countryName,\n              region: detectedRegion,\n              currency: detectedCurrency,\n              loading: false,\n              error: null,\n            })\n          },\n          async error => {\n            console.warn(\n              'Geolocation failed, falling back to IP detection:',\n              error\n            )\n            await detectByIP()\n          }\n        )\n      } else {\n        await detectByIP()\n      }\n    } catch (error) {\n      console.error('Location detection failed:', error)\n      setLocation(prev => ({\n        ...prev,\n        loading: false,\n        error: 'Failed to detect location',\n      }))\n    }\n  }, [detectByIP])\n\n  const setManualCurrency = currency => {\n    setManualOverride(prev => ({ ...prev, currency }))\n  }\n\n  const setManualRegion = region => {\n    setManualOverride(prev => ({ ...prev, region }))\n  }\n\n  // Get effective currency (manual override or detected)\n  const effectiveCurrency = manualOverride.currency || location.currency\n  const effectiveRegion = manualOverride.region || location.region\n\n  useEffect(() => {\n    detectLocation()\n  }, [detectLocation])\n\n  const value = {\n    location,\n    manualOverride,\n    effectiveCurrency,\n    effectiveRegion,\n    setManualCurrency,\n    setManualRegion,\n    detectLocation,\n  }\n\n  return (\n    <LocationContext.Provider value={value}>\n      {children}\n    </LocationContext.Provider>\n  )\n}\n","import { useState, useRef, useEffect } from 'react'\nimport { ChevronDown, Globe } from 'lucide-react'\nimport { useLocation } from '../contexts/LocationContext.jsx'\nimport { CURRENCIES, REGIONS } from '../contexts/LocationContext.jsx'\n\n// Currency selector component with rollback completed\n\nexport default function CurrencySelector({\n  variant = 'default', // 'default', 'footer', 'profile'\n  showRegion = true,\n  className = '',\n}) {\n  const {\n    effectiveCurrency,\n    effectiveRegion,\n    setManualCurrency,\n    setManualRegion,\n  } = useLocation()\n\n  const [isCurrencyOpen, setIsCurrencyOpen] = useState(false)\n  const [isRegionOpen, setIsRegionOpen] = useState(false)\n\n  const currencyRef = useRef(null)\n  const regionRef = useRef(null)\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (currencyRef.current && !currencyRef.current.contains(event.target)) {\n        setIsCurrencyOpen(false)\n      }\n      if (regionRef.current && !regionRef.current.contains(event.target)) {\n        setIsRegionOpen(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => document.removeEventListener('mousedown', handleClickOutside)\n  }, [])\n\n  // Get current currency info\n  const currentCurrency =\n    CURRENCIES.find(c => c.code === effectiveCurrency) || CURRENCIES[0]\n\n  // Variant-specific styling\n  const getButtonClasses = () => {\n    const baseClasses =\n      'flex items-center gap-2 transition-colors focus:outline-none focus:ring-2 focus:ring-brand-500'\n\n    switch (variant) {\n      case 'footer':\n        return `${baseClasses} text-stone-300 hover:text-white px-3 py-2 text-sm border border-stone-700 rounded-lg hover:border-stone-500`\n      case 'profile':\n        return `${baseClasses} border rounded-xl px-4 py-3 hover:bg-stone-50 text-sm`\n      default:\n        return `${baseClasses} text-sm border rounded-xl px-3 py-1.5 hover:bg-stone-50`\n    }\n  }\n\n  const getDropdownClasses = () => {\n    const baseClasses =\n      'absolute z-50 mt-1 bg-white border rounded-xl shadow-lg'\n\n    switch (variant) {\n      case 'footer':\n        return `${baseClasses} border-stone-600 bg-stone-800 text-stone-200 min-w-[280px] max-h-80 overflow-hidden`\n      case 'profile':\n        return `${baseClasses} min-w-[320px] max-h-96 overflow-hidden`\n      default:\n        return `${baseClasses} min-w-[280px] max-h-80 overflow-hidden`\n    }\n  }\n\n  const getItemClasses = () => {\n    const baseClasses = 'w-full text-left px-3 py-2 text-sm transition-colors'\n\n    return variant === 'footer'\n      ? `${baseClasses} hover:bg-stone-700 text-stone-200`\n      : `${baseClasses} hover:bg-stone-50`\n  }\n\n  return (\n    <div className={`space-y-3 ${className}`}>\n      {/* Region Selector */}\n      {showRegion && (\n        <div className=\"relative\" ref={regionRef}>\n          <label\n            className={`block text-sm font-medium mb-2 ${\n              variant === 'footer' ? 'text-stone-300' : 'text-stone-700'\n            }`}\n          >\n            Region:\n          </label>\n          <button\n            onClick={() => setIsRegionOpen(!isRegionOpen)}\n            className={getButtonClasses()}\n          >\n            <Globe size={16} />\n            <span className=\"flex-1 text-left\">\n              {effectiveRegion || 'Global'}\n            </span>\n            <ChevronDown\n              size={14}\n              className={`transition-transform ${\n                isRegionOpen ? 'rotate-180' : ''\n              }`}\n            />\n          </button>\n\n          {isRegionOpen && (\n            <div className={getDropdownClasses()}>\n              <div className=\"p-2 space-y-1 max-h-48 overflow-y-auto\">\n                {REGIONS.map(region => (\n                  <button\n                    key={region}\n                    onClick={() => {\n                      setManualRegion(region === 'Global' ? null : region)\n                      setIsRegionOpen(false)\n                    }}\n                    className={`${getItemClasses()} ${\n                      (effectiveRegion || 'Global') === region\n                        ? variant === 'footer'\n                          ? 'bg-stone-700 text-white'\n                          : 'bg-brand-50 text-brand-700'\n                        : ''\n                    }`}\n                  >\n                    {region}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Currency Selector */}\n      <div className=\"relative\" ref={currencyRef}>\n        <label\n          className={`block text-sm font-medium mb-2 ${\n            variant === 'footer' ? 'text-stone-300' : 'text-stone-700'\n          }`}\n        >\n          Currency:\n        </label>\n        <button\n          onClick={() => setIsCurrencyOpen(!isCurrencyOpen)}\n          className={getButtonClasses()}\n        >\n          <span className=\"text-lg\">{currentCurrency.symbol}</span>\n          <span className=\"flex-1 text-left\">\n            {currentCurrency.code} - {currentCurrency.name}\n          </span>\n          <ChevronDown\n            size={14}\n            className={`transition-transform ${\n              isCurrencyOpen ? 'rotate-180' : ''\n            }`}\n          />\n        </button>\n\n        {isCurrencyOpen && (\n          <div className={getDropdownClasses()}>\n            <div className=\"max-h-64 overflow-y-auto p-2 space-y-1\">\n              {CURRENCIES.map(currency => (\n                <button\n                  key={currency.code}\n                  onClick={() => {\n                    setManualCurrency(currency.code)\n                    setIsCurrencyOpen(false)\n                  }}\n                  className={`${getItemClasses()} flex items-center gap-3 ${\n                    effectiveCurrency === currency.code\n                      ? variant === 'footer'\n                        ? 'bg-stone-700 text-white'\n                        : 'bg-brand-50 text-brand-700'\n                      : ''\n                  }`}\n                >\n                  <span className=\"text-lg font-mono w-6 text-center\">\n                    {currency.symbol}\n                  </span>\n                  <div className=\"flex-1 text-left\">\n                    <div className=\"font-medium\">{currency.code}</div>\n                    <div\n                      className={`text-xs ${\n                        variant === 'footer'\n                          ? 'text-stone-400'\n                          : 'text-stone-500'\n                      }`}\n                    >\n                      {currency.name}\n                    </div>\n                  </div>\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","import { motion } from 'framer-motion'\nimport {\n  Facebook,\n  Instagram,\n  Twitter,\n  Youtube,\n  Mail,\n  Phone,\n  MapPin,\n} from 'lucide-react'\nimport { useAuth } from '../contexts/AuthContext.jsx'\nimport CurrencySelector from '../components/CurrencySelector.jsx'\n\nexport default function Footer() {\n  const { isAuthenticated } = useAuth()\n\n  const socialLinks = [\n    { icon: Facebook, href: '#', label: 'Facebook' },\n    { icon: Instagram, href: '#', label: 'Instagram' },\n    { icon: Twitter, href: '#', label: 'Twitter' },\n    { icon: Youtube, href: '#', label: 'YouTube' },\n  ]\n\n  const footerLinks = {\n    shop: [\n      { name: 'Wallets', href: '#' },\n      { name: 'Bags', href: '#' },\n      { name: 'Belts', href: '#' },\n      { name: 'Footwear', href: '#' },\n      { name: 'Accessories', href: '#' },\n    ],\n    company: [\n      { name: 'About Us', href: '#about' },\n      { name: 'Customization', href: '#customize' },\n      { name: 'Sustainability', href: '#' },\n      { name: 'Careers', href: '#' },\n    ],\n    support: [\n      { name: 'FAQs', href: '#' },\n      { name: 'Shipping & Returns', href: '#' },\n      { name: 'Care Guide', href: '#' },\n      { name: 'Privacy Policy', href: '#' },\n      { name: 'Terms & Conditions', href: '#' },\n    ],\n  }\n\n  return (\n    <footer id=\"about\" className=\"bg-stone-900 text-stone-200\">\n      <div className=\"container-xl\">\n        {/* Main Footer Content */}\n        <div\n          className={`grid gap-8 py-12 ${\n            isAuthenticated ? 'md:grid-cols-4' : 'md:grid-cols-5'\n          }`}\n        >\n          {/* Company Info */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n            viewport={{ once: true }}\n          >\n            <div className=\"font-bold text-xl text-white mb-4\">IVOLEX</div>\n            <p className=\"text-sm text-stone-400 mb-6 leading-relaxed\">\n              Crafting premium leather goods with passion and precision since\n              2010. Each piece tells a story of craftsmanship and elegance.\n            </p>\n\n            {/* Contact Info */}\n            <div className=\"space-y-3 mb-6\">\n              <div className=\"flex items-center gap-3 text-sm text-stone-400\">\n                <MapPin size={16} />\n                <span>Riyadh, Saudi Arabia</span>\n              </div>\n              <div className=\"flex items-center gap-3 text-sm text-stone-400\">\n                <Phone size={16} />\n                <span>+966 50 123 4567</span>\n              </div>\n              <div className=\"flex items-center gap-3 text-sm text-stone-400\">\n                <Mail size={16} />\n                <span>hello@ivolex.com</span>\n              </div>\n            </div>\n\n            {/* Social Links */}\n            <div className=\"flex gap-3\">\n              {socialLinks.map((social, index) => {\n                const IconComponent = social.icon\n                return (\n                  <motion.a\n                    key={social.label}\n                    href={social.href}\n                    aria-label={social.label}\n                    className=\"w-10 h-10 rounded-full bg-stone-800 flex items-center justify-center hover:bg-brand-600 transition-colors duration-200\"\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.95 }}\n                    initial={{ opacity: 0, scale: 0 }}\n                    whileInView={{ opacity: 1, scale: 1 }}\n                    transition={{ duration: 0.3, delay: index * 0.1 }}\n                    viewport={{ once: true }}\n                  >\n                    <IconComponent size={18} />\n                  </motion.a>\n                )\n              })}\n            </div>\n          </motion.div>\n\n          {/* Shop Links */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.1 }}\n            viewport={{ once: true }}\n          >\n            <div className=\"font-semibold text-white mb-4\">Shop</div>\n            <ul className=\"space-y-3 text-sm text-stone-400\">\n              {footerLinks.shop.map((link, index) => (\n                <motion.li\n                  key={link.name}\n                  initial={{ opacity: 0, x: -10 }}\n                  whileInView={{ opacity: 1, x: 0 }}\n                  transition={{ duration: 0.3, delay: index * 0.05 }}\n                  viewport={{ once: true }}\n                >\n                  <a\n                    href={link.href}\n                    className=\"hover:text-white transition-colors duration-200\"\n                  >\n                    {link.name}\n                  </a>\n                </motion.li>\n              ))}\n            </ul>\n          </motion.div>\n\n          {/* Company Links */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.2 }}\n            viewport={{ once: true }}\n          >\n            <div className=\"font-semibold text-white mb-4\">Company</div>\n            <ul className=\"space-y-3 text-sm text-stone-400\">\n              {footerLinks.company.map((link, index) => (\n                <motion.li\n                  key={link.name}\n                  initial={{ opacity: 0, x: -10 }}\n                  whileInView={{ opacity: 1, x: 0 }}\n                  transition={{ duration: 0.3, delay: index * 0.05 }}\n                  viewport={{ once: true }}\n                >\n                  <a\n                    href={link.href}\n                    className=\"hover:text-white transition-colors duration-200\"\n                  >\n                    {link.name}\n                  </a>\n                </motion.li>\n              ))}\n            </ul>\n          </motion.div>\n\n          {/* Support Links */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.3 }}\n            viewport={{ once: true }}\n          >\n            <div className=\"font-semibold text-white mb-4\">Support</div>\n            <ul className=\"space-y-3 text-sm text-stone-400\">\n              {footerLinks.support.map((link, index) => (\n                <motion.li\n                  key={link.name}\n                  initial={{ opacity: 0, x: -10 }}\n                  whileInView={{ opacity: 1, x: 0 }}\n                  transition={{ duration: 0.3, delay: index * 0.05 }}\n                  viewport={{ once: true }}\n                >\n                  <a\n                    href={link.href}\n                    className=\"hover:text-white transition-colors duration-200\"\n                  >\n                    {link.name}\n                  </a>\n                </motion.li>\n              ))}\n            </ul>\n          </motion.div>\n\n          {/* Currency Selector - Only shown when not authenticated */}\n          {!isAuthenticated && (\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.6, delay: 0.4 }}\n              viewport={{ once: true }}\n            >\n              <div className=\"font-semibold text-white mb-4\">Preferences</div>\n              <p className=\"text-sm text-stone-400 mb-4\">\n                Set your regional preferences for localized pricing and content.\n              </p>\n              <CurrencySelector variant=\"footer\" showRegion={true} />\n            </motion.div>\n          )}\n        </div>\n\n        {/* Bottom Bar */}\n        <motion.div\n          className=\"border-t border-stone-800 pt-6\"\n          initial={{ opacity: 0 }}\n          whileInView={{ opacity: 1 }}\n          transition={{ duration: 0.6, delay: 0.4 }}\n          viewport={{ once: true }}\n        >\n          <div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n            <div className=\"text-sm text-stone-500\">\n              © 2024 IVOLEX. All rights reserved.\n            </div>\n\n            {/* Payment Methods */}\n            <div className=\"flex items-center gap-3\">\n              <div className=\"text-xs text-stone-500 mr-2\">We accept:</div>\n              <div className=\"flex items-center gap-2\">\n                {['visa', 'mastercard', 'amex', 'paypal'].map(method => (\n                  <div\n                    key={method}\n                    className=\"w-8 h-5 bg-stone-700 rounded border border-stone-600 flex items-center justify-center text-[8px] font-bold text-stone-300\"\n                  >\n                    {method.slice(0, 2).toUpperCase()}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </motion.div>\n      </div>\n    </footer>\n  )\n}\n","import { createContext, useContext, useMemo, useReducer, useState } from 'react'\n\nconst CartContext = createContext(null)\n\nfunction cartReducer(state, action) {\n  switch (action.type) {\n    case 'add': {\n      const { id, qty = 1, item } = action\n      const exists = state.items[id]\n      const nextQty = (exists?.qty || 0) + qty\n      return {\n        ...state,\n        items: {\n          ...state.items,\n          [id]: { item, qty: nextQty },\n        },\n      }\n    }\n    case 'remove': {\n      const n = { ...state.items }\n      delete n[action.id]\n      return { ...state, items: n }\n    }\n    case 'setQty': {\n      const { id, qty } = action\n      if (qty <= 0) {\n        const n = { ...state.items }\n        delete n[id]\n        return { ...state, items: n }\n      }\n      return {\n        ...state,\n        items: { ...state.items, [id]: { ...state.items[id], qty } },\n      }\n    }\n    case 'clear':\n      return { items: {} }\n    default:\n      return state\n  }\n}\n\nexport function CartProvider({ children }) {\n  const [state, dispatch] = useReducer(cartReducer, { items: {} })\n  const [updatingItems, setUpdatingItems] = useState(new Set())\n\n  const api = useMemo(() => {\n    const itemsArr = Object.entries(state.items).map(([id, v]) => ({\n      id,\n      ...v,\n    }))\n    const count = itemsArr.reduce((a, c) => a + c.qty, 0)\n    const total = itemsArr.reduce((a, c) => a + (c.item?.price || 0) * c.qty, 0)\n    return {\n      state,\n      items: itemsArr,\n      count,\n      total,\n      add: (item, qty = 1) => dispatch({ type: 'add', id: item.id, qty, item }),\n      remove: id => dispatch({ type: 'remove', id }),\n      setQty: async (id, qty) => {\n        setUpdatingItems(prev => new Set(prev).add(id))\n        // Simulate API call delay\n        await new Promise(resolve => setTimeout(resolve, 500))\n        dispatch({ type: 'setQty', id, qty })\n        setUpdatingItems(prev => {\n          const newSet = new Set(prev)\n          newSet.delete(id)\n          return newSet\n        })\n      },\n      clear: () => dispatch({ type: 'clear' }),\n      isUpdating: id => updatingItems.has(id),\n    }\n  }, [state, updatingItems])\n  return <CartContext.Provider value={api}>{children}</CartContext.Provider>\n}\n\nexport function useCart() {\n  const ctx = useContext(CartContext)\n  if (!ctx) throw new Error('useCart must be used within CartProvider')\n  return ctx\n}\n","import { createContext, useContext, useReducer, useEffect } from 'react'\nimport {\n  useNotifications,\n  NOTIFICATION_TYPES,\n  NOTIFICATION_CHANNELS,\n} from './NotificationContext'\n\n// Order statuses\nexport const ORDER_STATUSES = {\n  PENDING: 'pending',\n  CONFIRMED: 'confirmed',\n  PROCESSING: 'processing',\n  SHIPPED: 'shipped',\n  DELIVERED: 'delivered',\n  CANCELLED: 'cancelled',\n  REFUNDED: 'refunded',\n}\n\n// Order status configurations\nconst STATUS_CONFIG = {\n  [ORDER_STATUSES.PENDING]: {\n    label: 'Pending Payment',\n    labelAr: 'في انتظار الدفع',\n    color: 'bg-yellow-100 text-yellow-800',\n    step: 1,\n  },\n  [ORDER_STATUSES.CONFIRMED]: {\n    label: 'Payment Confirmed',\n    labelAr: 'تم تأكيد الدفع',\n    color: 'bg-blue-100 text-blue-800',\n    step: 2,\n  },\n  [ORDER_STATUSES.PROCESSING]: {\n    label: 'Processing',\n    labelAr: 'قيد التحضير',\n    color: 'bg-purple-100 text-purple-800',\n    step: 3,\n  },\n  [ORDER_STATUSES.SHIPPED]: {\n    label: 'Shipped',\n    labelAr: 'تم الشحن',\n    color: 'bg-indigo-100 text-indigo-800',\n    step: 4,\n  },\n  [ORDER_STATUSES.DELIVERED]: {\n    label: 'Delivered',\n    labelAr: 'تم التسليم',\n    color: 'bg-green-100 text-green-800',\n    step: 5,\n  },\n  [ORDER_STATUSES.CANCELLED]: {\n    label: 'Cancelled',\n    labelAr: 'ملغي',\n    color: 'bg-red-100 text-red-800',\n    step: 0,\n  },\n  [ORDER_STATUSES.REFUNDED]: {\n    label: 'Refunded',\n    labelAr: 'مسترد',\n    color: 'bg-gray-100 text-gray-800',\n    step: 0,\n  },\n}\n\n// Actions\nconst ORDER_ACTIONS = {\n  CREATE_ORDER: 'CREATE_ORDER',\n  UPDATE_ORDER_STATUS: 'UPDATE_ORDER_STATUS',\n  ADD_TRACKING_UPDATE: 'ADD_TRACKING_UPDATE',\n  LOAD_ORDERS: 'LOAD_ORDERS',\n  SET_LOADING: 'SET_LOADING',\n}\n\n// Initial state\nconst initialState = {\n  orders: [],\n  loading: false,\n  error: null,\n}\n\n// Reducer\nfunction orderReducer(state, action) {\n  switch (action.type) {\n    case ORDER_ACTIONS.SET_LOADING:\n      return {\n        ...state,\n        loading: action.payload,\n      }\n\n    case ORDER_ACTIONS.LOAD_ORDERS:\n      return {\n        ...state,\n        orders: action.payload,\n        loading: false,\n      }\n\n    case ORDER_ACTIONS.CREATE_ORDER: {\n      const newOrder = {\n        id: action.payload.id || `ORD-${Date.now()}`,\n        orderNumber: action.payload.orderNumber || `#${Date.now()}`,\n        status: ORDER_STATUSES.PENDING,\n        items: action.payload.items || [],\n        customer: action.payload.customer || {},\n        shipping: action.payload.shipping || {},\n        payment: action.payload.payment || {},\n        totals: action.payload.totals || {},\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        tracking: [\n          {\n            status: ORDER_STATUSES.PENDING,\n            message: 'Order created successfully',\n            messageAr: 'تم إنشاء الطلب بنجاح',\n            timestamp: new Date().toISOString(),\n            automated: true,\n          },\n        ],\n        estimatedDelivery: null,\n        shippingCarrier: null,\n        trackingNumber: null,\n      }\n\n      return {\n        ...state,\n        orders: [newOrder, ...state.orders],\n        loading: false,\n      }\n    }\n\n    case ORDER_ACTIONS.UPDATE_ORDER_STATUS:\n      return {\n        ...state,\n        orders: state.orders.map(order =>\n          order.id === action.payload.orderId\n            ? {\n                ...order,\n                status: action.payload.status,\n                updatedAt: new Date().toISOString(),\n                ...(action.payload.trackingNumber && {\n                  trackingNumber: action.payload.trackingNumber,\n                }),\n                ...(action.payload.shippingCarrier && {\n                  shippingCarrier: action.payload.shippingCarrier,\n                }),\n                ...(action.payload.estimatedDelivery && {\n                  estimatedDelivery: action.payload.estimatedDelivery,\n                }),\n              }\n            : order\n        ),\n      }\n\n    case ORDER_ACTIONS.ADD_TRACKING_UPDATE:\n      return {\n        ...state,\n        orders: state.orders.map(order =>\n          order.id === action.payload.orderId\n            ? {\n                ...order,\n                tracking: [\n                  ...order.tracking,\n                  {\n                    status: action.payload.status,\n                    message: action.payload.message,\n                    messageAr: action.payload.messageAr,\n                    timestamp: new Date().toISOString(),\n                    automated: action.payload.automated || false,\n                    location: action.payload.location,\n                  },\n                ],\n                updatedAt: new Date().toISOString(),\n              }\n            : order\n        ),\n      }\n\n    default:\n      return state\n  }\n}\n\n// Context\nconst OrderContext = createContext()\n\n// Provider component\nexport function OrderProvider({ children }) {\n  const [state, dispatch] = useReducer(orderReducer, initialState)\n  const { sendNotification } = useNotifications()\n\n  // Load orders from localStorage on mount\n  useEffect(() => {\n    const savedOrders = localStorage.getItem('ivolex_orders')\n    if (savedOrders) {\n      try {\n        const orders = JSON.parse(savedOrders)\n        dispatch({ type: ORDER_ACTIONS.LOAD_ORDERS, payload: orders })\n      } catch (error) {\n        console.error('Failed to load orders:', error)\n      }\n    }\n  }, [])\n\n  // Save orders to localStorage when they change\n  useEffect(() => {\n    if (state.orders.length > 0) {\n      localStorage.setItem('ivolex_orders', JSON.stringify(state.orders))\n    }\n  }, [state.orders])\n\n  const createOrder = orderData => {\n    dispatch({ type: ORDER_ACTIONS.SET_LOADING, payload: true })\n\n    // Simulate API call\n    setTimeout(() => {\n      const orderId = orderData.id || `ORD-${Date.now()}`\n      const orderNumber = orderData.orderNumber || `#${Date.now()}`\n\n      dispatch({\n        type: ORDER_ACTIONS.CREATE_ORDER,\n        payload: { ...orderData, id: orderId, orderNumber },\n      })\n\n      // Send order confirmation notification\n      sendNotification(\n        NOTIFICATION_TYPES.ORDER_CONFIRMATION,\n        {\n          orderId,\n          orderNumber,\n          total: orderData.totals?.total || '0',\n          email: orderData.customer?.email,\n          phone: orderData.customer?.phone,\n          userId: orderData.customer?.id,\n        },\n        [\n          NOTIFICATION_CHANNELS.IN_APP,\n          NOTIFICATION_CHANNELS.EMAIL,\n          NOTIFICATION_CHANNELS.SMS,\n        ]\n      )\n\n      // Simulate payment confirmation after 2 seconds\n      setTimeout(() => {\n        updateOrderStatus(orderId, ORDER_STATUSES.CONFIRMED, {\n          message: 'Payment confirmed successfully',\n          messageAr: 'تم تأكيد الدفع بنجاح',\n        })\n      }, 2000)\n    }, 1000)\n  }\n\n  const updateOrderStatus = (orderId, status, options = {}) => {\n    const order = getOrderById(orderId)\n    if (!order) return\n\n    dispatch({\n      type: ORDER_ACTIONS.UPDATE_ORDER_STATUS,\n      payload: {\n        orderId,\n        status,\n        ...options,\n      },\n    })\n\n    // Add tracking update\n    const statusConfig = STATUS_CONFIG[status]\n    addTrackingUpdate(orderId, {\n      status,\n      message: options.message || statusConfig.label,\n      messageAr: options.messageAr || statusConfig.labelAr,\n      automated: options.automated !== false,\n      location: options.location,\n    })\n\n    // Send notification for status updates\n    const notificationData = {\n      orderId,\n      orderNumber: order.orderNumber,\n      status,\n      statusAr: statusConfig.labelAr,\n      email: order.customer?.email,\n      phone: order.customer?.phone,\n      userId: order.customer?.id,\n      trackingNumber: options.trackingNumber,\n    }\n\n    // Determine notification type and channels based on status\n    let notificationType = NOTIFICATION_TYPES.ORDER_STATUS_UPDATE\n    let channels = [NOTIFICATION_CHANNELS.IN_APP]\n\n    if (status === ORDER_STATUSES.CONFIRMED) {\n      notificationType = NOTIFICATION_TYPES.PAYMENT_CONFIRMATION\n      notificationData.amount = order.totals?.total || '0'\n      channels = [NOTIFICATION_CHANNELS.IN_APP, NOTIFICATION_CHANNELS.EMAIL]\n    } else if (status === ORDER_STATUSES.SHIPPED) {\n      notificationType = NOTIFICATION_TYPES.SHIPPING_UPDATE\n      channels = [\n        NOTIFICATION_CHANNELS.IN_APP,\n        NOTIFICATION_CHANNELS.SMS,\n        NOTIFICATION_CHANNELS.EMAIL,\n      ]\n    } else if (status === ORDER_STATUSES.DELIVERED) {\n      channels = [NOTIFICATION_CHANNELS.IN_APP, NOTIFICATION_CHANNELS.EMAIL]\n    }\n\n    // Send the notification\n    sendNotification(notificationType, notificationData, channels)\n  }\n\n  const addTrackingUpdate = (orderId, trackingData) => {\n    dispatch({\n      type: ORDER_ACTIONS.ADD_TRACKING_UPDATE,\n      payload: {\n        orderId,\n        ...trackingData,\n      },\n    })\n  }\n\n  const getOrderById = orderId => {\n    return state.orders.find(order => order.id === orderId)\n  }\n\n  const getOrderByNumber = orderNumber => {\n    return state.orders.find(order => order.orderNumber === orderNumber)\n  }\n\n  const getStatusConfig = status => {\n    return STATUS_CONFIG[status] || STATUS_CONFIG[ORDER_STATUSES.PENDING]\n  }\n\n  const simulateOrderProgress = orderId => {\n    const order = getOrderById(orderId)\n    if (!order) return\n\n    const progressSteps = [\n      {\n        status: ORDER_STATUSES.PROCESSING,\n        delay: 5000,\n        message: 'Order is being prepared',\n        messageAr: 'جاري تحضير الطلب',\n      },\n      {\n        status: ORDER_STATUSES.SHIPPED,\n        delay: 10000,\n        message: 'Order has been shipped',\n        messageAr: 'تم شحن الطلب',\n        trackingNumber:\n          'TN' + Math.random().toString(36).substr(2, 9).toUpperCase(),\n        shippingCarrier: 'Aramex',\n        estimatedDelivery: new Date(\n          Date.now() + 3 * 24 * 60 * 60 * 1000\n        ).toISOString(),\n      },\n      {\n        status: ORDER_STATUSES.DELIVERED,\n        delay: 15000,\n        message: 'Order delivered successfully',\n        messageAr: 'تم تسليم الطلب بنجاح',\n      },\n    ]\n\n    progressSteps.forEach(step => {\n      setTimeout(() => {\n        updateOrderStatus(orderId, step.status, {\n          message: step.message,\n          messageAr: step.messageAr,\n          trackingNumber: step.trackingNumber,\n          shippingCarrier: step.shippingCarrier,\n          estimatedDelivery: step.estimatedDelivery,\n          automated: true,\n        })\n      }, step.delay)\n    })\n  }\n\n  const value = {\n    orders: state.orders,\n    loading: state.loading,\n    error: state.error,\n    createOrder,\n    updateOrderStatus,\n    addTrackingUpdate,\n    getOrderById,\n    getOrderByNumber,\n    getStatusConfig,\n    simulateOrderProgress,\n    ORDER_STATUSES,\n  }\n\n  return <OrderContext.Provider value={value}>{children}</OrderContext.Provider>\n}\n\n// Hook to use order context\nexport function useOrder() {\n  const context = useContext(OrderContext)\n  if (!context) {\n    throw new Error('useOrder must be used within an OrderProvider')\n  }\n  return context\n}\n\nexport { STATUS_CONFIG }\n","import { createContext, useContext, useReducer, useEffect } from 'react'\nimport {\n  useNotifications,\n  NOTIFICATION_TYPES,\n  NOTIFICATION_CHANNELS,\n} from './NotificationContext'\n\nconst AuditContext = createContext()\n\n// Permission roles\nexport const ROLES = {\n  SUPER_ADMIN: 'super_admin',\n  ADMIN: 'admin',\n  MANAGER: 'manager',\n  MODERATOR: 'moderator',\n  VIEWER: 'viewer',\n  CUSTOMER: 'customer',\n}\n\n// Permission actions\nexport const PERMISSIONS = {\n  // Product Management\n  PRODUCTS_VIEW: 'products:view',\n  PRODUCTS_CREATE: 'products:create',\n  PRODUCTS_EDIT: 'products:edit',\n  PRODUCTS_DELETE: 'products:delete',\n  PRODUCTS_BULK_IMPORT: 'products:bulk_import',\n\n  // Order Management\n  ORDERS_VIEW: 'orders:view',\n  ORDERS_EDIT: 'orders:edit',\n  ORDERS_REFUND: 'orders:refund',\n  ORDERS_CANCEL: 'orders:cancel',\n  ORDERS_EXPORT: 'orders:export',\n\n  // User Management\n  USERS_VIEW: 'users:view',\n  USERS_CREATE: 'users:create',\n  USERS_EDIT: 'users:edit',\n  USERS_DELETE: 'users:delete',\n  USERS_ASSIGN_ROLES: 'users:assign_roles',\n\n  // Customization Requests\n  CUSTOMIZATION_VIEW: 'customization:view',\n  CUSTOMIZATION_EDIT: 'customization:edit',\n  CUSTOMIZATION_APPROVE: 'customization:approve',\n  CUSTOMIZATION_REJECT: 'customization:reject',\n\n  // Theme Management\n  THEMES_VIEW: 'themes:view',\n  THEMES_EDIT: 'themes:edit',\n  THEMES_CREATE: 'themes:create',\n  THEMES_DELETE: 'themes:delete',\n\n  // Analytics & Reports\n  ANALYTICS_VIEW: 'analytics:view',\n  ANALYTICS_EXPORT: 'analytics:export',\n  REPORTS_GENERATE: 'reports:generate',\n\n  // System Settings\n  SETTINGS_VIEW: 'settings:view',\n  SETTINGS_EDIT: 'settings:edit',\n  AUDIT_LOGS_VIEW: 'audit_logs:view',\n\n  // Security\n  SECURITY_MANAGE: 'security:manage',\n  ROLES_MANAGE: 'roles:manage',\n}\n\n// Role-Permission Matrix\nexport const ROLE_PERMISSIONS = {\n  [ROLES.SUPER_ADMIN]: [\n    // Full access to everything\n    ...Object.values(PERMISSIONS),\n  ],\n\n  [ROLES.ADMIN]: [\n    // Product Management\n    PERMISSIONS.PRODUCTS_VIEW,\n    PERMISSIONS.PRODUCTS_CREATE,\n    PERMISSIONS.PRODUCTS_EDIT,\n    PERMISSIONS.PRODUCTS_DELETE,\n    PERMISSIONS.PRODUCTS_BULK_IMPORT,\n\n    // Order Management\n    PERMISSIONS.ORDERS_VIEW,\n    PERMISSIONS.ORDERS_EDIT,\n    PERMISSIONS.ORDERS_REFUND,\n    PERMISSIONS.ORDERS_CANCEL,\n    PERMISSIONS.ORDERS_EXPORT,\n\n    // User Management (Limited)\n    PERMISSIONS.USERS_VIEW,\n    PERMISSIONS.USERS_CREATE,\n    PERMISSIONS.USERS_EDIT,\n\n    // Customization\n    PERMISSIONS.CUSTOMIZATION_VIEW,\n    PERMISSIONS.CUSTOMIZATION_EDIT,\n    PERMISSIONS.CUSTOMIZATION_APPROVE,\n    PERMISSIONS.CUSTOMIZATION_REJECT,\n\n    // Themes\n    PERMISSIONS.THEMES_VIEW,\n    PERMISSIONS.THEMES_EDIT,\n    PERMISSIONS.THEMES_CREATE,\n\n    // Analytics\n    PERMISSIONS.ANALYTICS_VIEW,\n    PERMISSIONS.ANALYTICS_EXPORT,\n    PERMISSIONS.REPORTS_GENERATE,\n\n    // Settings (Limited)\n    PERMISSIONS.SETTINGS_VIEW,\n    PERMISSIONS.AUDIT_LOGS_VIEW,\n  ],\n\n  [ROLES.MANAGER]: [\n    // Product Management (Limited)\n    PERMISSIONS.PRODUCTS_VIEW,\n    PERMISSIONS.PRODUCTS_EDIT,\n\n    // Order Management\n    PERMISSIONS.ORDERS_VIEW,\n    PERMISSIONS.ORDERS_EDIT,\n\n    // Customization\n    PERMISSIONS.CUSTOMIZATION_VIEW,\n    PERMISSIONS.CUSTOMIZATION_EDIT,\n    PERMISSIONS.CUSTOMIZATION_APPROVE,\n\n    // Analytics (View only)\n    PERMISSIONS.ANALYTICS_VIEW,\n    PERMISSIONS.REPORTS_GENERATE,\n  ],\n\n  [ROLES.MODERATOR]: [\n    // Basic viewing and editing\n    PERMISSIONS.PRODUCTS_VIEW,\n    PERMISSIONS.ORDERS_VIEW,\n    PERMISSIONS.CUSTOMIZATION_VIEW,\n    PERMISSIONS.CUSTOMIZATION_EDIT,\n    PERMISSIONS.USERS_VIEW,\n  ],\n\n  [ROLES.VIEWER]: [\n    // Read-only access\n    PERMISSIONS.PRODUCTS_VIEW,\n    PERMISSIONS.ORDERS_VIEW,\n    PERMISSIONS.CUSTOMIZATION_VIEW,\n    PERMISSIONS.ANALYTICS_VIEW,\n  ],\n\n  [ROLES.CUSTOMER]: [\n    // No admin permissions\n  ],\n}\n\n// Audit log types\nexport const AUDIT_ACTIONS = {\n  LOGIN: 'login',\n  LOGOUT: 'logout',\n  CREATE: 'create',\n  UPDATE: 'update',\n  DELETE: 'delete',\n  VIEW: 'view',\n  EXPORT: 'export',\n  APPROVE: 'approve',\n  REJECT: 'reject',\n  REFUND: 'refund',\n  CANCEL: 'cancel',\n  ROLE_CHANGE: 'role_change',\n  PERMISSION_CHANGE: 'permission_change',\n  SETTINGS_CHANGE: 'settings_change',\n  THEME_CHANGE: 'theme_change',\n  SECURITY_EVENT: 'security_event',\n}\n\n// Audit reducer\nconst AUDIT_ACTIONS_TYPES = {\n  ADD_LOG: 'ADD_LOG',\n  LOAD_LOGS: 'LOAD_LOGS',\n  CLEAR_LOGS: 'CLEAR_LOGS',\n  SET_LOADING: 'SET_LOADING',\n  SET_ERROR: 'SET_ERROR',\n}\n\nconst initialState = {\n  logs: [],\n  loading: false,\n  error: null,\n  currentUser: {\n    id: 'admin_1',\n    name: 'Admin User',\n    email: 'admin@ivolex.com',\n    role: ROLES.ADMIN,\n    permissions: ROLE_PERMISSIONS[ROLES.ADMIN],\n  },\n}\n\nconst auditReducer = (state, action) => {\n  switch (action.type) {\n    case AUDIT_ACTIONS_TYPES.ADD_LOG:\n      return {\n        ...state,\n        logs: [action.payload, ...state.logs],\n        loading: false,\n      }\n\n    case AUDIT_ACTIONS_TYPES.LOAD_LOGS:\n      return {\n        ...state,\n        logs: action.payload,\n        loading: false,\n      }\n\n    case AUDIT_ACTIONS_TYPES.CLEAR_LOGS:\n      return {\n        ...state,\n        logs: [],\n      }\n\n    case AUDIT_ACTIONS_TYPES.SET_LOADING:\n      return {\n        ...state,\n        loading: action.payload,\n      }\n\n    case AUDIT_ACTIONS_TYPES.SET_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n        loading: false,\n      }\n\n    default:\n      return state\n  }\n}\n\nexport const AuditProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(auditReducer, initialState)\n  const { sendNotification } = useNotifications()\n\n  // Load audit logs from localStorage on mount\n  useEffect(() => {\n    const savedLogs = localStorage.getItem('ivolex_audit_logs')\n    if (savedLogs) {\n      try {\n        const logs = JSON.parse(savedLogs)\n        dispatch({ type: AUDIT_ACTIONS_TYPES.LOAD_LOGS, payload: logs })\n      } catch (error) {\n        console.error('Failed to load audit logs:', error)\n      }\n    }\n  }, [])\n\n  // Save logs to localStorage when they change\n  useEffect(() => {\n    if (state.logs.length > 0) {\n      // Keep only last 1000 logs to prevent storage bloat\n      const logsToSave = state.logs.slice(0, 1000)\n      localStorage.setItem('ivolex_audit_logs', JSON.stringify(logsToSave))\n    }\n  }, [state.logs])\n\n  // Permission checking function\n  const hasPermission = (permission, userRole = state.currentUser.role) => {\n    const rolePermissions = ROLE_PERMISSIONS[userRole] || []\n    return rolePermissions.includes(permission)\n  }\n\n  // Multiple permissions check\n  const hasAnyPermission = (permissions, userRole = state.currentUser.role) => {\n    return permissions.some(permission => hasPermission(permission, userRole))\n  }\n\n  const hasAllPermissions = (\n    permissions,\n    userRole = state.currentUser.role\n  ) => {\n    return permissions.every(permission => hasPermission(permission, userRole))\n  }\n\n  // Role checking\n  const hasRole = (role, userRole = state.currentUser.role) => {\n    return userRole === role\n  }\n\n  const hasMinimumRole = (minimumRole, userRole = state.currentUser.role) => {\n    const roleHierarchy = [\n      ROLES.CUSTOMER,\n      ROLES.VIEWER,\n      ROLES.MODERATOR,\n      ROLES.MANAGER,\n      ROLES.ADMIN,\n      ROLES.SUPER_ADMIN,\n    ]\n\n    const userRoleIndex = roleHierarchy.indexOf(userRole)\n    const minimumRoleIndex = roleHierarchy.indexOf(minimumRole)\n\n    return userRoleIndex >= minimumRoleIndex\n  }\n\n  // Audit logging function\n  const logAction = async (action, resource, details = {}) => {\n    try {\n      const logEntry = {\n        id: `audit_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        timestamp: new Date().toISOString(),\n        userId: state.currentUser.id,\n        userName: state.currentUser.name,\n        userEmail: state.currentUser.email,\n        userRole: state.currentUser.role,\n        action,\n        resource,\n        details,\n        ipAddress: '192.168.1.1', // Would be real IP in production\n        userAgent: navigator.userAgent,\n        sessionId: sessionStorage.getItem('session_id') || 'unknown',\n        success: details.success !== false,\n      }\n\n      dispatch({ type: AUDIT_ACTIONS_TYPES.ADD_LOG, payload: logEntry })\n\n      // Send notification for critical actions\n      if (isCriticalAction(action)) {\n        await sendNotification(\n          NOTIFICATION_TYPES.ADMIN_ALERT,\n          {\n            message: `Critical action performed: ${action} on ${resource} by ${state.currentUser.name}`,\n            messageAr: `تم تنفيذ إجراء مهم: ${action} على ${resource} بواسطة ${state.currentUser.name}`,\n            userId: state.currentUser.id,\n            action,\n            resource,\n            severity: 'high',\n          },\n          [NOTIFICATION_CHANNELS.IN_APP, NOTIFICATION_CHANNELS.EMAIL]\n        )\n      }\n\n      console.log('📋 Audit Log:', logEntry)\n      return logEntry\n    } catch (error) {\n      console.error('Failed to log audit action:', error)\n      dispatch({ type: AUDIT_ACTIONS_TYPES.SET_ERROR, payload: error.message })\n    }\n  }\n\n  // Check if action is critical and requires notification\n  const isCriticalAction = action => {\n    const criticalActions = [\n      AUDIT_ACTIONS.DELETE,\n      AUDIT_ACTIONS.ROLE_CHANGE,\n      AUDIT_ACTIONS.PERMISSION_CHANGE,\n      AUDIT_ACTIONS.SECURITY_EVENT,\n      AUDIT_ACTIONS.SETTINGS_CHANGE,\n    ]\n    return criticalActions.includes(action)\n  }\n\n  // Get logs with filtering\n  const getFilteredLogs = (filters = {}) => {\n    let filteredLogs = [...state.logs]\n\n    if (filters.userId) {\n      filteredLogs = filteredLogs.filter(log => log.userId === filters.userId)\n    }\n\n    if (filters.action) {\n      filteredLogs = filteredLogs.filter(log => log.action === filters.action)\n    }\n\n    if (filters.resource) {\n      filteredLogs = filteredLogs.filter(log =>\n        log.resource.includes(filters.resource)\n      )\n    }\n\n    if (filters.startDate) {\n      filteredLogs = filteredLogs.filter(\n        log => new Date(log.timestamp) >= new Date(filters.startDate)\n      )\n    }\n\n    if (filters.endDate) {\n      filteredLogs = filteredLogs.filter(\n        log => new Date(log.timestamp) <= new Date(filters.endDate)\n      )\n    }\n\n    if (filters.success !== undefined) {\n      filteredLogs = filteredLogs.filter(log => log.success === filters.success)\n    }\n\n    return filteredLogs\n  }\n\n  // Export logs\n  const exportLogs = (format = 'json', filters = {}) => {\n    const logs = getFilteredLogs(filters)\n\n    if (format === 'csv') {\n      return exportLogsAsCSV(logs)\n    }\n\n    return JSON.stringify(logs, null, 2)\n  }\n\n  const exportLogsAsCSV = logs => {\n    const headers = [\n      'Timestamp',\n      'User',\n      'Action',\n      'Resource',\n      'IP Address',\n      'Success',\n      'Details',\n    ]\n    const csvRows = [\n      headers.join(','),\n      ...logs.map(log =>\n        [\n          log.timestamp,\n          `\"${log.userName}\"`,\n          log.action,\n          `\"${log.resource}\"`,\n          log.ipAddress,\n          log.success,\n          `\"${JSON.stringify(log.details).replace(/\"/g, '\"\"')}\"`,\n        ].join(',')\n      ),\n    ]\n\n    return csvRows.join('\\n')\n  }\n\n  // Clear old logs (retention policy)\n  const clearOldLogs = (daysToKeep = 90) => {\n    const cutoffDate = new Date(Date.now() - daysToKeep * 24 * 60 * 60 * 1000)\n    const filteredLogs = state.logs.filter(\n      log => new Date(log.timestamp) >= cutoffDate\n    )\n    dispatch({ type: AUDIT_ACTIONS_TYPES.LOAD_LOGS, payload: filteredLogs })\n  }\n\n  const value = {\n    logs: state.logs,\n    loading: state.loading,\n    error: state.error,\n    currentUser: state.currentUser,\n\n    // Permission functions\n    hasPermission,\n    hasAnyPermission,\n    hasAllPermissions,\n    hasRole,\n    hasMinimumRole,\n\n    // Audit functions\n    logAction,\n    getFilteredLogs,\n    exportLogs,\n    clearOldLogs,\n\n    // Constants\n    ROLES,\n    PERMISSIONS,\n    ROLE_PERMISSIONS,\n    AUDIT_ACTIONS,\n  }\n\n  return <AuditContext.Provider value={value}>{children}</AuditContext.Provider>\n}\n\nexport const useAudit = () => {\n  const context = useContext(AuditContext)\n  if (!context) {\n    throw new Error('useAudit must be used within an AuditProvider')\n  }\n  return context\n}\n\nexport default AuditContext\n","import { createContext, useContext } from 'react'\n\nconst ShippingContext = createContext()\n\nexport const useShipping = () => {\n  const context = useContext(ShippingContext)\n  if (!context) {\n    throw new Error('useShipping must be used within a ShippingProvider')\n  }\n  return context\n}\n\nexport default ShippingContext\n","import { useState, useEffect, useMemo } from 'react'\nimport ShippingContext from './ShippingContext.js'\n\nconst ShippingProvider = ({ children }) => {\n  const [shippingMethods, setShippingMethods] = useState([])\n  const [selectedMethod, setSelectedMethod] = useState(null)\n  const [shippingAddress, setShippingAddress] = useState(null)\n  const [trackingData, setTrackingData] = useState({})\n  const [loading, setLoading] = useState(false)\n\n  // Mock shipping methods - in real app, these would come from shipping APIs\n  const mockShippingMethods = useMemo(\n    () => [\n      {\n        id: 'standard',\n        name: 'Standard Shipping',\n        description: 'Delivery within 5-7 business days',\n        provider: 'Saudi Post',\n        type: 'standard',\n        estimatedDays: '5-7',\n        trackingAvailable: true,\n        baseRate: 25,\n        freeThreshold: 300,\n        maxWeight: 30, // kg\n        supportedRegions: ['riyadh', 'jeddah', 'dammam', 'all_saudi'],\n      },\n      {\n        id: 'express',\n        name: 'Express Shipping',\n        description: 'Delivery within 2-3 business days',\n        provider: 'SMSA Express',\n        type: 'express',\n        estimatedDays: '2-3',\n        trackingAvailable: true,\n        baseRate: 45,\n        freeThreshold: 500,\n        maxWeight: 25, // kg\n        supportedRegions: ['riyadh', 'jeddah', 'dammam', 'major_cities'],\n      },\n      {\n        id: 'same_day',\n        name: 'Same Day Delivery',\n        description: 'Delivery within 4-6 hours (major cities only)',\n        provider: 'IVOLEX Express',\n        type: 'same_day',\n        estimatedDays: 'Same day',\n        trackingAvailable: true,\n        baseRate: 75,\n        freeThreshold: 1000,\n        maxWeight: 10, // kg\n        supportedRegions: ['riyadh', 'jeddah'],\n      },\n      {\n        id: 'pickup',\n        name: 'Store Pickup',\n        description: 'Pick up from our store locations',\n        provider: 'IVOLEX Stores',\n        type: 'pickup',\n        estimatedDays: '1-2',\n        trackingAvailable: false,\n        baseRate: 0,\n        freeThreshold: 0,\n        maxWeight: null,\n        supportedRegions: ['riyadh', 'jeddah', 'dammam'],\n      },\n    ],\n    []\n  ) // Memoize to prevent recreation on every render\n\n  // Mock store locations\n  const storeLocations = useMemo(\n    () => [\n      {\n        id: 'riyadh_main',\n        name: 'IVOLEX Riyadh Main Store',\n        address: 'King Fahd Road, Olaya District, Riyadh 12213',\n        city: 'Riyadh',\n        phone: '+966 11 234 5678',\n        hours: 'Sun-Thu: 9AM-10PM, Fri-Sat: 2PM-11PM',\n        coordinates: { lat: 24.7136, lng: 46.6753 },\n      },\n      {\n        id: 'jeddah_main',\n        name: 'IVOLEX Jeddah Main Store',\n        address: 'Prince Sultan Road, Al Salamah District, Jeddah 23433',\n        city: 'Jeddah',\n        phone: '+966 12 345 6789',\n        hours: 'Sun-Thu: 9AM-10PM, Fri-Sat: 2PM-11PM',\n        coordinates: { lat: 21.5433, lng: 39.1728 },\n      },\n      {\n        id: 'dammam_main',\n        name: 'IVOLEX Dammam Main Store',\n        address: 'King Saud Road, Al Faisaliyah District, Dammam 32245',\n        city: 'Dammam',\n        phone: '+966 13 456 7890',\n        hours: 'Sun-Thu: 9AM-10PM, Fri-Sat: 2PM-11PM',\n        coordinates: { lat: 26.4207, lng: 50.0888 },\n      },\n    ],\n    []\n  ) // Memoize to prevent recreation on every render\n\n  // Initialize shipping methods\n  useEffect(() => {\n    setShippingMethods(mockShippingMethods)\n  }, [mockShippingMethods]) // Now safe because mockShippingMethods is memoized\n\n  // Calculate shipping rate based on cart and location\n  const calculateShippingRate = (cartItems, deliveryAddress, methodId) => {\n    const method = mockShippingMethods.find(m => m.id === methodId)\n    if (!method) return null\n\n    // Calculate total weight and value\n    const totalWeight = cartItems.reduce(\n      (sum, item) => sum + (item.weight || 1) * item.quantity,\n      0\n    )\n    const totalValue = cartItems.reduce(\n      (sum, item) => sum + item.price * item.quantity,\n      0\n    )\n\n    // Check if free shipping threshold is met\n    if (totalValue >= method.freeThreshold) {\n      return {\n        rate: 0,\n        originalRate: method.baseRate,\n        isFree: true,\n        currency: 'SAR',\n      }\n    }\n\n    // Check weight limit\n    if (method.maxWeight && totalWeight > method.maxWeight) {\n      return {\n        error: `Exceeds weight limit of ${method.maxWeight}kg`,\n      }\n    }\n\n    // Calculate rate based on weight\n    let rate = method.baseRate\n    if (totalWeight > 5) {\n      rate += Math.ceil((totalWeight - 5) / 2) * 10 // Additional 10 SAR per 2kg\n    }\n\n    // Apply location-based adjustments\n    if (deliveryAddress?.city) {\n      const cityLower = deliveryAddress.city.toLowerCase()\n      if (\n        !method.supportedRegions.includes(cityLower) &&\n        !method.supportedRegions.includes('all_saudi')\n      ) {\n        if (method.supportedRegions.includes('major_cities')) {\n          return {\n            error: 'Not available in this location',\n          }\n        }\n        rate += 20 // Remote area surcharge\n      }\n    }\n\n    return {\n      rate,\n      originalRate: method.baseRate,\n      isFree: false,\n      currency: 'SAR',\n      weightSurcharge: rate - method.baseRate,\n    }\n  }\n\n  // Get available shipping methods for location\n  const getAvailableShippingMethods = (cartItems, deliveryAddress) => {\n    if (!cartItems || cartItems.length === 0) return []\n\n    return mockShippingMethods\n      .filter(method => {\n        if (!deliveryAddress?.city) return true\n\n        const cityLower = deliveryAddress.city.toLowerCase()\n        return (\n          method.supportedRegions.includes(cityLower) ||\n          method.supportedRegions.includes('all_saudi') ||\n          (method.supportedRegions.includes('major_cities') &&\n            ['riyadh', 'jeddah', 'dammam', 'mecca', 'medina'].includes(\n              cityLower\n            ))\n        )\n      })\n      .map(method => {\n        const rateInfo = calculateShippingRate(\n          cartItems,\n          deliveryAddress,\n          method.id\n        )\n        return {\n          ...method,\n          rateInfo,\n          available: !rateInfo?.error,\n        }\n      })\n  }\n\n  // Create shipment\n  const createShipment = async orderData => {\n    setLoading(true)\n    try {\n      // Simulate API call to shipping provider\n      await new Promise(resolve => setTimeout(resolve, 2000))\n\n      const trackingNumber = `TRK${Date.now()}${Math.random().toString(36).substr(2, 6).toUpperCase()}`\n\n      const shipmentData = {\n        id: `SHIP_${Date.now()}`,\n        orderId: orderData.orderId,\n        trackingNumber,\n        provider: selectedMethod?.provider || 'Saudi Post',\n        method: selectedMethod?.name || 'Standard Shipping',\n        status: 'pending',\n        estimatedDelivery: calculateEstimatedDelivery(\n          selectedMethod?.estimatedDays\n        ),\n        shippingAddress: orderData.shippingAddress,\n        timeline: [\n          {\n            status: 'pending',\n            description: 'Shipment created',\n            timestamp: new Date().toISOString(),\n            location: 'IVOLEX Warehouse',\n          },\n        ],\n      }\n\n      // Store tracking data\n      setTrackingData(prev => ({\n        ...prev,\n        [trackingNumber]: shipmentData,\n      }))\n\n      return shipmentData\n    } catch (error) {\n      console.error('Shipment creation failed:', error)\n      throw error\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Track shipment\n  const trackShipment = async trackingNumber => {\n    setLoading(true)\n    try {\n      // Simulate API call to tracking service\n      await new Promise(resolve => setTimeout(resolve, 1500))\n\n      // Mock tracking statuses\n      const mockStatuses = [\n        'pending',\n        'picked_up',\n        'in_transit',\n        'out_for_delivery',\n        'delivered',\n      ]\n      const currentStatusIndex = Math.floor(Math.random() * mockStatuses.length)\n      const currentStatus = mockStatuses[currentStatusIndex]\n\n      const trackingInfo = {\n        trackingNumber,\n        status: currentStatus,\n        lastUpdated: new Date().toISOString(),\n        estimatedDelivery: calculateEstimatedDelivery('2-3'),\n        timeline: mockStatuses\n          .slice(0, currentStatusIndex + 1)\n          .map((status, index) => ({\n            status,\n            description: getStatusDescription(status),\n            timestamp: new Date(\n              Date.now() -\n                (mockStatuses.length - index - 1) * 24 * 60 * 60 * 1000\n            ).toISOString(),\n            location: getStatusLocation(status),\n          })),\n      }\n\n      setTrackingData(prev => ({\n        ...prev,\n        [trackingNumber]: trackingInfo,\n      }))\n\n      return trackingInfo\n    } catch (error) {\n      console.error('Tracking failed:', error)\n      throw error\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Helper functions\n  const calculateEstimatedDelivery = estimatedDays => {\n    const days = estimatedDays.includes('-')\n      ? parseInt(estimatedDays.split('-')[1])\n      : parseInt(estimatedDays) || 5\n\n    const deliveryDate = new Date()\n    deliveryDate.setDate(deliveryDate.getDate() + days)\n    return deliveryDate.toISOString()\n  }\n\n  const getStatusDescription = status => {\n    const descriptions = {\n      pending: 'Order received and being prepared',\n      picked_up: 'Package picked up from warehouse',\n      in_transit: 'Package in transit to destination',\n      out_for_delivery: 'Out for delivery',\n      delivered: 'Package delivered successfully',\n    }\n    return descriptions[status] || 'Status update'\n  }\n\n  const getStatusLocation = status => {\n    const locations = {\n      pending: 'IVOLEX Warehouse',\n      picked_up: 'Distribution Center',\n      in_transit: 'In Transit',\n      out_for_delivery: 'Local Facility',\n      delivered: 'Delivered',\n    }\n    return locations[status] || 'Unknown'\n  }\n\n  const value = {\n    shippingMethods,\n    selectedMethod,\n    shippingAddress,\n    trackingData,\n    storeLocations,\n    loading,\n    calculateShippingRate,\n    getAvailableShippingMethods,\n    setSelectedMethod,\n    setShippingAddress,\n    createShipment,\n    trackShipment,\n  }\n\n  return (\n    <ShippingContext.Provider value={value}>\n      {children}\n    </ShippingContext.Provider>\n  )\n}\n\nexport default ShippingProvider\n","import { createContext, useContext, useEffect, useState } from 'react'\n\nconst ThemeContext = createContext(null)\n\nexport function ThemeProvider({ children }) {\n  const [theme, setTheme] = useState('light')\n  const [systemTheme, setSystemTheme] = useState('light')\n\n  // Detect system theme preference\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n    setSystemTheme(mediaQuery.matches ? 'dark' : 'light')\n\n    const handler = e => setSystemTheme(e.matches ? 'dark' : 'light')\n    mediaQuery.addEventListener('change', handler)\n\n    return () => mediaQuery.removeEventListener('change', handler)\n  }, [])\n\n  // Load saved theme preference\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme')\n    if (savedTheme && ['light', 'dark', 'system'].includes(savedTheme)) {\n      setTheme(savedTheme)\n    }\n  }, [])\n\n  // Apply theme to document\n  useEffect(() => {\n    const effectiveTheme = theme === 'system' ? systemTheme : theme\n\n    if (effectiveTheme === 'dark') {\n      document.documentElement.classList.add('dark')\n    } else {\n      document.documentElement.classList.remove('dark')\n    }\n  }, [theme, systemTheme])\n\n  const updateTheme = newTheme => {\n    setTheme(newTheme)\n    localStorage.setItem('theme', newTheme)\n  }\n\n  const value = {\n    theme,\n    effectiveTheme: theme === 'system' ? systemTheme : theme,\n    setTheme: updateTheme,\n    systemTheme,\n  }\n\n  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext)\n  if (!context) {\n    throw new Error('useTheme must be used within ThemeProvider')\n  }\n  return context\n}\n","// Security configuration for IVOLEX e-commerce platform\n// Implements security headers, CSP, and input sanitization\n\n// Content Security Policy configuration\nexport const cspConfig = {\n  'default-src': [\"'self'\"],\n  'script-src': [\n    \"'self'\",\n    \"'unsafe-inline'\", // Required for Vite in development\n    \"'unsafe-eval'\", // Required for Vite in development\n    'https://cdn.jsdelivr.net',\n    'https://unpkg.com',\n  ],\n  'style-src': [\n    \"'self'\",\n    \"'unsafe-inline'\", // Required for CSS-in-JS and inline styles\n    'https://fonts.googleapis.com',\n  ],\n  'img-src': [\n    \"'self'\",\n    'data:', // For base64 images\n    'blob:', // For uploaded images\n    'https:', // Allow HTTPS images from any domain\n    'http://localhost:*', // Development only\n  ],\n  'font-src': [\"'self'\", 'https://fonts.gstatic.com', 'data:'],\n  'connect-src': [\n    \"'self'\",\n    'https://api.', // API endpoints\n    'wss:', // WebSocket connections\n    'http://localhost:*', // Development API\n    'https://localhost:*',\n  ],\n  'media-src': [\"'self'\", 'blob:', 'data:'],\n  'object-src': [\"'none'\"],\n  'base-uri': [\"'self'\"],\n  'form-action': [\"'self'\"],\n  'frame-ancestors': [\"'none'\"],\n  'upgrade-insecure-requests': [],\n}\n\n// Security headers configuration\nexport const securityHeaders = {\n  // Prevent XSS attacks\n  'X-XSS-Protection': '1; mode=block',\n\n  // Prevent clickjacking\n  'X-Frame-Options': 'DENY',\n\n  // Prevent MIME type sniffing\n  'X-Content-Type-Options': 'nosniff',\n\n  // Referrer policy\n  'Referrer-Policy': 'strict-origin-when-cross-origin',\n\n  // Permissions policy\n  'Permissions-Policy':\n    'camera=(), microphone=(), geolocation=(), interest-cohort=()',\n\n  // Strict Transport Security (HTTPS only)\n  'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload',\n\n  // Cross-Origin policies\n  'Cross-Origin-Embedder-Policy': 'credentialless',\n  'Cross-Origin-Opener-Policy': 'same-origin',\n  'Cross-Origin-Resource-Policy': 'same-origin',\n}\n\n// Generate CSP header string\nexport function generateCSPHeader() {\n  return Object.entries(cspConfig)\n    .map(([directive, sources]) => `${directive} ${sources.join(' ')}`)\n    .join('; ')\n}\n\n// Input sanitization utilities\nexport const sanitization = {\n  // Sanitize HTML input (remove script tags and dangerous attributes)\n  html: input => {\n    if (typeof input !== 'string') return ''\n    return input\n      .replace(/<script[^>]*>.*?<\\/script>/gi, '')\n      .replace(/<iframe[^>]*>.*?<\\/iframe>/gi, '')\n      .replace(/javascript:/gi, '')\n      .replace(/on\\w+\\s*=/gi, '')\n      .replace(/<.*?>/g, '') // Remove all HTML tags for basic sanitization\n  },\n\n  // Sanitize user input for safe database storage\n  text: input => {\n    if (typeof input !== 'string') return ''\n    return input\n      .trim()\n      .replace(/[<>\"']/g, '') // Remove potentially dangerous characters\n      .substring(0, 1000) // Limit length\n  },\n\n  // Sanitize email input\n  email: input => {\n    if (typeof input !== 'string') return ''\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    const cleaned = input.trim().toLowerCase()\n    return emailRegex.test(cleaned) ? cleaned : ''\n  },\n\n  // Sanitize phone number\n  phone: input => {\n    if (typeof input !== 'string') return ''\n    return input.replace(/[^\\d+\\-\\s()]/g, '').substring(0, 20)\n  },\n\n  // Sanitize search query\n  search: input => {\n    if (typeof input !== 'string') return ''\n    return input\n      .trim()\n      .replace(/[<>\"';&]/g, '') // Remove SQL injection and XSS characters\n      .substring(0, 100)\n  },\n\n  // Sanitize URL\n  url: input => {\n    if (typeof input !== 'string') return ''\n    try {\n      const url = new URL(input)\n      // Only allow http and https protocols\n      if (url.protocol !== 'http:' && url.protocol !== 'https:') {\n        return ''\n      }\n      return url.toString()\n    } catch {\n      return ''\n    }\n  },\n}\n\n// Rate limiting configuration\nexport const rateLimiting = {\n  // API request limits\n  api: {\n    windowMs: 15 * 60 * 1000, // 15 minutes\n    max: 100, // Limit each IP to 100 requests per windowMs\n    message: 'Too many requests from this IP, please try again later.',\n  },\n\n  // Form submission limits\n  forms: {\n    windowMs: 60 * 1000, // 1 minute\n    max: 5, // Limit each IP to 5 form submissions per minute\n    message: 'Too many form submissions, please wait before trying again.',\n  },\n\n  // Authentication limits\n  auth: {\n    windowMs: 15 * 60 * 1000, // 15 minutes\n    max: 5, // Limit failed login attempts\n    message: 'Too many login attempts, please try again later.',\n  },\n}\n\n// Security validation functions\nexport const validation = {\n  // Validate that input doesn't contain suspicious patterns\n  checkSuspiciousPatterns: input => {\n    const suspiciousPatterns = [\n      /<script/i,\n      /javascript:/i,\n      /vbscript:/i,\n      /data:text\\/html/i,\n      /on\\w+\\s*=/i,\n      /style\\s*=.*expression/i,\n      /['\"]\\\\s*j\\\\s*a\\\\s*v\\\\s*a\\\\s*s\\\\s*c\\\\s*r\\\\s*i\\\\s*p\\\\s*t/i,\n    ]\n\n    return !suspiciousPatterns.some(pattern => pattern.test(input))\n  },\n\n  // Validate file upload\n  validateFile: file => {\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/webp', 'image/gif']\n\n    const maxSize = 5 * 1024 * 1024 // 5MB\n\n    return {\n      isValid: allowedTypes.includes(file.type) && file.size <= maxSize,\n      error: !allowedTypes.includes(file.type)\n        ? 'Invalid file type. Only images are allowed.'\n        : file.size > maxSize\n          ? 'File too large. Maximum size is 5MB.'\n          : null,\n    }\n  },\n\n  // Validate JSON input\n  validateJSON: input => {\n    try {\n      const parsed = JSON.parse(input)\n      // Ensure the parsed object doesn't contain suspicious keys\n      const suspiciousKeys = ['__proto__', 'constructor', 'prototype']\n      const hasControls = JSON.stringify(parsed).includes('\\\\u')\n\n      if (hasControls) return false\n\n      const checkObject = obj => {\n        if (typeof obj !== 'object' || obj === null) return true\n        return !Object.keys(obj).some(key => suspiciousKeys.includes(key))\n      }\n\n      return checkObject(parsed)\n    } catch {\n      return false\n    }\n  },\n}\n\n// Environment-specific security settings\nexport const environmentConfig = {\n  development: {\n    enableCSP: false, // Disabled for easier development\n    strictMode: false,\n    allowUnsafeInline: true,\n  },\n\n  production: {\n    enableCSP: true,\n    strictMode: true,\n    allowUnsafeInline: false,\n    forceHTTPS: true,\n    enableHSTS: true,\n  },\n}\n\n// Security audit configuration\nexport const auditConfig = {\n  // Dependencies to exclude from security audit (if needed)\n  excludeDependencies: [],\n\n  // Severity levels to report\n  auditLevel: 'moderate', // 'low', 'moderate', 'high', 'critical'\n\n  // Auto-fix configuration\n  autoFix: {\n    enabled: true,\n    skipBreaking: true,\n  },\n}\n\nexport default {\n  cspConfig,\n  securityHeaders,\n  generateCSPHeader,\n  sanitization,\n  rateLimiting,\n  validation,\n  environmentConfig,\n  auditConfig,\n}\n","import { useEffect } from 'react'\nimport { useCSPReporting, useSecurityMonitor } from '../hooks/useSecurity.js'\nimport { environmentConfig, generateCSPHeader } from '../config/security.js'\n\n// Security Provider component\nexport function SecurityProvider({ children }) {\n  const { setupCSPListener } = useCSPReporting()\n  const { logSecurityEvent } = useSecurityMonitor()\n\n  useEffect(() => {\n    // Set up CSP violation reporting\n    const cleanup = setupCSPListener()\n\n    // Apply security headers via meta tags (for client-side)\n    const applySecurityMeta = () => {\n      const head = document.head\n\n      // CSP meta tag (fallback if server headers not available)\n      if (environmentConfig.production.enableCSP && import.meta.env.PROD) {\n        const cspMeta = document.createElement('meta')\n        cspMeta.httpEquiv = 'Content-Security-Policy'\n        cspMeta.content = generateCSPHeader()\n        head.appendChild(cspMeta)\n      }\n\n      // Referrer Policy\n      const referrerMeta = document.createElement('meta')\n      referrerMeta.name = 'referrer'\n      referrerMeta.content = 'strict-origin-when-cross-origin'\n      head.appendChild(referrerMeta)\n\n      // Viewport security\n      const viewportMeta = document.querySelector('meta[name=\"viewport\"]')\n      if (viewportMeta && !viewportMeta.content.includes('user-scalable=no')) {\n        // Ensure viewport allows user scaling for accessibility\n        viewportMeta.content = viewportMeta.content.replace(\n          /user-scalable=no/g,\n          'user-scalable=yes'\n        )\n      }\n    }\n\n    applySecurityMeta()\n\n    // Monitor for suspicious activity\n    const monitorActivity = () => {\n      // Monitor for rapid form submissions\n      let submissionCount = 0\n      const resetCount = () => {\n        submissionCount = 0\n      }\n\n      document.addEventListener('submit', () => {\n        submissionCount++\n        if (submissionCount > 5) {\n          logSecurityEvent({\n            type: 'rapid_submissions',\n            severity: 'medium',\n            details: `${submissionCount} form submissions in rapid succession`,\n          })\n        }\n      })\n\n      setInterval(resetCount, 60000) // Reset every minute\n\n      // Monitor for suspicious copy/paste activity\n      document.addEventListener('paste', e => {\n        const pastedData = e.clipboardData.getData('text')\n        if (\n          pastedData.length > 1000 ||\n          /<script|javascript:/i.test(pastedData)\n        ) {\n          logSecurityEvent({\n            type: 'suspicious_paste',\n            severity: 'medium',\n            details: 'Large or potentially malicious content pasted',\n          })\n        }\n      })\n\n      // Monitor for developer tools usage (basic detection)\n      let devtools = {\n        open: false,\n        orientation: null,\n      }\n      const threshold = 160\n\n      setInterval(() => {\n        if (\n          window.outerHeight - window.innerHeight > threshold ||\n          window.outerWidth - window.innerWidth > threshold\n        ) {\n          if (!devtools.open) {\n            devtools.open = true\n            logSecurityEvent({\n              type: 'devtools_detected',\n              severity: 'low',\n              details: 'Developer tools may be open',\n            })\n          }\n        } else {\n          devtools.open = false\n        }\n      }, 500)\n    }\n\n    monitorActivity()\n\n    return cleanup\n  }, [setupCSPListener, logSecurityEvent])\n\n  return children\n}\n\n// Security Header component for server-side rendering\nexport function SecurityHeaders() {\n  useEffect(() => {\n    // This would typically be handled by the server\n    // but we can provide client-side fallbacks\n\n    // Disable right-click context menu in production (optional)\n    if (import.meta.env.PROD) {\n      const handleContextMenu = e => {\n        if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {\n          // Allow context menu on form inputs for accessibility\n          // e.preventDefault() // Uncomment to disable right-click\n        }\n      }\n\n      document.addEventListener('contextmenu', handleContextMenu)\n\n      return () => {\n        document.removeEventListener('contextmenu', handleContextMenu)\n      }\n    }\n  }, [])\n\n  return null\n}\n\n// Rate Limiting component\nexport function RateLimitProvider({ children }) {\n  useEffect(() => {\n    const rateLimiters = new Map()\n\n    const checkRateLimit = (key, limit = 10, windowMs = 60000) => {\n      const now = Date.now()\n      const limiter = rateLimiters.get(key) || {\n        count: 0,\n        resetTime: now + windowMs,\n      }\n\n      if (now > limiter.resetTime) {\n        limiter.count = 1\n        limiter.resetTime = now + windowMs\n      } else {\n        limiter.count++\n      }\n\n      rateLimiters.set(key, limiter)\n      return limiter.count <= limit\n    }\n\n    // Add rate limiting to fetch requests\n    const originalFetch = window.fetch\n    window.fetch = function (url, options = {}) {\n      const rateLimitKey = `fetch_${url}`\n\n      if (!checkRateLimit(rateLimitKey, 50, 60000)) {\n        // 50 requests per minute\n        return Promise.reject(new Error('Rate limit exceeded'))\n      }\n\n      return originalFetch.call(this, url, options)\n    }\n\n    return () => {\n      window.fetch = originalFetch\n    }\n  }, [])\n\n  return children\n}\n\n// Input Sanitization HOC\nexport function withInputSanitization(WrappedComponent) {\n  return function SanitizedComponent(props) {\n    const sanitizedProps = { ...props }\n\n    // Sanitize string props\n    Object.keys(sanitizedProps).forEach(key => {\n      const value = sanitizedProps[key]\n      if (typeof value === 'string') {\n        // Basic sanitization\n        sanitizedProps[key] = value\n          .replace(/<script[^>]*>.*?<\\/script>/gi, '')\n          .replace(/javascript:/gi, '')\n          .replace(/on\\w+\\s*=/gi, '')\n      }\n    })\n\n    return <WrappedComponent {...sanitizedProps} />\n  }\n}\n\n// Security validation component\nexport function SecurityValidator({ children, onViolation }) {\n  useEffect(() => {\n    // Monitor for XSS attempts\n    const checkForXSS = event => {\n      const target = event.target\n      if (target && target.value) {\n        const suspiciousPatterns = [\n          /<script/i,\n          /javascript:/i,\n          /vbscript:/i,\n          /on\\w+\\s*=/i,\n        ]\n\n        if (suspiciousPatterns.some(pattern => pattern.test(target.value))) {\n          event.preventDefault()\n          target.value = target.value.replace(/[<>\"']/g, '')\n\n          if (onViolation) {\n            onViolation({\n              type: 'xss_attempt',\n              element: target.tagName,\n              value: target.value,\n            })\n          }\n        }\n      }\n    }\n\n    document.addEventListener('input', checkForXSS)\n    document.addEventListener('change', checkForXSS)\n\n    return () => {\n      document.removeEventListener('input', checkForXSS)\n      document.removeEventListener('change', checkForXSS)\n    }\n  }, [onViolation])\n\n  return children\n}\n","import { useState, useCallback } from 'react'\nimport { sanitization, validation } from '../config/security.js'\n\n// Hook for secure input handling\nexport function useSecureInput(initialValue = '', sanitizeType = 'text') {\n  const [value, setValue] = useState(initialValue)\n  const [isValid, setIsValid] = useState(true)\n  const [error, setError] = useState('')\n\n  const sanitize = useCallback(\n    input => {\n      switch (sanitizeType) {\n        case 'html':\n          return sanitization.html(input)\n        case 'email':\n          return sanitization.email(input)\n        case 'phone':\n          return sanitization.phone(input)\n        case 'search':\n          return sanitization.search(input)\n        case 'url':\n          return sanitization.url(input)\n        default:\n          return sanitization.text(input)\n      }\n    },\n    [sanitizeType]\n  )\n\n  const handleChange = useCallback(\n    newValue => {\n      const sanitized = sanitize(newValue)\n      const suspicious = !validation.checkSuspiciousPatterns(newValue)\n\n      if (suspicious) {\n        setError('Input contains suspicious content')\n        setIsValid(false)\n        return\n      }\n\n      setValue(sanitized)\n      setError('')\n      setIsValid(true)\n    },\n    [sanitize]\n  )\n\n  const reset = useCallback(() => {\n    setValue(initialValue)\n    setError('')\n    setIsValid(true)\n  }, [initialValue])\n\n  return {\n    value,\n    setValue: handleChange,\n    isValid,\n    error,\n    reset,\n    sanitizedValue: sanitize(value),\n  }\n}\n\n// Hook for file upload security\nexport function useSecureFileUpload() {\n  const [files, setFiles] = useState([])\n  const [errors, setErrors] = useState([])\n  const [isUploading, setIsUploading] = useState(false)\n\n  const validateAndAddFile = useCallback(file => {\n    const validationResult = validation.validateFile(file)\n\n    if (!validationResult.isValid) {\n      setErrors(prev => [\n        ...prev,\n        {\n          file: file.name,\n          error: validationResult.error,\n        },\n      ])\n      return false\n    }\n\n    // Additional security checks\n    const reader = new FileReader()\n    reader.onload = e => {\n      const content = e.target.result\n      // Check for embedded scripts in image files\n      if (content.includes('<script') || content.includes('javascript:')) {\n        setErrors(prev => [\n          ...prev,\n          {\n            file: file.name,\n            error: 'File contains suspicious content',\n          },\n        ])\n        return\n      }\n\n      setFiles(prev => [\n        ...prev,\n        {\n          file,\n          id: Date.now() + Math.random(),\n          preview: URL.createObjectURL(file),\n        },\n      ])\n    }\n    reader.readAsText(file.slice(0, 1024)) // Read first 1KB to check for scripts\n\n    return true\n  }, [])\n\n  const removeFile = useCallback(id => {\n    setFiles(prev => {\n      const updated = prev.filter(f => f.id !== id)\n      // Cleanup object URLs\n      const removed = prev.find(f => f.id === id)\n      if (removed?.preview) {\n        URL.revokeObjectURL(removed.preview)\n      }\n      return updated\n    })\n  }, [])\n\n  const clearErrors = useCallback(() => {\n    setErrors([])\n  }, [])\n\n  const clearAll = useCallback(() => {\n    files.forEach(f => {\n      if (f.preview) {\n        URL.revokeObjectURL(f.preview)\n      }\n    })\n    setFiles([])\n    setErrors([])\n  }, [files])\n\n  return {\n    files,\n    errors,\n    isUploading,\n    setIsUploading,\n    validateAndAddFile,\n    removeFile,\n    clearErrors,\n    clearAll,\n  }\n}\n\n// Hook for secure form submission\nexport function useSecureForm(initialData = {}) {\n  const [data, setData] = useState(initialData)\n  const [errors, setErrors] = useState({})\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [submissionCount, setSubmissionCount] = useState(0)\n\n  const updateField = useCallback(\n    (field, value, sanitizeType = 'text') => {\n      const sanitized = sanitization[sanitizeType]\n        ? sanitization[sanitizeType](value)\n        : sanitization.text(value)\n\n      if (!validation.checkSuspiciousPatterns(value)) {\n        setErrors(prev => ({\n          ...prev,\n          [field]: 'Invalid input detected',\n        }))\n        return\n      }\n\n      setData(prev => ({ ...prev, [field]: sanitized }))\n\n      // Clear error for this field if it exists\n      if (errors[field]) {\n        setErrors(prev => {\n          const updated = { ...prev }\n          delete updated[field]\n          return updated\n        })\n      }\n    },\n    [errors]\n  )\n\n  const validateForm = useCallback(\n    validationSchema => {\n      const newErrors = {}\n      let isValid = true\n\n      for (const [field, value] of Object.entries(data)) {\n        if (validationSchema[field]) {\n          const fieldValidation = validationSchema[field](value)\n          if (!fieldValidation.isValid) {\n            newErrors[field] = fieldValidation.error\n            isValid = false\n          }\n        }\n      }\n\n      setErrors(newErrors)\n      return isValid\n    },\n    [data]\n  )\n\n  const submitForm = useCallback(\n    async (submitFunction, validationSchema = {}) => {\n      // Rate limiting check\n      if (submissionCount >= 5) {\n        setErrors({\n          general: 'Too many submissions. Please wait before trying again.',\n        })\n        return false\n      }\n\n      setIsSubmitting(true)\n      setSubmissionCount(prev => prev + 1)\n\n      try {\n        // Validate form if schema provided\n        if (Object.keys(validationSchema).length > 0) {\n          const isValid = validateForm(validationSchema)\n          if (!isValid) {\n            setIsSubmitting(false)\n            return false\n          }\n        }\n\n        // Submit the form\n        const result = await submitFunction(data)\n        setIsSubmitting(false)\n        return result\n      } catch {\n        setErrors({ general: 'Submission failed. Please try again.' })\n        setIsSubmitting(false)\n        return false\n      }\n    },\n    [data, submissionCount, validateForm]\n  )\n\n  const reset = useCallback(() => {\n    setData(initialData)\n    setErrors({})\n    setIsSubmitting(false)\n  }, [initialData])\n\n  return {\n    data,\n    errors,\n    isSubmitting,\n    updateField,\n    validateForm,\n    submitForm,\n    reset,\n  }\n}\n\n// Hook for security monitoring\nexport function useSecurityMonitor() {\n  const [securityEvents, setSecurityEvents] = useState([])\n  const [threatLevel, setThreatLevel] = useState('low')\n\n  const logSecurityEvent = useCallback(\n    event => {\n      const securityEvent = {\n        id: Date.now(),\n        timestamp: new Date().toISOString(),\n        type: event.type,\n        severity: event.severity || 'low',\n        details: event.details,\n        userAgent: navigator.userAgent,\n        url: window.location.href,\n      }\n\n      setSecurityEvents(prev => [...prev.slice(-99), securityEvent]) // Keep last 100 events\n\n      // Update threat level based on recent events\n      const recentEvents = securityEvents.filter(\n        e => Date.now() - new Date(e.timestamp).getTime() < 300000 // 5 minutes\n      )\n\n      const highSeverityCount = recentEvents.filter(\n        e => e.severity === 'high'\n      ).length\n      const mediumSeverityCount = recentEvents.filter(\n        e => e.severity === 'medium'\n      ).length\n\n      if (highSeverityCount >= 3 || mediumSeverityCount >= 5) {\n        setThreatLevel('high')\n      } else if (highSeverityCount >= 1 || mediumSeverityCount >= 2) {\n        setThreatLevel('medium')\n      } else {\n        setThreatLevel('low')\n      }\n    },\n    [securityEvents]\n  )\n\n  const clearEvents = useCallback(() => {\n    setSecurityEvents([])\n    setThreatLevel('low')\n  }, [])\n\n  return {\n    securityEvents,\n    threatLevel,\n    logSecurityEvent,\n    clearEvents,\n  }\n}\n\n// Hook for CSP violation reporting\nexport function useCSPReporting() {\n  const [violations, setViolations] = useState([])\n\n  const reportViolation = useCallback(violation => {\n    const report = {\n      id: Date.now(),\n      timestamp: new Date().toISOString(),\n      directive: violation.violatedDirective,\n      blockedUri: violation.blockedURI,\n      documentUri: violation.documentURI,\n      lineNumber: violation.lineNumber,\n      sourceFile: violation.sourceFile,\n    }\n\n    setViolations(prev => [...prev.slice(-49), report]) // Keep last 50 violations\n\n    // Log to console in development\n    if (import.meta.env?.DEV) {\n      console.warn('CSP Violation:', report)\n    }\n  }, [])\n\n  // Set up CSP violation listener\n  const setupCSPListener = useCallback(() => {\n    const handleCSPViolation = e => {\n      reportViolation(e.originalEvent || e)\n    }\n\n    document.addEventListener('securitypolicyviolation', handleCSPViolation)\n\n    return () => {\n      document.removeEventListener(\n        'securitypolicyviolation',\n        handleCSPViolation\n      )\n    }\n  }, [reportViolation])\n\n  return {\n    violations,\n    reportViolation,\n    setupCSPListener,\n  }\n}\n","import {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  useCallback,\n} from 'react'\n\n// Enhanced Recommendation Context for comprehensive user behavior tracking\nconst RecommendationContext = createContext()\n\n// Extract the context to a separate export to satisfy React Fast Refresh\nexport { RecommendationContext }\n\n// Mock product data for India launch\nconst MOCK_PRODUCTS = [\n  // Leather products\n  {\n    id: 1,\n    name: 'Premium Leather Wallet',\n    category: 'leather',\n    subcategory: 'wallets',\n    price: 2499,\n    rating: 4.8,\n    segment: 'leather',\n    tags: ['premium', 'handcrafted', 'genuine'],\n    image: '/images/leather-wallet.jpg',\n  },\n  {\n    id: 2,\n    name: 'Executive Leather Briefcase',\n    category: 'leather',\n    subcategory: 'bags',\n    price: 8999,\n    rating: 4.9,\n    segment: 'leather',\n    tags: ['professional', 'durable', 'spacious'],\n    image: '/images/leather-briefcase.jpg',\n  },\n  {\n    id: 3,\n    name: 'Classic Leather Belt',\n    category: 'leather',\n    subcategory: 'belts',\n    price: 1599,\n    rating: 4.7,\n    segment: 'leather',\n    tags: ['classic', 'adjustable', 'formal'],\n    image: '/images/leather-belt.jpg',\n  },\n  {\n    id: 4,\n    name: 'Leather Card Holder',\n    category: 'leather',\n    subcategory: 'accessories',\n    price: 899,\n    rating: 4.6,\n    segment: 'leather',\n    tags: ['compact', 'stylish', 'functional'],\n    image: '/images/card-holder.jpg',\n  },\n\n  // Electronics\n  {\n    id: 5,\n    name: 'Wireless Bluetooth Earbuds',\n    category: 'electronics',\n    subcategory: 'audio',\n    price: 3999,\n    rating: 4.5,\n    segment: 'electronics',\n    tags: ['wireless', 'noise-cancelling', 'portable'],\n    image: '/images/earbuds.jpg',\n  },\n  {\n    id: 6,\n    name: 'Smart Fitness Watch',\n    category: 'electronics',\n    subcategory: 'wearables',\n    price: 12999,\n    rating: 4.4,\n    segment: 'electronics',\n    tags: ['fitness', 'smart', 'waterproof'],\n    image: '/images/fitness-watch.jpg',\n  },\n  {\n    id: 7,\n    name: 'Portable Power Bank',\n    category: 'electronics',\n    subcategory: 'accessories',\n    price: 1999,\n    rating: 4.3,\n    segment: 'electronics',\n    tags: ['portable', 'fast-charging', 'compact'],\n    image: '/images/power-bank.jpg',\n  },\n  {\n    id: 8,\n    name: 'Wireless Charging Pad',\n    category: 'electronics',\n    subcategory: 'accessories',\n    price: 2499,\n    rating: 4.2,\n    segment: 'electronics',\n    tags: ['wireless', 'efficient', 'sleek'],\n    image: '/images/charging-pad.jpg',\n  },\n\n  // Furniture\n  {\n    id: 9,\n    name: 'Ergonomic Office Chair',\n    category: 'furniture',\n    subcategory: 'office',\n    price: 15999,\n    rating: 4.7,\n    segment: 'furniture',\n    tags: ['ergonomic', 'comfortable', 'adjustable'],\n    image: '/images/office-chair.jpg',\n  },\n  {\n    id: 10,\n    name: 'Modern Coffee Table',\n    category: 'furniture',\n    subcategory: 'seating',\n    price: 8499,\n    rating: 4.6,\n    segment: 'furniture',\n    tags: ['modern', 'stylish', 'durable'],\n    image: '/images/coffee-table.jpg',\n  },\n  {\n    id: 11,\n    name: 'Storage Ottoman',\n    category: 'furniture',\n    subcategory: 'storage',\n    price: 4999,\n    rating: 4.5,\n    segment: 'furniture',\n    tags: ['storage', 'multifunctional', 'comfortable'],\n    image: '/images/storage-ottoman.jpg',\n  },\n  {\n    id: 12,\n    name: 'Floating Desk Organizer',\n    category: 'furniture',\n    subcategory: 'office',\n    price: 2999,\n    rating: 4.4,\n    segment: 'furniture',\n    tags: ['organized', 'space-saving', 'modern'],\n    image: '/images/desk-organizer.jpg',\n  },\n]\n\n// Enhanced user behavior tracking with detailed analytics\nconst BEHAVIOR_WEIGHTS = {\n  view: 1,\n  quickView: 1.5,\n  addToCart: 3,\n  removeFromCart: -1,\n  purchase: 5,\n  wishlist: 2,\n  removeFromWishlist: -0.5,\n  search: 1,\n  categoryView: 0.5,\n  filterApply: 0.8,\n  sortApply: 0.3,\n  imageZoom: 0.5,\n  reviewRead: 0.7,\n  reviewWrite: 2,\n  shareProduct: 1.5,\n  compareProduct: 1.2,\n  emailInquiry: 2.5,\n  chatInquiry: 2,\n  timeOnProduct: 0.1, // per second\n  scrollDepth: 0.05, // per percentage\n  clickRecommendation: 1.8,\n}\n\n// Session tracking for advanced analytics\nconst SESSION_STORAGE_KEY = 'ivolex_session_data'\nconst BEHAVIOR_STORAGE_KEY = 'ivolex_user_behavior'\nconst ANALYTICS_STORAGE_KEY = 'ivolex_analytics_data'\n\nexport function RecommendationProvider({ children }) {\n  const [userBehavior, setUserBehavior] = useState([])\n  const [sessionData, setSessionData] = useState({\n    sessionId: Date.now().toString(),\n    startTime: new Date(),\n    deviceInfo: {\n      userAgent: navigator.userAgent,\n      language: navigator.language,\n      platform: navigator.platform,\n      screenResolution: `${screen.width}x${screen.height}`,\n      viewport: `${window.innerWidth}x${window.innerHeight}`,\n      isMobile: /Mobile|Android|iPhone|iPad/.test(navigator.userAgent),\n    },\n    location: null,\n    totalTimeSpent: 0,\n    pagesVisited: [],\n    currentPage: window.location.pathname,\n  })\n  const [recommendations, setRecommendations] = useState({\n    trending: [],\n    personalized: [],\n    related: {},\n    frequentlyBoughtTogether: {},\n    categoryBased: {},\n    searchBased: {},\n    crossSell: {},\n    upsell: {},\n  })\n  const [analytics, setAnalytics] = useState({\n    conversionRate: 0,\n    engagementScore: 0,\n    preferredCategories: [],\n    priceRange: { min: 0, max: 0 },\n    timeOfDayPattern: {},\n    dayOfWeekPattern: {},\n    seasonalPattern: {},\n    abandonmentReasons: [],\n    loyaltyScore: 0,\n  })\n  const [isLoading, setIsLoading] = useState(false)\n\n  // Update real-time analytics\n  const updateAnalytics = useCallback(newBehavior => {\n    setAnalytics(prev => {\n      const updated = { ...prev }\n\n      // Update engagement score\n      if (newBehavior.weight > 0) {\n        updated.engagementScore = Math.min(\n          100,\n          updated.engagementScore + newBehavior.weight\n        )\n      }\n\n      // Update time patterns\n      const hour = newBehavior.metadata.hourOfDay\n      updated.timeOfDayPattern[hour] = (updated.timeOfDayPattern[hour] || 0) + 1\n\n      const day = newBehavior.metadata.dayOfWeek\n      updated.dayOfWeekPattern[day] = (updated.dayOfWeekPattern[day] || 0) + 1\n\n      // Update preferred categories\n      if (newBehavior.productData?.category) {\n        const categoryIndex = updated.preferredCategories.findIndex(\n          cat => cat.name === newBehavior.productData.category\n        )\n        if (categoryIndex >= 0) {\n          updated.preferredCategories[categoryIndex].score += newBehavior.weight\n        } else {\n          updated.preferredCategories.push({\n            name: newBehavior.productData.category,\n            score: newBehavior.weight,\n          })\n        }\n        // Sort by score\n        updated.preferredCategories.sort((a, b) => b.score - a.score)\n      }\n\n      return updated\n    })\n  }, [])\n\n  // Enhanced behavior tracking with comprehensive metadata\n  const trackBehavior = useCallback(\n    (action, productId = null, metadata = {}) => {\n      const now = new Date()\n      const behaviorEntry = {\n        id: `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        sessionId: sessionData.sessionId,\n        action,\n        productId,\n        timestamp: now,\n        metadata: {\n          ...metadata,\n          page: window.location.pathname,\n          referrer: document.referrer,\n          timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n          localTime: now.toLocaleString('en-IN'),\n          dayOfWeek: now.getDay(),\n          hourOfDay: now.getHours(),\n          device: sessionData.deviceInfo.isMobile ? 'mobile' : 'desktop',\n          ...sessionData.deviceInfo,\n        },\n        weight: BEHAVIOR_WEIGHTS[action] || 1,\n      }\n\n      // Add product-specific data if available\n      if (productId) {\n        const product = MOCK_PRODUCTS.find(p => p.id === productId)\n        if (product) {\n          behaviorEntry.productData = {\n            category: product.category,\n            subcategory: product.subcategory,\n            price: product.price,\n            rating: product.rating,\n            segment: product.segment,\n            tags: product.tags,\n          }\n        }\n      }\n\n      setUserBehavior(prev => {\n        const updated = [...prev, behaviorEntry]\n        // Keep only last 2000 entries to prevent memory issues\n        return updated.slice(-2000)\n      })\n\n      // Store in localStorage for persistence\n      try {\n        const stored = JSON.parse(\n          localStorage.getItem(BEHAVIOR_STORAGE_KEY) || '[]'\n        )\n        stored.push(behaviorEntry)\n        localStorage.setItem(\n          BEHAVIOR_STORAGE_KEY,\n          JSON.stringify(stored.slice(-2000))\n        )\n      } catch (error) {\n        console.warn('Failed to store user behavior:', error)\n      }\n\n      // Real-time analytics update\n      updateAnalytics(behaviorEntry)\n    },\n    [sessionData, updateAnalytics]\n  )\n\n  // Track time spent on products\n  const trackTimeOnProduct = useCallback(\n    (productId, timeSpent) => {\n      trackBehavior('timeOnProduct', productId, {\n        timeSpent: Math.round(timeSpent),\n        engagement: timeSpent > 30 ? 'high' : timeSpent > 10 ? 'medium' : 'low',\n      })\n    },\n    [trackBehavior]\n  )\n\n  // Track scroll depth\n  const trackScrollDepth = useCallback(\n    (productId, scrollPercentage) => {\n      if (scrollPercentage > 0 && scrollPercentage % 25 === 0) {\n        // Track at 25%, 50%, 75%, 100%\n        trackBehavior('scrollDepth', productId, {\n          scrollPercentage,\n          engagement:\n            scrollPercentage > 75\n              ? 'high'\n              : scrollPercentage > 50\n                ? 'medium'\n                : 'low',\n        })\n      }\n    },\n    [trackBehavior]\n  )\n\n  // Track cart abandonment\n  const trackCartAbandonment = useCallback(\n    (reason, cartValue, itemCount) => {\n      trackBehavior('cartAbandonment', null, {\n        reason,\n        cartValue,\n        itemCount,\n        abandonmentStage: 'cart',\n        potentialLoss: cartValue,\n      })\n    },\n    [trackBehavior]\n  )\n\n  // Track search behavior\n  const trackSearch = useCallback(\n    (query, results, filters = {}) => {\n      trackBehavior('search', null, {\n        query,\n        resultCount: results.length,\n        hasResults: results.length > 0,\n        filters,\n        searchType: Object.keys(filters).length > 0 ? 'filtered' : 'simple',\n      })\n    },\n    [trackBehavior]\n  )\n\n  // Load behavior and session data from localStorage on mount\n  useEffect(() => {\n    try {\n      // Load behavior data\n      const storedBehavior = JSON.parse(\n        localStorage.getItem(BEHAVIOR_STORAGE_KEY) || '[]'\n      )\n      setUserBehavior(storedBehavior)\n\n      // Load or create session data\n      const storedSession = JSON.parse(\n        localStorage.getItem(SESSION_STORAGE_KEY) || 'null'\n      )\n      if (\n        storedSession &&\n        Date.now() - new Date(storedSession.startTime).getTime() <\n          24 * 60 * 60 * 1000\n      ) {\n        // Session is less than 24 hours old, continue it\n        setSessionData(prev => ({ ...prev, ...storedSession }))\n      } else {\n        // Create new session\n        const newSession = {\n          ...sessionData,\n          sessionId: Date.now().toString(),\n          startTime: new Date(),\n        }\n        setSessionData(newSession)\n        localStorage.setItem(SESSION_STORAGE_KEY, JSON.stringify(newSession))\n      }\n\n      // Load analytics data\n      const storedAnalytics = JSON.parse(\n        localStorage.getItem(ANALYTICS_STORAGE_KEY) || 'null'\n      )\n      if (storedAnalytics) {\n        setAnalytics(prev => ({ ...prev, ...storedAnalytics }))\n      }\n    } catch (error) {\n      console.warn('Failed to load stored data:', error)\n    }\n\n    // Track page view\n    trackBehavior('pageView', null, { page: window.location.pathname })\n\n    // Setup beforeunload listener to save session data\n    const handleBeforeUnload = () => {\n      try {\n        localStorage.setItem(SESSION_STORAGE_KEY, JSON.stringify(sessionData))\n        localStorage.setItem(ANALYTICS_STORAGE_KEY, JSON.stringify(analytics))\n      } catch (error) {\n        console.warn('Failed to save session data:', error)\n      }\n    }\n\n    window.addEventListener('beforeunload', handleBeforeUnload)\n    return () => window.removeEventListener('beforeunload', handleBeforeUnload)\n  }, [analytics, sessionData, trackBehavior])\n\n  // Generate trending products (based on mock data for now)\n  const generateTrending = useCallback(() => {\n    // Sort by rating and add some randomness\n    return MOCK_PRODUCTS.sort(\n      (a, b) => b.rating * Math.random() - a.rating * Math.random()\n    ).slice(0, 8)\n  }, [])\n\n  // Enhanced personalized recommendations with machine learning-inspired scoring\n  const generatePersonalized = useCallback(() => {\n    if (userBehavior.length === 0) {\n      return generateTrending()\n    }\n\n    // Advanced user preference analysis\n    const categoryScores = {}\n    const segmentScores = {}\n    const tagScores = {}\n    const priceRangeScores = {}\n    const timeBasedScores = {}\n    // const brandScores = {}\n\n    // Analyze user behavior with time decay\n    const now = Date.now()\n    userBehavior.forEach(behavior => {\n      const product = MOCK_PRODUCTS.find(p => p.id === behavior.productId)\n      if (!product) return\n\n      // Apply time decay (recent actions weigh more)\n      const timeDiff = now - new Date(behavior.timestamp).getTime()\n      const timeDecay = Math.exp(-timeDiff / (7 * 24 * 60 * 60 * 1000)) // 7-day half-life\n      const weightedScore = behavior.weight * timeDecay\n\n      // Score categories\n      categoryScores[product.category] =\n        (categoryScores[product.category] || 0) + weightedScore\n      segmentScores[product.segment] =\n        (segmentScores[product.segment] || 0) + weightedScore\n\n      // Score tags\n      product.tags.forEach(tag => {\n        tagScores[tag] = (tagScores[tag] || 0) + weightedScore\n      })\n\n      // Price range analysis\n      const priceRange =\n        product.price < 2000 ? 'low' : product.price < 8000 ? 'medium' : 'high'\n      priceRangeScores[priceRange] =\n        (priceRangeScores[priceRange] || 0) + weightedScore\n\n      // Time-based patterns\n      const hour = new Date(behavior.timestamp).getHours()\n      const timeSlot =\n        hour < 12 ? 'morning' : hour < 18 ? 'afternoon' : 'evening'\n      timeBasedScores[timeSlot] =\n        (timeBasedScores[timeSlot] || 0) + weightedScore\n    })\n\n    // Generate personalized recommendations with advanced scoring\n    const scoredProducts = MOCK_PRODUCTS.map(product => {\n      let score = 0\n\n      // Category preference\n      score += (categoryScores[product.category] || 0) * 0.3\n\n      // Segment preference\n      score += (segmentScores[product.segment] || 0) * 0.25\n\n      // Tag preferences\n      product.tags.forEach(tag => {\n        score += (tagScores[tag] || 0) * 0.1\n      })\n\n      // Price range preference\n      const priceRange =\n        product.price < 2000 ? 'low' : product.price < 8000 ? 'medium' : 'high'\n      score += (priceRangeScores[priceRange] || 0) * 0.15\n\n      // Quality bonus (rating)\n      score += product.rating * 2\n\n      // Diversity factor (avoid too similar products)\n      const hasInteracted = userBehavior.some(b => b.productId === product.id)\n      if (hasInteracted) score *= 0.3\n\n      // Add controlled randomness for exploration\n      score += Math.random() * 5\n\n      return { ...product, score }\n    })\n\n    return scoredProducts.sort((a, b) => b.score - a.score).slice(0, 12)\n  }, [userBehavior, generateTrending])\n\n  // Generate related products for a specific product\n  const generateRelated = useCallback(productId => {\n    const product = MOCK_PRODUCTS.find(p => p.id === productId)\n    if (!product) return []\n\n    // Find products in same category/segment with similar tags\n    const related = MOCK_PRODUCTS.filter(p => p.id !== productId)\n      .map(p => {\n        let similarity = 0\n\n        // Same category bonus\n        if (p.category === product.category) similarity += 3\n\n        // Same segment bonus\n        if (p.segment === product.segment) similarity += 2\n\n        // Tag similarity\n        const commonTags = p.tags.filter(tag => product.tags.includes(tag))\n        similarity += commonTags.length\n\n        // Price similarity (within 50% range)\n        const priceDiff = Math.abs(p.price - product.price) / product.price\n        if (priceDiff < 0.5) similarity += 1\n\n        return { ...p, similarity }\n      })\n      .sort((a, b) => b.similarity - a.similarity)\n      .slice(0, 6)\n\n    return related\n  }, [])\n\n  // Generate frequently bought together products\n  const generateFrequentlyBoughtTogether = useCallback(productId => {\n    const product = MOCK_PRODUCTS.find(p => p.id === productId)\n    if (!product) return []\n\n    // Mock frequently bought together logic\n    // In real implementation, this would use purchase history analysis\n    const complementaryProducts = MOCK_PRODUCTS.filter(p => {\n      if (p.id === productId) return false\n\n      // Same segment but different subcategory\n      if (\n        p.segment === product.segment &&\n        p.subcategory !== product.subcategory\n      ) {\n        return true\n      }\n\n      // Complementary categories\n      const complementary = {\n        leather: ['electronics'],\n        electronics: ['leather'],\n        furniture: ['electronics', 'leather'],\n      }\n\n      return complementary[product.category]?.includes(p.category)\n    })\n      .sort(() => Math.random() - 0.5) // Randomize\n      .slice(0, 4)\n\n    return complementaryProducts\n  }, [])\n\n  // Generate category-based recommendations\n  const generateCategoryBased = useCallback((category, excludeId = null) => {\n    return MOCK_PRODUCTS.filter(\n      p => p.category === category && p.id !== excludeId\n    )\n      .sort((a, b) => b.rating - a.rating)\n      .slice(0, 6)\n  }, [])\n\n  // Generate cross-sell recommendations (complementary products)\n  const generateCrossSell = useCallback(cartItems => {\n    if (!cartItems || cartItems.length === 0) return []\n\n    const cartCategories = [\n      ...new Set(\n        cartItems\n          .map(item => {\n            const product = MOCK_PRODUCTS.find(p => p.id === item.productId)\n            return product?.category\n          })\n          .filter(Boolean)\n      ),\n    ]\n\n    const complementaryMap = {\n      leather: ['electronics', 'furniture'],\n      electronics: ['leather', 'furniture'],\n      furniture: ['electronics', 'leather'],\n    }\n\n    const crossSellProducts = MOCK_PRODUCTS.filter(product => {\n      // Exclude items already in cart\n      if (cartItems.some(item => item.productId === product.id)) return false\n\n      // Find complementary categories\n      return cartCategories.some(cartCat =>\n        complementaryMap[cartCat]?.includes(product.category)\n      )\n    })\n\n    return crossSellProducts.sort((a, b) => b.rating - a.rating).slice(0, 6)\n  }, [])\n\n  // Generate upsell recommendations (higher-value similar products)\n  const generateUpsell = useCallback(productId => {\n    const product = MOCK_PRODUCTS.find(p => p.id === productId)\n    if (!product) return []\n\n    const upsellProducts = MOCK_PRODUCTS.filter(p => {\n      if (p.id === productId) return false\n\n      // Same category but higher price (20-200% more expensive)\n      const priceIncrease = (p.price - product.price) / product.price\n      return (\n        p.category === product.category &&\n        priceIncrease >= 0.2 &&\n        priceIncrease <= 2.0\n      )\n    })\n\n    return upsellProducts\n      .sort((a, b) => {\n        // Sort by value proposition (rating vs price increase)\n        const aValueScore = a.rating / (a.price / product.price - 1)\n        const bValueScore = b.rating / (b.price / product.price - 1)\n        return bValueScore - aValueScore\n      })\n      .slice(0, 4)\n  }, [])\n\n  // Advanced search recommendations with ML-like ranking\n  const getAdvancedSearchRecommendations = useCallback(\n    (query, userContext = {}) => {\n      const lowerQuery = query.toLowerCase()\n      const words = lowerQuery.split(' ').filter(word => word.length > 2)\n\n      return MOCK_PRODUCTS.map(product => {\n        let relevanceScore = 0\n\n        // Exact name match (highest weight)\n        if (product.name.toLowerCase().includes(lowerQuery)) {\n          relevanceScore += 50\n        }\n\n        // Individual word matches\n        words.forEach(word => {\n          if (product.name.toLowerCase().includes(word)) relevanceScore += 20\n          if (product.category.toLowerCase().includes(word))\n            relevanceScore += 15\n          if (product.subcategory.toLowerCase().includes(word))\n            relevanceScore += 15\n          if (product.tags.some(tag => tag.toLowerCase().includes(word)))\n            relevanceScore += 10\n        })\n\n        // Category/subcategory exact match\n        if (product.category.toLowerCase() === lowerQuery) relevanceScore += 40\n        if (product.subcategory.toLowerCase() === lowerQuery)\n          relevanceScore += 35\n\n        // Tag exact match\n        if (product.tags.some(tag => tag.toLowerCase() === lowerQuery))\n          relevanceScore += 30\n\n        // Personalization boost based on user behavior\n        if (userBehavior.length > 0) {\n          const userCategoryPreference =\n            analytics.preferredCategories.find(\n              cat => cat.name === product.category\n            )?.score || 0\n          relevanceScore += userCategoryPreference * 0.1\n        }\n\n        // Quality boost\n        relevanceScore += product.rating * 2\n\n        // Price relevance (if price range specified in context)\n        if (userContext.priceRange) {\n          const { min, max } = userContext.priceRange\n          if (product.price >= min && product.price <= max) {\n            relevanceScore += 10\n          }\n        }\n\n        return { ...product, relevanceScore }\n      })\n        .filter(product => product.relevanceScore > 0)\n        .sort((a, b) => b.relevanceScore - a.relevanceScore)\n        .slice(0, 20)\n    },\n    [userBehavior, analytics]\n  )\n\n  // Get comprehensive user analytics\n  const getUserAnalytics = useCallback(() => {\n    const totalInteractions = userBehavior.length\n    const uniqueProducts = new Set(\n      userBehavior.filter(b => b.productId).map(b => b.productId)\n    ).size\n    const totalPurchases = userBehavior.filter(\n      b => b.action === 'purchase'\n    ).length\n    const totalCartAdds = userBehavior.filter(\n      b => b.action === 'addToCart'\n    ).length\n\n    return {\n      ...analytics,\n      totalInteractions,\n      uniqueProducts,\n      conversionRate:\n        totalCartAdds > 0 ? (totalPurchases / totalCartAdds) * 100 : 0,\n      averageSessionLength: sessionData.totalTimeSpent / 60, // in minutes\n      loyaltyScore: Math.min(100, totalInteractions * 2 + totalPurchases * 10),\n      engagementLevel:\n        analytics.engagementScore > 50\n          ? 'high'\n          : analytics.engagementScore > 20\n            ? 'medium'\n            : 'low',\n      preferredPriceRange: {\n        min:\n          Math.min(\n            ...userBehavior\n              .filter(b => b.productData?.price)\n              .map(b => b.productData.price)\n          ) || 0,\n        max:\n          Math.max(\n            ...userBehavior\n              .filter(b => b.productData?.price)\n              .map(b => b.productData.price)\n          ) || 0,\n      },\n      topCategories: analytics.preferredCategories.slice(0, 3),\n      recentActivity: userBehavior.slice(-10),\n    }\n  }, [userBehavior, analytics, sessionData])\n\n  // Update all recommendations\n  const updateRecommendations = useCallback(async () => {\n    setIsLoading(true)\n\n    try {\n      // Simulate API delay\n      await new Promise(resolve => setTimeout(resolve, 500))\n\n      setRecommendations({\n        trending: generateTrending(),\n        personalized: generatePersonalized(),\n        related: {},\n        frequentlyBoughtTogether: {},\n        categoryBased: {},\n        searchBased: {},\n        crossSell: {},\n        upsell: {},\n      })\n    } catch (error) {\n      console.error('Failed to update recommendations:', error)\n    } finally {\n      setIsLoading(false)\n    }\n  }, [generateTrending, generatePersonalized])\n\n  // Update recommendations when user behavior changes\n  useEffect(() => {\n    updateRecommendations()\n  }, [updateRecommendations])\n\n  // Search recommendations based on query\n  const getSearchRecommendations = useCallback(query => {\n    const lowerQuery = query.toLowerCase()\n\n    return MOCK_PRODUCTS.filter(\n      product =>\n        product.name.toLowerCase().includes(lowerQuery) ||\n        product.category.toLowerCase().includes(lowerQuery) ||\n        product.subcategory.toLowerCase().includes(lowerQuery) ||\n        product.tags.some(tag => tag.toLowerCase().includes(lowerQuery))\n    )\n      .sort((a, b) => {\n        // Exact name matches first\n        const aNameMatch = a.name.toLowerCase().includes(lowerQuery)\n        const bNameMatch = b.name.toLowerCase().includes(lowerQuery)\n        if (aNameMatch && !bNameMatch) return -1\n        if (!aNameMatch && bNameMatch) return 1\n\n        // Then by rating\n        return b.rating - a.rating\n      })\n      .slice(0, 10)\n  }, [])\n\n  const value = {\n    // State\n    userBehavior,\n    sessionData,\n    analytics,\n    recommendations,\n    isLoading,\n\n    // Enhanced tracking actions\n    trackBehavior,\n    trackTimeOnProduct,\n    trackScrollDepth,\n    trackCartAbandonment,\n    trackSearch,\n    updateRecommendations,\n\n    // Recommendation getters\n    getRelated: productId => {\n      if (!recommendations.related[productId]) {\n        recommendations.related[productId] = generateRelated(productId)\n      }\n      return recommendations.related[productId]\n    },\n\n    getFrequentlyBoughtTogether: productId => {\n      if (!recommendations.frequentlyBoughtTogether[productId]) {\n        recommendations.frequentlyBoughtTogether[productId] =\n          generateFrequentlyBoughtTogether(productId)\n      }\n      return recommendations.frequentlyBoughtTogether[productId]\n    },\n\n    getCategoryBased: (category, excludeId = null) => {\n      const key = `${category}_${excludeId || 'all'}`\n      if (!recommendations.categoryBased[key]) {\n        recommendations.categoryBased[key] = generateCategoryBased(\n          category,\n          excludeId\n        )\n      }\n      return recommendations.categoryBased[key]\n    },\n\n    getCrossSell: cartItems => {\n      const key = cartItems\n        .map(item => item.productId)\n        .sort()\n        .join('_')\n      if (!recommendations.crossSell[key]) {\n        recommendations.crossSell[key] = generateCrossSell(cartItems)\n      }\n      return recommendations.crossSell[key]\n    },\n\n    getUpsell: productId => {\n      if (!recommendations.upsell[productId]) {\n        recommendations.upsell[productId] = generateUpsell(productId)\n      }\n      return recommendations.upsell[productId]\n    },\n\n    // Search functions\n    getSearchRecommendations,\n    getAdvancedSearchRecommendations,\n\n    // Trending and personalized are already computed\n    getTrending: () => recommendations.trending,\n    getPersonalized: () => recommendations.personalized,\n\n    // Analytics and insights\n    getUserAnalytics,\n    getEngagementScore: () => analytics.engagementScore,\n    getPreferredCategories: () => analytics.preferredCategories,\n    getLoyaltyScore: () => analytics.loyaltyScore,\n\n    // Utility functions\n    getProducts: () => MOCK_PRODUCTS,\n    getProduct: id => MOCK_PRODUCTS.find(p => p.id === id),\n\n    // Behavioral insights\n    getSessionInsights: () => ({\n      sessionDuration: sessionData.totalTimeSpent,\n      pagesVisited: sessionData.pagesVisited.length,\n      deviceType: sessionData.deviceInfo.isMobile ? 'mobile' : 'desktop',\n      engagementLevel:\n        analytics.engagementScore > 50\n          ? 'high'\n          : analytics.engagementScore > 20\n            ? 'medium'\n            : 'low',\n    }),\n\n    // A/B testing support\n    getVariantRecommendations: (variant = 'default') => {\n      switch (variant) {\n        case 'popularity':\n          return recommendations.trending\n        case 'personalized':\n          return recommendations.personalized\n        case 'hybrid':\n          return [\n            ...recommendations.personalized.slice(0, 6),\n            ...recommendations.trending.slice(0, 6),\n          ]\n        default:\n          return recommendations.personalized.length > 0\n            ? recommendations.personalized\n            : recommendations.trending\n      }\n    },\n  }\n\n  return (\n    <RecommendationContext.Provider value={value}>\n      {children}\n    </RecommendationContext.Provider>\n  )\n}\n\nexport function useRecommendations() {\n  const context = useContext(RecommendationContext)\n  if (!context) {\n    throw new Error(\n      'useRecommendations must be used within a RecommendationProvider'\n    )\n  }\n  return context\n}\n\nexport default RecommendationContext\n","export default function SkipToContent() {\n  return (\n    <>\n      <a\n        href=\"#main\"\n        className=\"sr-only focus:not-sr-only focus:fixed focus:top-2 focus:left-2 bg-brand-500 text-white px-3 py-2 rounded z-50\"\n        aria-label=\"Skip to main content\"\n      >\n        Skip to main content\n      </a>\n      <a\n        href=\"#navigation\"\n        className=\"sr-only focus:not-sr-only focus:fixed focus:top-2 focus:left-20 bg-brand-500 text-white px-3 py-2 rounded z-50\"\n        aria-label=\"Skip to navigation\"\n      >\n        Skip to navigation\n      </a>\n    </>\n  )\n}\n","import { Component } from 'react'\nimport { AlertTriangle, RefreshCw, Home, Bug } from 'lucide-react'\nimport { motion } from 'framer-motion'\n\nexport default class ErrorBoundary extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null,\n      errorId: null,\n    }\n  }\n\n  static getDerivedStateFromError(_error) {\n    return {\n      hasError: true,\n      errorId: Date.now().toString(36) + Math.random().toString(36).substr(2),\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // Log error details\n    console.error('UI Error:', error, errorInfo)\n\n    this.setState({\n      error,\n      errorInfo,\n    })\n\n    // Report error to monitoring service (if available)\n    if (typeof window !== 'undefined' && window.gtag) {\n      window.gtag('event', 'exception', {\n        description: error.toString(),\n        fatal: false,\n      })\n    }\n\n    // Log to audit system if available\n    try {\n      if (window.logSecurityEvent) {\n        window.logSecurityEvent({\n          type: 'ui_error',\n          severity: 'high',\n          details: `Error: ${error.message}`,\n          metadata: { errorId: this.state.errorId },\n        })\n      }\n    } catch (loggingError) {\n      console.warn('Failed to log error:', loggingError)\n    }\n  }\n\n  handleReload = () => {\n    window.location.reload()\n  }\n\n  handleGoHome = () => {\n    window.location.href = '/'\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: null, errorInfo: null })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      const { showDetails = false, title, message } = this.props\n\n      return (\n        <div className=\"min-h-[400px] flex items-center justify-center p-8\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"max-w-lg mx-auto text-center\"\n          >\n            {/* Error Icon */}\n            <motion.div\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              transition={{ delay: 0.2, type: 'spring', stiffness: 200 }}\n              className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6\"\n            >\n              <AlertTriangle size={32} className=\"text-red-600\" />\n            </motion.div>\n\n            {/* Error Message */}\n            <h2 className=\"text-2xl font-bold text-foreground mb-2\">\n              {title || 'Something went wrong'}\n            </h2>\n            <p className=\"text-foreground/70 mb-6\">\n              {message ||\n                'An unexpected error occurred. Please try refreshing the page or contact support if the problem persists.'}\n            </p>\n\n            {/* Error ID */}\n            <div className=\"bg-background border border-border rounded-lg p-3 mb-6\">\n              <p className=\"text-sm text-foreground/60\">\n                Error ID:{' '}\n                <code className=\"font-mono text-xs bg-background px-2 py-1 rounded\">\n                  {this.state.errorId}\n                </code>\n              </p>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex flex-col sm:flex-row gap-3 justify-center mb-6\">\n              <button\n                onClick={this.handleRetry}\n                className=\"flex items-center gap-2 px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors\"\n              >\n                <RefreshCw size={16} />\n                Try Again\n              </button>\n              <button\n                onClick={this.handleReload}\n                className=\"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n              >\n                <RefreshCw size={16} />\n                Reload Page\n              </button>\n              <button\n                onClick={this.handleGoHome}\n                className=\"flex items-center gap-2 px-4 py-2 border border-border text-foreground rounded-lg hover:bg-background transition-colors\"\n              >\n                <Home size={16} />\n                Go Home\n              </button>\n            </div>\n\n            {/* Error Details (Development) */}\n            {(showDetails || import.meta.env.DEV) && this.state.error && (\n              <motion.details\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.5 }}\n                className=\"text-left bg-red-50 border border-red-200 rounded-lg p-4\"\n              >\n                <summary className=\"cursor-pointer text-red-800 font-medium mb-2 flex items-center gap-2\">\n                  <Bug size={16} />\n                  Technical Details\n                </summary>\n                <div className=\"text-sm text-red-700 space-y-2\">\n                  <div>\n                    <strong>Error:</strong>\n                    <pre className=\"mt-1 text-xs bg-red-100 p-2 rounded overflow-auto\">\n                      {this.state.error.toString()}\n                    </pre>\n                  </div>\n                  {this.state.errorInfo && (\n                    <div>\n                      <strong>Component Stack:</strong>\n                      <pre className=\"mt-1 text-xs bg-red-100 p-2 rounded overflow-auto\">\n                        {this.state.errorInfo.componentStack}\n                      </pre>\n                    </div>\n                  )}\n                </div>\n              </motion.details>\n            )}\n          </motion.div>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n","import { toast, Toaster, ToastPosition } from 'react-hot-toast'\n\n// Toast configuration\nconst toastConfig = {\n  duration: 4000,\n  position: 'top-right' as ToastPosition,\n  style: {\n    background: '#fff',\n    color: '#374151',\n    boxShadow:\n      '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',\n    border: '1px solid #e5e7eb',\n    borderRadius: '0.75rem',\n  },\n}\n\n// Toast functions\nexport const showSuccess = (message: string) => {\n  toast.success(message, {\n    duration: toastConfig.duration,\n    style: toastConfig.style,\n    iconTheme: {\n      primary: '#059669',\n      secondary: '#ffffff',\n    },\n  })\n}\n\nexport const showError = (message: string) => {\n  toast.error(message, {\n    duration: toastConfig.duration,\n    style: toastConfig.style,\n    iconTheme: {\n      primary: '#dc2626',\n      secondary: '#ffffff',\n    },\n  })\n}\n\nexport const showInfo = (message: string) => {\n  toast(message, {\n    duration: toastConfig.duration,\n    style: toastConfig.style,\n    icon: 'ℹ️',\n  })\n}\n\nexport const showLoading = (message: string) => {\n  return toast.loading(message, {\n    duration: toastConfig.duration,\n    style: toastConfig.style,\n  })\n}\n\nexport const dismissToast = (toastId: string) => {\n  toast.dismiss(toastId)\n}\n\n// Toast Provider Component\nexport default function ToastProvider() {\n  return (\n    <Toaster\n      position={toastConfig.position}\n      toastOptions={{\n        duration: toastConfig.duration,\n        style: toastConfig.style,\n      }}\n      reverseOrder={false}\n    />\n  )\n}\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.3\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    // START: Modifications:\n    // Apply guards for `Object.create(null)` handling. See:\n    // - https://github.com/FormidableLabs/react-fast-compare/issues/64\n    // - https://github.com/epoberezkin/fast-deep-equal/issues/49\n    if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === 'function' && typeof b.valueOf === 'function') return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString && typeof a.toString === 'function' && typeof b.toString === 'function') return a.toString() === b.toString();\n    // END: Modifications\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","// src/index.tsx\nimport React3, { Component as Component3 } from \"react\";\nimport fastCompare from \"react-fast-compare\";\nimport invariant from \"invariant\";\n\n// src/Provider.tsx\nimport React2, { Component } from \"react\";\n\n// src/server.ts\nimport React from \"react\";\n\n// src/constants.ts\nvar TAG_NAMES = /* @__PURE__ */ ((TAG_NAMES2) => {\n  TAG_NAMES2[\"BASE\"] = \"base\";\n  TAG_NAMES2[\"BODY\"] = \"body\";\n  TAG_NAMES2[\"HEAD\"] = \"head\";\n  TAG_NAMES2[\"HTML\"] = \"html\";\n  TAG_NAMES2[\"LINK\"] = \"link\";\n  TAG_NAMES2[\"META\"] = \"meta\";\n  TAG_NAMES2[\"NOSCRIPT\"] = \"noscript\";\n  TAG_NAMES2[\"SCRIPT\"] = \"script\";\n  TAG_NAMES2[\"STYLE\"] = \"style\";\n  TAG_NAMES2[\"TITLE\"] = \"title\";\n  TAG_NAMES2[\"FRAGMENT\"] = \"Symbol(react.fragment)\";\n  return TAG_NAMES2;\n})(TAG_NAMES || {});\nvar SEO_PRIORITY_TAGS = {\n  link: { rel: [\"amphtml\", \"canonical\", \"alternate\"] },\n  script: { type: [\"application/ld+json\"] },\n  meta: {\n    charset: \"\",\n    name: [\"generator\", \"robots\", \"description\"],\n    property: [\n      \"og:type\",\n      \"og:title\",\n      \"og:url\",\n      \"og:image\",\n      \"og:image:alt\",\n      \"og:description\",\n      \"twitter:url\",\n      \"twitter:title\",\n      \"twitter:description\",\n      \"twitter:image\",\n      \"twitter:image:alt\",\n      \"twitter:card\",\n      \"twitter:site\"\n    ]\n  }\n};\nvar VALID_TAG_NAMES = Object.values(TAG_NAMES);\nvar REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HTML_TAG_MAP = Object.entries(REACT_TAG_MAP).reduce(\n  (carry, [key, value]) => {\n    carry[value] = key;\n    return carry;\n  },\n  {}\n);\nvar HELMET_ATTRIBUTE = \"data-rh\";\n\n// src/utils.ts\nvar HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\",\n  PRIORITIZE_SEO_TAGS: \"prioritizeSeoTags\"\n};\nvar getInnermostProperty = (propsList, property) => {\n  for (let i = propsList.length - 1; i >= 0; i -= 1) {\n    const props = propsList[i];\n    if (Object.prototype.hasOwnProperty.call(props, property)) {\n      return props[property];\n    }\n  }\n  return null;\n};\nvar getTitleFromPropsList = (propsList) => {\n  let innermostTitle = getInnermostProperty(propsList, \"title\" /* TITLE */);\n  const innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n  if (Array.isArray(innermostTitle)) {\n    innermostTitle = innermostTitle.join(\"\");\n  }\n  if (innermostTemplate && innermostTitle) {\n    return innermostTemplate.replace(/%s/g, () => innermostTitle);\n  }\n  const innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || void 0;\n};\nvar getOnChangeClientState = (propsList) => getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || (() => {\n});\nvar getAttributesFromPropsList = (tagType, propsList) => propsList.filter((props) => typeof props[tagType] !== \"undefined\").map((props) => props[tagType]).reduce((tagAttrs, current) => ({ ...tagAttrs, ...current }), {});\nvar getBaseTagFromPropsList = (primaryAttributes, propsList) => propsList.filter((props) => typeof props[\"base\" /* BASE */] !== \"undefined\").map((props) => props[\"base\" /* BASE */]).reverse().reduce((innermostBaseTag, tag) => {\n  if (!innermostBaseTag.length) {\n    const keys = Object.keys(tag);\n    for (let i = 0; i < keys.length; i += 1) {\n      const attributeKey = keys[i];\n      const lowerCaseAttributeKey = attributeKey.toLowerCase();\n      if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n        return innermostBaseTag.concat(tag);\n      }\n    }\n  }\n  return innermostBaseTag;\n}, []);\nvar warn = (msg) => console && typeof console.warn === \"function\" && console.warn(msg);\nvar getTagsFromPropsList = (tagName, primaryAttributes, propsList) => {\n  const approvedSeenTags = {};\n  return propsList.filter((props) => {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\n        `Helmet: ${tagName} should be of type \"Array\". Instead found type \"${typeof props[tagName]}\"`\n      );\n    }\n    return false;\n  }).map((props) => props[tagName]).reverse().reduce((approvedTags, instanceTags) => {\n    const instanceSeenTags = {};\n    instanceTags.filter((tag) => {\n      let primaryAttributeKey;\n      const keys2 = Object.keys(tag);\n      for (let i = 0; i < keys2.length; i += 1) {\n        const attributeKey = keys2[i];\n        const lowerCaseAttributeKey = attributeKey.toLowerCase();\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === \"rel\" /* REL */ && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === \"rel\" /* REL */ && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        }\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === \"innerHTML\" /* INNER_HTML */ || attributeKey === \"cssText\" /* CSS_TEXT */ || attributeKey === \"itemprop\" /* ITEM_PROP */)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n      const value = tag[primaryAttributeKey].toLowerCase();\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n      return false;\n    }).reverse().forEach((tag) => approvedTags.push(tag));\n    const keys = Object.keys(instanceSeenTags);\n    for (let i = 0; i < keys.length; i += 1) {\n      const attributeKey = keys[i];\n      const tagUnion = {\n        ...approvedSeenTags[attributeKey],\n        ...instanceSeenTags[attributeKey]\n      };\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n    return approvedTags;\n  }, []).reverse();\n};\nvar getAnyTrueFromPropsList = (propsList, checkedTag) => {\n  if (Array.isArray(propsList) && propsList.length) {\n    for (let index = 0; index < propsList.length; index += 1) {\n      const prop = propsList[index];\n      if (prop[checkedTag]) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\nvar reducePropsToState = (propsList) => ({\n  baseTag: getBaseTagFromPropsList([\"href\" /* HREF */], propsList),\n  bodyAttributes: getAttributesFromPropsList(\"bodyAttributes\" /* BODY */, propsList),\n  defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n  encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n  htmlAttributes: getAttributesFromPropsList(\"htmlAttributes\" /* HTML */, propsList),\n  linkTags: getTagsFromPropsList(\n    \"link\" /* LINK */,\n    [\"rel\" /* REL */, \"href\" /* HREF */],\n    propsList\n  ),\n  metaTags: getTagsFromPropsList(\n    \"meta\" /* META */,\n    [\n      \"name\" /* NAME */,\n      \"charset\" /* CHARSET */,\n      \"http-equiv\" /* HTTPEQUIV */,\n      \"property\" /* PROPERTY */,\n      \"itemprop\" /* ITEM_PROP */\n    ],\n    propsList\n  ),\n  noscriptTags: getTagsFromPropsList(\"noscript\" /* NOSCRIPT */, [\"innerHTML\" /* INNER_HTML */], propsList),\n  onChangeClientState: getOnChangeClientState(propsList),\n  scriptTags: getTagsFromPropsList(\n    \"script\" /* SCRIPT */,\n    [\"src\" /* SRC */, \"innerHTML\" /* INNER_HTML */],\n    propsList\n  ),\n  styleTags: getTagsFromPropsList(\"style\" /* STYLE */, [\"cssText\" /* CSS_TEXT */], propsList),\n  title: getTitleFromPropsList(propsList),\n  titleAttributes: getAttributesFromPropsList(\"titleAttributes\" /* TITLE */, propsList),\n  prioritizeSeoTags: getAnyTrueFromPropsList(propsList, HELMET_PROPS.PRIORITIZE_SEO_TAGS)\n});\nvar flattenArray = (possibleArray) => Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\nvar checkIfPropsMatch = (props, toMatch) => {\n  const keys = Object.keys(props);\n  for (let i = 0; i < keys.length; i += 1) {\n    if (toMatch[keys[i]] && toMatch[keys[i]].includes(props[keys[i]])) {\n      return true;\n    }\n  }\n  return false;\n};\nvar prioritizer = (elementsList, propsToMatch) => {\n  if (Array.isArray(elementsList)) {\n    return elementsList.reduce(\n      (acc, elementAttrs) => {\n        if (checkIfPropsMatch(elementAttrs, propsToMatch)) {\n          acc.priority.push(elementAttrs);\n        } else {\n          acc.default.push(elementAttrs);\n        }\n        return acc;\n      },\n      { priority: [], default: [] }\n    );\n  }\n  return { default: elementsList, priority: [] };\n};\nvar without = (obj, key) => {\n  return {\n    ...obj,\n    [key]: void 0\n  };\n};\n\n// src/server.ts\nvar SELF_CLOSING_TAGS = [\"noscript\" /* NOSCRIPT */, \"script\" /* SCRIPT */, \"style\" /* STYLE */];\nvar encodeSpecialCharacters = (str, encode = true) => {\n  if (encode === false) {\n    return String(str);\n  }\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\nvar generateElementAttributesAsString = (attributes) => Object.keys(attributes).reduce((str, key) => {\n  const attr = typeof attributes[key] !== \"undefined\" ? `${key}=\"${attributes[key]}\"` : `${key}`;\n  return str ? `${str} ${attr}` : attr;\n}, \"\");\nvar generateTitleAsString = (type, title, attributes, encode) => {\n  const attributeString = generateElementAttributesAsString(attributes);\n  const flattenedTitle = flattenArray(title);\n  return attributeString ? `<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeString}>${encodeSpecialCharacters(\n    flattenedTitle,\n    encode\n  )}</${type}>` : `<${type} ${HELMET_ATTRIBUTE}=\"true\">${encodeSpecialCharacters(\n    flattenedTitle,\n    encode\n  )}</${type}>`;\n};\nvar generateTagsAsString = (type, tags, encode = true) => tags.reduce((str, t) => {\n  const tag = t;\n  const attributeHtml = Object.keys(tag).filter(\n    (attribute) => !(attribute === \"innerHTML\" /* INNER_HTML */ || attribute === \"cssText\" /* CSS_TEXT */)\n  ).reduce((string, attribute) => {\n    const attr = typeof tag[attribute] === \"undefined\" ? attribute : `${attribute}=\"${encodeSpecialCharacters(tag[attribute], encode)}\"`;\n    return string ? `${string} ${attr}` : attr;\n  }, \"\");\n  const tagContent = tag.innerHTML || tag.cssText || \"\";\n  const isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n  return `${str}<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeHtml}${isSelfClosing ? `/>` : `>${tagContent}</${type}>`}`;\n}, \"\");\nvar convertElementAttributesToReactProps = (attributes, initProps = {}) => Object.keys(attributes).reduce((obj, key) => {\n  const mapped = REACT_TAG_MAP[key];\n  obj[mapped || key] = attributes[key];\n  return obj;\n}, initProps);\nvar generateTitleAsReactComponent = (_type, title, attributes) => {\n  const initProps = {\n    key: title,\n    [HELMET_ATTRIBUTE]: true\n  };\n  const props = convertElementAttributesToReactProps(attributes, initProps);\n  return [React.createElement(\"title\" /* TITLE */, props, title)];\n};\nvar generateTagsAsReactComponent = (type, tags) => tags.map((tag, i) => {\n  const mappedTag = {\n    key: i,\n    [HELMET_ATTRIBUTE]: true\n  };\n  Object.keys(tag).forEach((attribute) => {\n    const mapped = REACT_TAG_MAP[attribute];\n    const mappedAttribute = mapped || attribute;\n    if (mappedAttribute === \"innerHTML\" /* INNER_HTML */ || mappedAttribute === \"cssText\" /* CSS_TEXT */) {\n      const content = tag.innerHTML || tag.cssText;\n      mappedTag.dangerouslySetInnerHTML = { __html: content };\n    } else {\n      mappedTag[mappedAttribute] = tag[attribute];\n    }\n  });\n  return React.createElement(type, mappedTag);\n});\nvar getMethodsForTag = (type, tags, encode = true) => {\n  switch (type) {\n    case \"title\" /* TITLE */:\n      return {\n        toComponent: () => generateTitleAsReactComponent(type, tags.title, tags.titleAttributes),\n        toString: () => generateTitleAsString(type, tags.title, tags.titleAttributes, encode)\n      };\n    case \"bodyAttributes\" /* BODY */:\n    case \"htmlAttributes\" /* HTML */:\n      return {\n        toComponent: () => convertElementAttributesToReactProps(tags),\n        toString: () => generateElementAttributesAsString(tags)\n      };\n    default:\n      return {\n        toComponent: () => generateTagsAsReactComponent(type, tags),\n        toString: () => generateTagsAsString(type, tags, encode)\n      };\n  }\n};\nvar getPriorityMethods = ({ metaTags, linkTags, scriptTags, encode }) => {\n  const meta = prioritizer(metaTags, SEO_PRIORITY_TAGS.meta);\n  const link = prioritizer(linkTags, SEO_PRIORITY_TAGS.link);\n  const script = prioritizer(scriptTags, SEO_PRIORITY_TAGS.script);\n  const priorityMethods = {\n    toComponent: () => [\n      ...generateTagsAsReactComponent(\"meta\" /* META */, meta.priority),\n      ...generateTagsAsReactComponent(\"link\" /* LINK */, link.priority),\n      ...generateTagsAsReactComponent(\"script\" /* SCRIPT */, script.priority)\n    ],\n    toString: () => (\n      // generate all the tags as strings and concatenate them\n      `${getMethodsForTag(\"meta\" /* META */, meta.priority, encode)} ${getMethodsForTag(\n        \"link\" /* LINK */,\n        link.priority,\n        encode\n      )} ${getMethodsForTag(\"script\" /* SCRIPT */, script.priority, encode)}`\n    )\n  };\n  return {\n    priorityMethods,\n    metaTags: meta.default,\n    linkTags: link.default,\n    scriptTags: script.default\n  };\n};\nvar mapStateOnServer = (props) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    encode = true,\n    htmlAttributes,\n    noscriptTags,\n    styleTags,\n    title = \"\",\n    titleAttributes,\n    prioritizeSeoTags\n  } = props;\n  let { linkTags, metaTags, scriptTags } = props;\n  let priorityMethods = {\n    toComponent: () => {\n    },\n    toString: () => \"\"\n  };\n  if (prioritizeSeoTags) {\n    ({ priorityMethods, linkTags, metaTags, scriptTags } = getPriorityMethods(props));\n  }\n  return {\n    priority: priorityMethods,\n    base: getMethodsForTag(\"base\" /* BASE */, baseTag, encode),\n    bodyAttributes: getMethodsForTag(\"bodyAttributes\" /* BODY */, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(\"htmlAttributes\" /* HTML */, htmlAttributes, encode),\n    link: getMethodsForTag(\"link\" /* LINK */, linkTags, encode),\n    meta: getMethodsForTag(\"meta\" /* META */, metaTags, encode),\n    noscript: getMethodsForTag(\"noscript\" /* NOSCRIPT */, noscriptTags, encode),\n    script: getMethodsForTag(\"script\" /* SCRIPT */, scriptTags, encode),\n    style: getMethodsForTag(\"style\" /* STYLE */, styleTags, encode),\n    title: getMethodsForTag(\"title\" /* TITLE */, { title, titleAttributes }, encode)\n  };\n};\nvar server_default = mapStateOnServer;\n\n// src/HelmetData.ts\nvar instances = [];\nvar isDocument = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nvar HelmetData = class {\n  instances = [];\n  canUseDOM = isDocument;\n  context;\n  value = {\n    setHelmet: (serverState) => {\n      this.context.helmet = serverState;\n    },\n    helmetInstances: {\n      get: () => this.canUseDOM ? instances : this.instances,\n      add: (instance) => {\n        (this.canUseDOM ? instances : this.instances).push(instance);\n      },\n      remove: (instance) => {\n        const index = (this.canUseDOM ? instances : this.instances).indexOf(instance);\n        (this.canUseDOM ? instances : this.instances).splice(index, 1);\n      }\n    }\n  };\n  constructor(context, canUseDOM) {\n    this.context = context;\n    this.canUseDOM = canUseDOM || false;\n    if (!canUseDOM) {\n      context.helmet = server_default({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n  }\n};\n\n// src/Provider.tsx\nvar defaultValue = {};\nvar Context = React2.createContext(defaultValue);\nvar HelmetProvider = class _HelmetProvider extends Component {\n  static canUseDOM = isDocument;\n  helmetData;\n  constructor(props) {\n    super(props);\n    this.helmetData = new HelmetData(this.props.context || {}, _HelmetProvider.canUseDOM);\n  }\n  render() {\n    return /* @__PURE__ */ React2.createElement(Context.Provider, { value: this.helmetData.value }, this.props.children);\n  }\n};\n\n// src/Dispatcher.tsx\nimport { Component as Component2 } from \"react\";\nimport shallowEqual from \"shallowequal\";\n\n// src/client.ts\nvar updateTags = (type, tags) => {\n  const headElement = document.head || document.querySelector(\"head\" /* HEAD */);\n  const tagNodes = headElement.querySelectorAll(`${type}[${HELMET_ATTRIBUTE}]`);\n  const oldTags = [].slice.call(tagNodes);\n  const newTags = [];\n  let indexToDelete;\n  if (tags && tags.length) {\n    tags.forEach((tag) => {\n      const newElement = document.createElement(type);\n      for (const attribute in tag) {\n        if (Object.prototype.hasOwnProperty.call(tag, attribute)) {\n          if (attribute === \"innerHTML\" /* INNER_HTML */) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === \"cssText\" /* CSS_TEXT */) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            const attr = attribute;\n            const value = typeof tag[attr] === \"undefined\" ? \"\" : tag[attr];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n      newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n      if (oldTags.some((existingTag, index) => {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n  oldTags.forEach((tag) => tag.parentNode?.removeChild(tag));\n  newTags.forEach((tag) => headElement.appendChild(tag));\n  return {\n    oldTags,\n    newTags\n  };\n};\nvar updateAttributes = (tagName, attributes) => {\n  const elementTag = document.getElementsByTagName(tagName)[0];\n  if (!elementTag) {\n    return;\n  }\n  const helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  const helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  const attributesToRemove = [...helmetAttributes];\n  const attributeKeys = Object.keys(attributes);\n  for (const attribute of attributeKeys) {\n    const value = attributes[attribute] || \"\";\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n    const indexToSave = attributesToRemove.indexOf(attribute);\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n  for (let i = attributesToRemove.length - 1; i >= 0; i -= 1) {\n    elementTag.removeAttribute(attributesToRemove[i]);\n  }\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\nvar updateTitle = (title, attributes) => {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n  updateAttributes(\"title\" /* TITLE */, attributes);\n};\nvar commitTagChanges = (newState, cb) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    htmlAttributes,\n    linkTags,\n    metaTags,\n    noscriptTags,\n    onChangeClientState,\n    scriptTags,\n    styleTags,\n    title,\n    titleAttributes\n  } = newState;\n  updateAttributes(\"body\" /* BODY */, bodyAttributes);\n  updateAttributes(\"html\" /* HTML */, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  const tagUpdates = {\n    baseTag: updateTags(\"base\" /* BASE */, baseTag),\n    linkTags: updateTags(\"link\" /* LINK */, linkTags),\n    metaTags: updateTags(\"meta\" /* META */, metaTags),\n    noscriptTags: updateTags(\"noscript\" /* NOSCRIPT */, noscriptTags),\n    scriptTags: updateTags(\"script\" /* SCRIPT */, scriptTags),\n    styleTags: updateTags(\"style\" /* STYLE */, styleTags)\n  };\n  const addedTags = {};\n  const removedTags = {};\n  Object.keys(tagUpdates).forEach((tagType) => {\n    const { newTags, oldTags } = tagUpdates[tagType];\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  if (cb) {\n    cb();\n  }\n  onChangeClientState(newState, addedTags, removedTags);\n};\nvar _helmetCallback = null;\nvar handleStateChangeOnClient = (newState) => {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(() => {\n      commitTagChanges(newState, () => {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\nvar client_default = handleStateChangeOnClient;\n\n// src/Dispatcher.tsx\nvar HelmetDispatcher = class extends Component2 {\n  rendered = false;\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqual(nextProps, this.props);\n  }\n  componentDidUpdate() {\n    this.emitChange();\n  }\n  componentWillUnmount() {\n    const { helmetInstances } = this.props.context;\n    helmetInstances.remove(this);\n    this.emitChange();\n  }\n  emitChange() {\n    const { helmetInstances, setHelmet } = this.props.context;\n    let serverState = null;\n    const state = reducePropsToState(\n      helmetInstances.get().map((instance) => {\n        const props = { ...instance.props };\n        delete props.context;\n        return props;\n      })\n    );\n    if (HelmetProvider.canUseDOM) {\n      client_default(state);\n    } else if (server_default) {\n      serverState = server_default(state);\n    }\n    setHelmet(serverState);\n  }\n  // componentWillMount will be deprecated\n  // for SSR, initialize on first render\n  // constructor is also unsafe in StrictMode\n  init() {\n    if (this.rendered) {\n      return;\n    }\n    this.rendered = true;\n    const { helmetInstances } = this.props.context;\n    helmetInstances.add(this);\n    this.emitChange();\n  }\n  render() {\n    this.init();\n    return null;\n  }\n};\n\n// src/index.tsx\nvar Helmet = class extends Component3 {\n  static defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true,\n    prioritizeSeoTags: false\n  };\n  shouldComponentUpdate(nextProps) {\n    return !fastCompare(without(this.props, \"helmetData\"), without(nextProps, \"helmetData\"));\n  }\n  mapNestedChildrenToProps(child, nestedChildren) {\n    if (!nestedChildren) {\n      return null;\n    }\n    switch (child.type) {\n      case \"script\" /* SCRIPT */:\n      case \"noscript\" /* NOSCRIPT */:\n        return {\n          innerHTML: nestedChildren\n        };\n      case \"style\" /* STYLE */:\n        return {\n          cssText: nestedChildren\n        };\n      default:\n        throw new Error(\n          `<${child.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`\n        );\n    }\n  }\n  flattenArrayTypeChildren(child, arrayTypeChildren, newChildProps, nestedChildren) {\n    return {\n      ...arrayTypeChildren,\n      [child.type]: [\n        ...arrayTypeChildren[child.type] || [],\n        {\n          ...newChildProps,\n          ...this.mapNestedChildrenToProps(child, nestedChildren)\n        }\n      ]\n    };\n  }\n  mapObjectTypeChildren(child, newProps, newChildProps, nestedChildren) {\n    switch (child.type) {\n      case \"title\" /* TITLE */:\n        return {\n          ...newProps,\n          [child.type]: nestedChildren,\n          titleAttributes: { ...newChildProps }\n        };\n      case \"body\" /* BODY */:\n        return {\n          ...newProps,\n          bodyAttributes: { ...newChildProps }\n        };\n      case \"html\" /* HTML */:\n        return {\n          ...newProps,\n          htmlAttributes: { ...newChildProps }\n        };\n      default:\n        return {\n          ...newProps,\n          [child.type]: { ...newChildProps }\n        };\n    }\n  }\n  mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n    let newFlattenedProps = { ...newProps };\n    Object.keys(arrayTypeChildren).forEach((arrayChildName) => {\n      newFlattenedProps = {\n        ...newFlattenedProps,\n        [arrayChildName]: arrayTypeChildren[arrayChildName]\n      };\n    });\n    return newFlattenedProps;\n  }\n  warnOnInvalidChildren(child, nestedChildren) {\n    invariant(\n      VALID_TAG_NAMES.some((name) => child.type === name),\n      typeof child.type === \"function\" ? `You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.` : `Only elements types ${VALID_TAG_NAMES.join(\n        \", \"\n      )} are allowed. Helmet does not support rendering <${child.type}> elements. Refer to our API for more information.`\n    );\n    invariant(\n      !nestedChildren || typeof nestedChildren === \"string\" || Array.isArray(nestedChildren) && !nestedChildren.some((nestedChild) => typeof nestedChild !== \"string\"),\n      `Helmet expects a string as a child of <${child.type}>. Did you forget to wrap your children in braces? ( <${child.type}>{\\`\\`}</${child.type}> ) Refer to our API for more information.`\n    );\n    return true;\n  }\n  mapChildrenToProps(children, newProps) {\n    let arrayTypeChildren = {};\n    React3.Children.forEach(children, (child) => {\n      if (!child || !child.props) {\n        return;\n      }\n      const { children: nestedChildren, ...childProps } = child.props;\n      const newChildProps = Object.keys(childProps).reduce((obj, key) => {\n        obj[HTML_TAG_MAP[key] || key] = childProps[key];\n        return obj;\n      }, {});\n      let { type } = child;\n      if (typeof type === \"symbol\") {\n        type = type.toString();\n      } else {\n        this.warnOnInvalidChildren(child, nestedChildren);\n      }\n      switch (type) {\n        case \"Symbol(react.fragment)\" /* FRAGMENT */:\n          newProps = this.mapChildrenToProps(nestedChildren, newProps);\n          break;\n        case \"link\" /* LINK */:\n        case \"meta\" /* META */:\n        case \"noscript\" /* NOSCRIPT */:\n        case \"script\" /* SCRIPT */:\n        case \"style\" /* STYLE */:\n          arrayTypeChildren = this.flattenArrayTypeChildren(\n            child,\n            arrayTypeChildren,\n            newChildProps,\n            nestedChildren\n          );\n          break;\n        default:\n          newProps = this.mapObjectTypeChildren(child, newProps, newChildProps, nestedChildren);\n          break;\n      }\n    });\n    return this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n  }\n  render() {\n    const { children, ...props } = this.props;\n    let newProps = { ...props };\n    let { helmetData } = props;\n    if (children) {\n      newProps = this.mapChildrenToProps(children, newProps);\n    }\n    if (helmetData && !(helmetData instanceof HelmetData)) {\n      const data = helmetData;\n      helmetData = new HelmetData(data.context, true);\n      delete newProps.helmetData;\n    }\n    return helmetData ? /* @__PURE__ */ React3.createElement(HelmetDispatcher, { ...newProps, context: helmetData.value }) : /* @__PURE__ */ React3.createElement(Context.Consumer, null, (context) => /* @__PURE__ */ React3.createElement(HelmetDispatcher, { ...newProps, context }));\n  }\n};\nexport {\n  Helmet,\n  HelmetData,\n  HelmetProvider\n};\n","// Environment configuration\nexport const config = {\n  app: {\n    name: import.meta.env.VITE_APP_NAME || 'IVolex',\n    version: import.meta.env.VITE_APP_VERSION || '0.0.1',\n    debugMode: import.meta.env.VITE_DEBUG_MODE === 'true',\n  },\n  api: {\n    baseUrl: import.meta.env.VITE_API_BASE_URL || '/api',\n  },\n  features: {\n    analytics: import.meta.env.VITE_ENABLE_ANALYTICS === 'true',\n  },\n  dev: {\n    logLevel: import.meta.env.VITE_LOG_LEVEL || 'info',\n  },\n}\n\n// App constants\nexport const APP_CONSTANTS = {\n  BREAKPOINTS: {\n    sm: 640,\n    md: 768,\n    lg: 1024,\n    xl: 1280,\n    '2xl': 1536,\n  },\n  CATEGORIES: ['bags', 'belts', 'wallets', 'footwear'],\n  CURRENCY: 'USD',\n  CURRENCY_SYMBOL: '$',\n}\n\n// Navigation routes\nexport const ROUTES = {\n  HOME: '/',\n  SHOP: '/shop',\n  CATEGORY: '/category',\n  PRODUCT: '/product',\n  CART: '/cart',\n  CHECKOUT: '/checkout',\n}\n","import { Helmet, HelmetProvider } from 'react-helmet-async'\nimport { config } from '../config'\n\nexport function SEOProvider({ children }) {\n  return <HelmetProvider>{children}</HelmetProvider>\n}\n\nexport function SEO({\n  title,\n  description,\n  keywords,\n  image,\n  url,\n  type = 'website',\n  noindex = false,\n  canonical,\n  alternateLanguages,\n  structuredData,\n}) {\n  const siteName = config.app.name\n  const fullTitle = title ? `${title} | ${siteName}` : siteName\n  const finalUrl =\n    url || (typeof window !== 'undefined' ? window.location.href : '')\n  const defaultDescription =\n    'Premium leather goods crafted with attention to detail. Shop our collection of leather bags, belts, wallets, and footwear.'\n  const finalDescription = description || defaultDescription\n\n  const defaultImage = '/images/og-image.jpg'\n  const finalImage = image || defaultImage\n  const fullImageUrl = finalImage.startsWith('http')\n    ? finalImage\n    : `${typeof window !== 'undefined' ? window.location.origin : ''}${finalImage}`\n\n  const defaultKeywords = [\n    'leather goods',\n    'leather bags',\n    'leather belts',\n    'leather wallets',\n    'leather footwear',\n    'premium leather',\n    'handcrafted leather',\n    'luxury accessories',\n  ]\n  const finalKeywords = keywords\n    ? [...keywords, ...defaultKeywords]\n    : defaultKeywords\n\n  return (\n    <Helmet>\n      {/* Basic Meta Tags */}\n      <title>{fullTitle}</title>\n      <meta name=\"description\" content={finalDescription} />\n      <meta name=\"keywords\" content={finalKeywords.join(', ')} />\n\n      {/* Canonical URL */}\n      {canonical && <link rel=\"canonical\" href={canonical} />}\n\n      {/* Robots */}\n      <meta\n        name=\"robots\"\n        content={noindex ? 'noindex,nofollow' : 'index,follow'}\n      />\n\n      {/* Open Graph */}\n      <meta property=\"og:type\" content={type} />\n      <meta property=\"og:title\" content={fullTitle} />\n      <meta property=\"og:description\" content={finalDescription} />\n      <meta property=\"og:image\" content={fullImageUrl} />\n      <meta property=\"og:url\" content={finalUrl} />\n      <meta property=\"og:site_name\" content={siteName} />\n\n      {/* Twitter Card */}\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\n      <meta name=\"twitter:title\" content={fullTitle} />\n      <meta name=\"twitter:description\" content={finalDescription} />\n      <meta name=\"twitter:image\" content={fullImageUrl} />\n\n      {/* Additional SEO Meta */}\n      <meta name=\"author\" content={siteName} />\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n      <meta httpEquiv=\"Content-Language\" content=\"en\" />\n\n      {/* Alternate Languages */}\n      {alternateLanguages &&\n        alternateLanguages.map(lang => (\n          <link\n            key={lang.hreflang}\n            rel=\"alternate\"\n            hrefLang={lang.hreflang}\n            href={lang.href}\n          />\n        ))}\n\n      {/* Structured Data */}\n      {structuredData && (\n        <script type=\"application/ld+json\">\n          {JSON.stringify(structuredData)}\n        </script>\n      )}\n    </Helmet>\n  )\n}\n\n// Predefined structured data generators\nexport const generateOrganizationSchema = () => ({\n  '@context': 'https://schema.org',\n  '@type': 'Organization',\n  name: 'IVolex',\n  description: 'Premium leather goods crafted with attention to detail',\n  url: typeof window !== 'undefined' ? window.location.origin : '',\n  logo: `${typeof window !== 'undefined' ? window.location.origin : ''}/images/logo.png`,\n  contactPoint: {\n    '@type': 'ContactPoint',\n    telephone: '+1-555-123-4567',\n    contactType: 'customer service',\n    email: 'support@ivolex.com',\n  },\n  sameAs: [\n    'https://facebook.com/ivolex',\n    'https://instagram.com/ivolex',\n    'https://twitter.com/ivolex',\n  ],\n})\n\nexport const generateProductSchema = product => ({\n  '@context': 'https://schema.org',\n  '@type': 'Product',\n  name: product.name,\n  description: product.short || product.description,\n  image: `${typeof window !== 'undefined' ? window.location.origin : ''}${product.image}`,\n  brand: {\n    '@type': 'Brand',\n    name: 'IVolex',\n  },\n  offers: {\n    '@type': 'Offer',\n    price: product.price,\n    priceCurrency: 'USD',\n    availability: 'https://schema.org/InStock',\n  },\n  aggregateRating: product.rating\n    ? {\n        '@type': 'AggregateRating',\n        ratingValue: product.rating,\n        ratingCount: 100, // This would come from your actual review data\n        bestRating: 5,\n        worstRating: 1,\n      }\n    : undefined,\n})\n\nexport const generateBreadcrumbSchema = breadcrumbs => ({\n  '@context': 'https://schema.org',\n  '@type': 'BreadcrumbList',\n  itemListElement: breadcrumbs.map((crumb, index) => ({\n    '@type': 'ListItem',\n    position: index + 1,\n    name: crumb.name,\n    item: crumb.url,\n  })),\n})\n","import FloatingNavbar from './components/FloatingNavbar.jsx'\nimport Footer from './sections/Footer.jsx'\nimport { LocationProvider } from './contexts/LocationContext.jsx'\nimport { CartProvider } from './contexts/CartContext.jsx'\nimport { AuthProvider } from './contexts/AuthContext.jsx'\nimport { OrderProvider } from './contexts/OrderContext.jsx'\nimport { NotificationProvider } from './contexts/NotificationContext.jsx'\nimport { AuditProvider } from './contexts/AuditContext.jsx'\nimport { InventoryProvider } from './contexts/InventoryContext.jsx'\nimport ShippingProvider from './contexts/ShippingContext.jsx'\nimport { SegmentProvider } from './contexts/SegmentContext.jsx'\nimport { ThemeProvider } from '../contexts/ThemeContext.jsx'\nimport { I18nProvider } from './contexts/I18nContext.jsx'\nimport {\n  SecurityProvider,\n  RateLimitProvider,\n  SecurityValidator,\n} from '../components/SecurityProvider.jsx'\nimport { RecommendationProvider } from './contexts/RecommendationContext.jsx'\nimport { SearchProvider } from './contexts/SearchContext.jsx'\nimport SkipToContent from './components/SkipToContent.jsx'\nimport ErrorBoundary from './components/ErrorBoundary.jsx'\nimport ToastProvider from './components/ToastProvider'\nimport { BrowserRouter, Routes, Route } from 'react-router-dom'\nimport { Suspense, lazy } from 'react'\nimport { usePerformance } from '../hooks/usePerformance'\nimport { SEOProvider } from '../components/SEO'\n\n// Lazy load route components for better performance\nconst Home = lazy(() => import('../pages/screens/Home'))\nconst Category = lazy(() => import('../pages/screens/Category'))\nconst Shop = lazy(() => import('../pages/screens/Shop'))\nconst Product = lazy(() => import('../pages/screens/Product'))\nconst Cart = lazy(() => import('../pages/screens/Cart'))\nconst Checkout = lazy(() => import('../pages/screens/Checkout'))\nconst Customize = lazy(() => import('../pages/screens/Customize'))\nconst About = lazy(() => import('../pages/screens/About'))\nconst Contact = lazy(() => import('../pages/screens/Contact'))\nconst Login = lazy(() => import('../pages/screens/Login'))\nconst Register = lazy(() => import('../pages/screens/Register'))\nconst Profile = lazy(() => import('../pages/screens/Profile'))\nconst OrderConfirmation = lazy(\n  () => import('../pages/screens/OrderConfirmation')\n)\nconst MyAccount = lazy(() => import('../pages/screens/Account'))\nconst RequestTracking = lazy(() => import('../pages/screens/Tracking'))\nconst TrackingPage = lazy(() => import('../pages/screens/TrackingPage'))\nconst AdminPanel = lazy(() => import('../pages/screens/Admin/AdminPanel'))\nconst NotFound = lazy(() => import('../pages/screens/NotFound'))\n\n// Loading component\nfunction LoadingSpinner() {\n  return (\n    <div className=\"flex items-center justify-center min-h-[50vh]\">\n      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600\"></div>\n      <span className=\"ml-3 text-stone-600 dark:text-stone-400\">\n        Loading...\n      </span>\n    </div>\n  )\n}\n\nexport default function App() {\n  // Monitor performance in development\n  usePerformance()\n\n  return (\n    <SecurityProvider>\n      <RateLimitProvider>\n        <I18nProvider>\n          <RecommendationProvider>\n            <SegmentProvider>\n              <ThemeProvider>\n                <SEOProvider>\n                  <LocationProvider>\n                    <AuthProvider>\n                      <NotificationProvider>\n                        <AuditProvider>\n                          <InventoryProvider>\n                            <ShippingProvider>\n                              <OrderProvider>\n                                <CartProvider>\n                                  <BrowserRouter\n                                    future={{\n                                      v7_startTransition: true,\n                                      v7_relativeSplatPath: true,\n                                    }}\n                                  >\n                                    <SearchProvider>\n                                      <SecurityValidator>\n                                        <div className=\"min-h-screen bg-segment-texture transition-all duration-500\">\n                                          <SkipToContent />\n                                          <FloatingNavbar />\n                                          <main id=\"main\" className=\"pt-32\">\n                                            <ErrorBoundary>\n                                              <Suspense\n                                                fallback={<LoadingSpinner />}\n                                              >\n                                                <Routes>\n                                                  <Route\n                                                    path=\"/\"\n                                                    element={<Home />}\n                                                  />\n                                                  <Route\n                                                    path=\"/leather\"\n                                                    element={<Home />}\n                                                  />\n                                                  <Route\n                                                    path=\"/electronics\"\n                                                    element={<Home />}\n                                                  />\n                                                  <Route\n                                                    path=\"/furniture\"\n                                                    element={<Home />}\n                                                  />\n                                                  <Route\n                                                    path=\"/shop\"\n                                                    element={<Shop />}\n                                                  />\n                                                  <Route\n                                                    path=\"/category/:category\"\n                                                    element={<Category />}\n                                                  />\n                                                  <Route\n                                                    path=\"/product/:id\"\n                                                    element={<Product />}\n                                                  />\n                                                  <Route\n                                                    path=\"/cart\"\n                                                    element={<Cart />}\n                                                  />\n                                                  <Route\n                                                    path=\"/checkout\"\n                                                    element={<Checkout />}\n                                                  />\n                                                  <Route\n                                                    path=\"/customize\"\n                                                    element={<Customize />}\n                                                  />\n                                                  <Route\n                                                    path=\"/about\"\n                                                    element={<About />}\n                                                  />\n                                                  <Route\n                                                    path=\"/contact\"\n                                                    element={<Contact />}\n                                                  />\n                                                  <Route\n                                                    path=\"/login\"\n                                                    element={<Login />}\n                                                  />\n                                                  <Route\n                                                    path=\"/register\"\n                                                    element={<Register />}\n                                                  />\n                                                  <Route\n                                                    path=\"/profile\"\n                                                    element={<Profile />}\n                                                  />\n                                                  <Route\n                                                    path=\"/account/*\"\n                                                    element={<MyAccount />}\n                                                  />\n                                                  <Route\n                                                    path=\"/track/:requestId\"\n                                                    element={\n                                                      <RequestTracking />\n                                                    }\n                                                  />\n                                                  <Route\n                                                    path=\"/track-shipment\"\n                                                    element={<TrackingPage />}\n                                                  />\n                                                  <Route\n                                                    path=\"/order-confirmation\"\n                                                    element={\n                                                      <OrderConfirmation />\n                                                    }\n                                                  />\n                                                  <Route\n                                                    path=\"/admin/*\"\n                                                    element={<AdminPanel />}\n                                                  />\n                                                  {/* 404 Catch-all route - must be last */}\n                                                  <Route\n                                                    path=\"*\"\n                                                    element={<NotFound />}\n                                                  />\n                                                </Routes>\n                                              </Suspense>\n                                            </ErrorBoundary>\n                                          </main>\n                                          <Footer />\n                                          <ToastProvider />\n                                        </div>\n                                      </SecurityValidator>\n                                    </SearchProvider>\n                                  </BrowserRouter>\n                                </CartProvider>\n                              </OrderProvider>\n                            </ShippingProvider>\n                          </InventoryProvider>\n                        </AuditProvider>\n                      </NotificationProvider>\n                    </AuthProvider>\n                  </LocationProvider>\n                </SEOProvider>\n              </ThemeProvider>\n            </SegmentProvider>\n          </RecommendationProvider>\n        </I18nProvider>\n      </RateLimitProvider>\n    </SecurityProvider>\n  )\n}\n","import { useEffect, useState } from 'react'\n\nexport function usePerformance() {\n  const [metrics, setMetrics] = useState({\n    fcp: null, // First Contentful Paint\n    lcp: null, // Largest Contentful Paint\n    fid: null, // First Input Delay\n    cls: null, // Cumulative Layout Shift\n    ttfb: null, // Time to First Byte\n  })\n\n  useEffect(() => {\n    // Only run in browser environment\n    if (typeof window === 'undefined') return\n\n    // Measure Time to First Byte\n    const navigation = performance.getEntriesByType('navigation')[0]\n    if (navigation) {\n      setMetrics(prev => ({\n        ...prev,\n        ttfb: navigation.responseStart - navigation.requestStart,\n      }))\n    }\n\n    // Web Vitals using PerformanceObserver\n    if ('PerformanceObserver' in window) {\n      // First Contentful Paint\n      const fcpObserver = new PerformanceObserver(list => {\n        const entries = list.getEntries()\n        const fcp = entries.find(\n          entry => entry.name === 'first-contentful-paint'\n        )\n        if (fcp) {\n          setMetrics(prev => ({ ...prev, fcp: fcp.startTime }))\n        }\n      })\n\n      // Largest Contentful Paint\n      const lcpObserver = new PerformanceObserver(list => {\n        const entries = list.getEntries()\n        const lastEntry = entries[entries.length - 1]\n        setMetrics(prev => ({ ...prev, lcp: lastEntry.startTime }))\n      })\n\n      // First Input Delay\n      const fidObserver = new PerformanceObserver(list => {\n        const entries = list.getEntries()\n        const firstEntry = entries[0]\n        setMetrics(prev => ({\n          ...prev,\n          fid: firstEntry.processingStart - firstEntry.startTime,\n        }))\n      })\n\n      // Cumulative Layout Shift\n      const clsObserver = new PerformanceObserver(list => {\n        let clsValue = 0\n        const entries = list.getEntries()\n\n        for (const entry of entries) {\n          if (!entry.hadRecentInput) {\n            clsValue += entry.value\n          }\n        }\n\n        setMetrics(prev => ({ ...prev, cls: clsValue }))\n      })\n\n      try {\n        fcpObserver.observe({ entryTypes: ['paint'] })\n        lcpObserver.observe({ entryTypes: ['largest-contentful-paint'] })\n        fidObserver.observe({ entryTypes: ['first-input'] })\n        clsObserver.observe({ entryTypes: ['layout-shift'] })\n      } catch (error) {\n        console.warn('Performance Observer not supported:', error)\n      }\n\n      return () => {\n        fcpObserver.disconnect()\n        lcpObserver.disconnect()\n        fidObserver.disconnect()\n        clsObserver.disconnect()\n      }\n    }\n  }, [])\n\n  // Log performance metrics in development\n  useEffect(() => {\n    if (import.meta.env?.DEV && Object.values(metrics).some(Boolean)) {\n      console.group('🚀 Performance Metrics')\n      console.log(\n        'First Contentful Paint (FCP):',\n        metrics.fcp?.toFixed(2),\n        'ms'\n      )\n      console.log(\n        'Largest Contentful Paint (LCP):',\n        metrics.lcp?.toFixed(2),\n        'ms'\n      )\n      console.log('First Input Delay (FID):', metrics.fid?.toFixed(2), 'ms')\n      console.log('Cumulative Layout Shift (CLS):', metrics.cls?.toFixed(4))\n      console.log('Time to First Byte (TTFB):', metrics.ttfb?.toFixed(2), 'ms')\n      console.groupEnd()\n    }\n  }, [metrics])\n\n  return metrics\n}\n\nexport function useResourceTiming() {\n  const [resources, setResources] = useState([])\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return\n\n    const observer = new PerformanceObserver(list => {\n      const entries = list.getEntries()\n      const resourceData = entries.map(entry => ({\n        name: entry.name,\n        type: entry.initiatorType,\n        size: entry.transferSize,\n        duration: entry.duration,\n        startTime: entry.startTime,\n      }))\n\n      setResources(prev => [...prev, ...resourceData])\n    })\n\n    try {\n      observer.observe({ entryTypes: ['resource'] })\n    } catch (error) {\n      console.warn('Resource timing not supported:', error)\n    }\n\n    return () => observer.disconnect()\n  }, [])\n\n  return resources\n}\n\nexport function useMemoryUsage() {\n  const [memory, setMemory] = useState(null)\n\n  useEffect(() => {\n    if (typeof window === 'undefined' || !performance.memory) return\n\n    const updateMemory = () => {\n      setMemory({\n        used: performance.memory.usedJSHeapSize,\n        total: performance.memory.totalJSHeapSize,\n        limit: performance.memory.jsHeapSizeLimit,\n      })\n    }\n\n    updateMemory()\n    const interval = setInterval(updateMemory, 5000) // Update every 5 seconds\n\n    return () => clearInterval(interval)\n  }, [])\n\n  return memory\n}\n","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport App from './ui/App.jsx'\nimport './styles.css'\n\nconst root = createRoot(document.getElementById('root'))\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n)\n"],"file":"assets/index-DKzHzSCO.js"}