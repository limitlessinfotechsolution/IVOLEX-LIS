{"version":3,"file":"ProductCard-B4HXBWJF.js","sources":["../../src/ui/components/Badge/Badge.jsx","../../src/ui/components/ProductCard/ProductCard.jsx"],"sourcesContent":["export default function Badge({ children, tone = 'brand', className = '' }) {\n  const tones = {\n    brand: 'bg-brand-100 text-brand-700',\n    neutral: 'bg-stone-100 text-stone-700',\n    gold: 'bg-amber-100 text-amber-800',\n    success: 'bg-emerald-100 text-emerald-700',\n  }\n  return (\n    <span\n      className={`inline-block text-xs px-2 py-1 rounded-full ${tones[tone]} ${className}`}\n    >\n      {children}\n    </span>\n  )\n}\n","import { motion } from 'framer-motion'\nimport { ShoppingCart, Heart } from 'lucide-react'\nimport Stars from '../Stars/Stars'\nimport Badge from '../Badge'\nimport { useLocation } from '../../contexts/LocationContext.jsx'\nimport { useCart } from '../../contexts/CartContext.jsx'\nimport { useNavigate } from 'react-router-dom'\n\nexport default function ProductCard({ product }) {\n  const { effectiveCurrency } = useLocation()\n  const { add } = useCart()\n  const navigate = useNavigate()\n\n  // Convert price supporting both string like \"SAR 450\" and number 149\n  const formatPrice = price => {\n    if (typeof price === 'number') {\n      // simple formatting without conversion\n      return `${effectiveCurrency} ${price.toFixed(2)}`\n    }\n    if (typeof price === 'string') {\n      const numericPrice = parseFloat(price.replace(/[^\\d.]/g, ''))\n      return `${effectiveCurrency} ${Number.isFinite(numericPrice) ? numericPrice.toFixed(0) : price}`\n    }\n    return `${effectiveCurrency} ${price}`\n  }\n\n  const onCardClick = () => {\n    if (product.id) navigate(`/product/${product.id}`)\n  }\n\n  const safeProduct = {\n    id: product.id,\n    name: product.name || product.title,\n    image: product.image || product.img,\n    price:\n      typeof product.price === 'string'\n        ? parseFloat(product.price.replace(/[^\\d.]/g, ''))\n        : product.price,\n  }\n\n  return (\n    <motion.div\n      className=\"relative overflow-hidden rounded-2xl bg-white shadow-soft cursor-pointer group\"\n      whileHover={{ scale: 1.05 }}\n      transition={{ duration: 0.3 }}\n      onClick={onCardClick}\n    >\n      {/* Circular Image Frame */}\n      <div className=\"relative p-4\">\n        <div className=\"relative w-full aspect-square rounded-full overflow-hidden bg-stone-100\">\n          <img\n            src={safeProduct.image}\n            alt={safeProduct.name}\n            className=\"w-full h-full object-cover\"\n          />\n          {product.tag && (\n            <div className=\"absolute top-2 left-2\">\n              <Badge tone=\"gold\">{product.tag}</Badge>\n            </div>\n          )}\n        </div>\n\n        {/* Action Buttons - Fade in on hover */}\n        <motion.div\n          className=\"absolute inset-0 flex items-center justify-center bg-black/20 rounded-full\"\n          initial={{ opacity: 0 }}\n          whileHover={{ opacity: 1 }}\n          transition={{ duration: 0.3 }}\n        >\n          <div className=\"flex gap-2\">\n            <motion.button\n              className=\"p-3 bg-white rounded-full shadow-lg hover:bg-stone-50\"\n              whileHover={{ scale: 1.1 }}\n              whileTap={{ scale: 0.95 }}\n              aria-label=\"Add to Cart\"\n              onClick={e => {\n                e.stopPropagation()\n                add(safeProduct, 1)\n              }}\n            >\n              <ShoppingCart size={20} className=\"text-stone-700\" />\n            </motion.button>\n            <motion.button\n              className=\"p-3 bg-white rounded-full shadow-lg hover:bg-stone-50\"\n              whileHover={{ scale: 1.1 }}\n              whileTap={{ scale: 0.95 }}\n              aria-label=\"Add to Wishlist\"\n              onClick={e => e.stopPropagation()}\n            >\n              <Heart size={20} className=\"text-stone-700\" />\n            </motion.button>\n          </div>\n        </motion.div>\n      </div>\n\n      {/* Product Info */}\n      <div className=\"p-4 space-y-2\">\n        <h3 className=\"font-medium text-stone-900 line-clamp-2\">\n          {safeProduct.name}\n        </h3>\n        <Stars value={product.rating || 5} />\n        <p className=\"text-brand-700 font-semibold\">\n          {formatPrice(product.price)}\n        </p>\n      </div>\n\n      {/* Glow effect on hover */}\n      <motion.div\n        className=\"absolute inset-0 rounded-2xl bg-gradient-to-r from-brand-500/10 to-transparent pointer-events-none\"\n        initial={{ opacity: 0 }}\n        whileHover={{ opacity: 1 }}\n        transition={{ duration: 0.3 }}\n      />\n    </motion.div>\n  )\n}\n"],"names":["Badge","children","tone","className","jsx","brand","neutral","gold","success","ProductCard","product","effectiveCurrency","useLocation","add","useCart","navigate","useNavigate","safeProduct","id","name","title","image","img","price","parseFloat","replace","jsxs","motion","div","whileHover","scale","transition","duration","onClick","src","alt","tag","initial","opacity","button","whileTap","e","stopPropagation","ShoppingCart","size","Heart","Stars","value","rating","toFixed","numericPrice","Number","isFinite","formatPrice"],"mappings":"6LAAA,SAAwBA,GAAMC,SAAEA,EAAAC,KAAUA,EAAO,QAAAC,UAASA,EAAY,KAOpE,OACEC,EAAAA,IAAC,OAAA,CACCD,UAAW,+CARD,CACZE,MAAO,8BACPC,QAAS,8BACTC,KAAM,8BACNC,QAAS,mCAIyDN,MAASC,IAExEF,YAGP,CCNA,SAAwBQ,GAAYC,QAAEA,IACpC,MAAMC,kBAAEA,GAAsBC,KACxBC,IAAEA,GAAQC,IACVC,EAAWC,IAmBXC,EAAc,CAClBC,GAAIR,EAAQQ,GACZC,KAAMT,EAAQS,MAAQT,EAAQU,MAC9BC,MAAOX,EAAQW,OAASX,EAAQY,IAChCC,MAC2B,iBAAlBb,EAAQa,MACXC,WAAWd,EAAQa,MAAME,QAAQ,UAAW,KAC5Cf,EAAQa,OAGhB,OACEG,EAAAA,KAACC,EAAOC,IAAP,CACCzB,UAAU,iFACV0B,WAAY,CAAEC,MAAO,MACrBC,WAAY,CAAEC,SAAU,IACxBC,QAnBgB,KACdvB,EAAQQ,IAAIH,EAAS,YAAYL,EAAQQ,OAqB3CjB,SAAA,GAAAyB,KAAC,MAAA,CAAIvB,UAAU,eACbF,SAAA,GAAAyB,KAAC,MAAA,CAAIvB,UAAU,0EACbF,SAAA,CAAAG,EAAAA,IAAC,MAAA,CACC8B,IAAKjB,EAAYI,MACjBc,IAAKlB,EAAYE,KACjBhB,UAAU,+BAEXO,EAAQ0B,KACPhC,EAAAA,IAAC,MAAA,CAAID,UAAU,wBACbF,SAAAG,EAAAA,IAACJ,EAAA,CAAME,KAAK,OAAQD,SAAAS,EAAQ0B,WAMlChC,EAAAA,IAACuB,EAAOC,IAAP,CACCzB,UAAU,6EACVkC,QAAS,CAAEC,QAAS,GACpBT,WAAY,CAAES,QAAS,GACvBP,WAAY,CAAEC,SAAU,IAExB/B,SAAAyB,EAAAA,KAAC,MAAA,CAAIvB,UAAU,aACbF,SAAA,CAAAG,EAAAA,IAACuB,EAAOY,OAAP,CACCpC,UAAU,wDACV0B,WAAY,CAAEC,MAAO,KACrBU,SAAU,CAAEV,MAAO,KACnB,aAAW,cACXG,QAASQ,IACPA,EAAEC,kBACF7B,EAAII,EAAa,IAGnBhB,WAAAG,IAACuC,EAAA,CAAaC,KAAM,GAAIzC,UAAU,qBAEpCC,EAAAA,IAACuB,EAAOY,OAAP,CACCpC,UAAU,wDACV0B,WAAY,CAAEC,MAAO,KACrBU,SAAU,CAAEV,MAAO,KACnB,aAAW,kBACXG,QAASQ,GAAKA,EAAEC,kBAEhBzC,WAAAG,IAACyC,EAAA,CAAMD,KAAM,GAAIzC,UAAU,+BAOnCuB,KAAC,MAAA,CAAIvB,UAAU,gBACbF,SAAA,CAAAG,EAAAA,IAAC,KAAA,CAAGD,UAAU,0CACXF,SAAAgB,EAAYE,OAEff,EAAAA,IAAC0C,EAAA,CAAMC,MAAOrC,EAAQsC,QAAU,UAC/B,IAAA,CAAE7C,UAAU,+BACVF,SAxFW,CAAAsB,IAClB,GAAqB,iBAAVA,EAET,MAAO,GAAGZ,KAAqBY,EAAM0B,QAAQ,KAE/C,GAAqB,iBAAV1B,EAAoB,CAC7B,MAAM2B,EAAe1B,WAAWD,EAAME,QAAQ,UAAW,KACzD,MAAO,GAAGd,KAAqBwC,OAAOC,SAASF,GAAgBA,EAAaD,QAAQ,GAAK1B,GAC3F,CACA,MAAO,GAAGZ,KAAqBY,KA+ExB8B,CAAY3C,EAAQa,YAKzBnB,EAAAA,IAACuB,EAAOC,IAAP,CACCzB,UAAU,qGACVkC,QAAS,CAAEC,QAAS,GACpBT,WAAY,CAAES,QAAS,GACvBP,WAAY,CAAEC,SAAU,QAIhC"}