import{j as e,W as s,Z as a,y as r,_ as n}from"./ui-D3w8jOXj.js";import{r as t}from"./vendor-BwcJvvGU.js";import{C as d}from"./Container-kGZu77wa.js";import{f as l,g as c,h as i,e as o}from"./index-AVblc3ol.js";import{c as m,L as u}from"./router-CFT0yRFu.js";import{z as x}from"./toast-BNaqqDDF.js";function p(){const{items:p,total:h,clear:b}=l(),{createOrder:y}=c(),{formatCurrency:g}=i(),f=m(),j=p.length>0,[N,v]=t.useState(!1),[C,k]=t.useState({email:"",firstName:"",lastName:"",address:"",city:"",country:"",postalCode:"",cardNumber:"",cardName:"",expiryDate:"",cvc:""}),w=h,M=h>=500?0:50,P=.18*h,q=w+M+P,I=e=>{const{name:s,value:a}=e.target;k(e=>({...e,[s]:a}))};return j?e.jsxs(e.Fragment,{children:[e.jsx(o,{title:"Checkout - IVOLEX",description:"Complete your purchase securely with our streamlined checkout process.",keywords:"checkout, payment, secure shopping, buy online"}),e.jsx("section",{className:"py-10",children:e.jsx(d,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[e.jsx(s,{size:20,className:"text-green-600"}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Secure Checkout"})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),v(!0);try{await new Promise(e=>setTimeout(e,2e3));const e={orderNumber:"ORD-"+Date.now(),items:p.map(({item:e,qty:s})=>({id:e.id,name:e.name||e.title,price:e.price,qty:s,image:e.image||e.img})),customer:{email:C.email,firstName:C.firstName,lastName:C.lastName},shipping:{address:C.address,city:C.city,country:C.country,postalCode:C.postalCode},payment:{method:C.paymentMethod,cardNumber:"card"===C.paymentMethod?C.cardNumber.slice(-4):null,cardName:"card"===C.paymentMethod?C.cardName:null,upiId:"upi"===C.paymentMethod?C.upiId:null,bankAccount:"bank"===C.paymentMethod?C.bankAccount.slice(-4):null,ifscCode:"bank"===C.paymentMethod?C.ifscCode:null},totals:{subtotal:w,shipping:M,tax:P,total:q}};b(),x.success("Order placed successfully!"),f("/order-confirmation",{state:e})}catch(s){x.error("Payment failed. Please try again.")}finally{v(!1)}},className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-brand-600 text-white rounded-full flex items-center justify-center text-sm",children:"1"}),"Contact Information"]}),e.jsx("div",{className:"space-y-4",children:e.jsx("input",{className:"w-full border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Email address",type:"email",name:"email",value:C.email,onChange:I,required:!0})})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-brand-600 text-white rounded-full flex items-center justify-center text-sm",children:"2"}),"Shipping Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{className:"border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"First Name",name:"firstName",value:C.firstName,onChange:I,required:!0}),e.jsx("input",{className:"border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Last Name",name:"lastName",value:C.lastName,onChange:I,required:!0}),e.jsx("input",{className:"border rounded-xl px-4 py-3 md:col-span-2 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Street Address",name:"address",value:C.address,onChange:I,required:!0}),e.jsx("input",{className:"border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"City",name:"city",value:C.city,onChange:I,required:!0}),e.jsx("input",{className:"border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Country",name:"country",value:C.country,onChange:I,required:!0}),e.jsx("input",{className:"border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Postal Code",name:"postalCode",value:C.postalCode,onChange:I,required:!0})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-brand-600 text-white rounded-full flex items-center justify-center text-sm",children:"3"}),"Payment Information"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium mb-3",children:"Choose Payment Method"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"border-2 rounded-xl p-4 cursor-pointer transition-all "+("cod"===C.paymentMethod?"border-brand-500 bg-brand-50":"border-gray-200 hover:border-gray-300"),children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:"cod"===C.paymentMethod,onChange:I,className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ’µ"}),e.jsx("div",{className:"font-medium",children:"Cash on Delivery"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Pay when you receive"})]})]}),e.jsxs("label",{className:"border-2 rounded-xl p-4 cursor-pointer transition-all "+("upi"===C.paymentMethod?"border-brand-500 bg-brand-50":"border-gray-200 hover:border-gray-300"),children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"upi",checked:"upi"===C.paymentMethod,onChange:I,className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ“±"}),e.jsx("div",{className:"font-medium",children:"UPI Payment"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"GooglePay, PhonePe, Paytm"})]})]}),e.jsxs("label",{className:"border-2 rounded-xl p-4 cursor-pointer transition-all "+("bank"===C.paymentMethod?"border-brand-500 bg-brand-50":"border-gray-200 hover:border-gray-300"),children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:"bank"===C.paymentMethod,onChange:I,className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ¦"}),e.jsx("div",{className:"font-medium",children:"Bank Transfer"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Direct bank transfer"})]})]})]})]}),"upi"===C.paymentMethod&&e.jsxs("div",{className:"border rounded-xl p-4 bg-blue-50 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"UPI ID"}),e.jsx("input",{className:"w-full border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"yourname@paytm / yourname@phonepe",name:"upiId",value:C.upiId,onChange:I,required:"upi"===C.paymentMethod}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Enter your UPI ID for payment processing"})]}),"bank"===C.paymentMethod&&e.jsxs("div",{className:"border rounded-xl p-4 bg-green-50 space-y-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Account Number"}),e.jsx("input",{className:"w-full border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Bank Account Number",name:"bankAccount",value:C.bankAccount,onChange:I,required:"bank"===C.paymentMethod})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"IFSC Code"}),e.jsx("input",{className:"w-full border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"IFSC Code",name:"ifscCode",value:C.ifscCode,onChange:I,required:"bank"===C.paymentMethod})]})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Bank transfer details will be provided after order confirmation"})]}),"card"===C.paymentMethod&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{className:"border rounded-xl px-4 py-3 md:col-span-2 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Card Number",name:"cardNumber",value:C.cardNumber,onChange:I,maxLength:19,required:"card"===C.paymentMethod}),e.jsx("input",{className:"border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Name on Card",name:"cardName",value:C.cardName,onChange:I,required:"card"===C.paymentMethod}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{className:"border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"MM/YY",name:"expiryDate",value:C.expiryDate,onChange:I,maxLength:5,required:"card"===C.paymentMethod}),e.jsx("input",{className:"border rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"CVC",name:"cvc",value:C.cvc,onChange:I,maxLength:4,required:"card"===C.paymentMethod})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-stone-600",children:[e.jsx(a,{size:16}),e.jsxs("span",{children:["cod"===C.paymentMethod&&"Pay cash when your order arrives","upi"===C.paymentMethod&&"Secure UPI payment through trusted providers","bank"===C.paymentMethod&&"Safe and secure bank transfer","card"===C.paymentMethod&&"We accept all major credit and debit cards"]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card p-6 sticky top-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:p.map(({id:s,item:a,qty:r})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-stone-100 flex-shrink-0",children:e.jsx("img",{src:a.image||a.img,alt:a.name||a.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:a.name||a.title}),e.jsxs("div",{className:"text-xs text-stone-500",children:["Qty: ",r," Ã— ",g(a.price||0)]})]}),e.jsx("div",{className:"text-sm font-medium",children:g((a.price||0)*r)})]},s))}),e.jsxs("div",{className:"space-y-2 py-4 border-t",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:g(w)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:0===M?"Free":g(M)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Tax"}),e.jsx("span",{children:g(P)})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:g(q)})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-full mb-4",disabled:N,children:N?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):`Place Order - ${g(q)}`}),e.jsxs("div",{className:"space-y-2 text-xs text-stone-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{size:12}),e.jsx("span",{children:"SSL encrypted checkout"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{size:12}),e.jsxs("span",{children:["Free delivery on orders over ",g(500)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{size:12}),e.jsx("span",{children:"30-day money-back guarantee"})]})]})]})})]})]})})})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{title:"Checkout - IVOLEX",description:"Complete your purchase securely with our streamlined checkout process."}),e.jsx(d,{children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"No items to checkout"}),e.jsx("p",{className:"text-stone-600 mb-6",children:"Your cart is empty. Add some items to proceed with checkout."}),e.jsx(u,{className:"btn btn-primary",to:"/shop",children:"Go back to shop"})]})})]})}export{p as default};
//# sourceMappingURL=index-CjZxKBrn.js.map
