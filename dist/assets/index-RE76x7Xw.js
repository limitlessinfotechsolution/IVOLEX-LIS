import{j as e}from"./ui-CD5jAkwB.js";import{c as s,d as r,r as t,L as a}from"./router-D6lRyHch.js";import{p as i}from"./products-CPcclmZv.js";import{e as o,C as l}from"./index-rb2YAFFb.js";import{P as c}from"./ProductCard-CFoiyVgD.js";import{P as n}from"./LoadingStates-D4v6MwSW.js";import"./vendor-C9RBa7uG.js";import"./toast-DoQNyf63.js";function d({category:d}){const m=s(),[p]=r(),h=(d||m.category||"all").toLowerCase(),u=(p.get("q")||"").toLowerCase(),x=p.get("sort")||"name",[g,j]=t.useState(!0);t.useEffect(()=>{const e=setTimeout(()=>{j(!1)},800);return()=>clearTimeout(e)},[]);const f=t.useMemo(()=>{let e=i;return"all"!==h&&(e=e.filter(e=>e.category===h)),u&&(e=e.filter(e=>e.name.toLowerCase().includes(u)||e.category.toLowerCase().includes(u))),e.sort((e,s)=>{switch(x){case"price-low":return e.price-s.price;case"price-high":return s.price-e.price;case"rating":return(s.rating||0)-(e.rating||0);default:return e.name.localeCompare(s.name)}}),e},[h,u,x]),w="all"===h?"All Products":h.charAt(0).toUpperCase()+h.slice(1);return e.jsxs(e.Fragment,{children:[e.jsx(o,{title:`${w} - IVOLEX`,description:`Browse our ${w.toLowerCase()} collection with ${f.length} items available.`,keywords:`${h}, products, shopping, e-commerce`}),e.jsx("section",{className:"py-10",children:e.jsxs(l,{children:[e.jsxs("nav",{className:"text-sm text-stone-500 mb-4","aria-label":"Breadcrumb",children:[e.jsx(a,{className:"hover:underline focus:underline",to:"/",children:"Home"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx(a,{className:"hover:underline focus:underline",to:"/shop",children:"Shop"}),"all"!==h&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-stone-700 capitalize",children:h})]})]}),e.jsxs("div",{className:"flex items-end justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:w}),e.jsxs("p",{className:"text-stone-600 text-sm",children:[f.length," items"]})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("select",{className:"border rounded-xl px-3 py-2 text-sm",value:x,onChange:e=>{const s=new URLSearchParams(p);s.set("sort",e.target.value),window.location.search=s.toString()},children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"rating",children:"Rating"})]}),e.jsx("form",{className:"max-w-sm w-full",action:"",method:"get",children:e.jsx("input",{name:"q",defaultValue:u,placeholder:"Search products...",className:"w-full border rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500"})})]})]}),g?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((s,r)=>e.jsx(n,{},r))}):f.length?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:f.map(s=>e.jsx(c,{product:{id:s.id,title:s.name,img:s.image,price:s.price,rating:s.rating}},s.id))}):e.jsxs("div",{className:"text-center py-20 text-stone-500",children:[e.jsx("h2",{className:"text-xl mb-2",children:"No matching products"}),e.jsx("p",{children:"Try adjusting your search or browse our categories."}),e.jsx(a,{to:"/shop",className:"btn btn-primary mt-4",children:"View All Products"})]})]})})]})}export{d as default};
//# sourceMappingURL=index-RE76x7Xw.js.map
