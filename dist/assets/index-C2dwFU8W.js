import{j as e,F as s,b as t,m as l}from"./ui-Dlg1lHES.js";import{d as a,r,L as i}from"./router-BWowh7Be.js";import{p as n}from"./products-Di07V61s.js";import{S as o,C as c}from"./index-C8TsFsGu.js";import{P as d}from"./ProductCard-DJ2Y9094.js";import{P as m}from"./LoadingStates-BCEBrLpo.js";import"./vendor-C9RBa7uG.js";import"./toast-gMLiYmOZ.js";function x(){const[x,p]=a(),[h,u]=r.useState(!1),[g,j]=r.useState(!0);r.useEffect(()=>{const e=setTimeout(()=>{j(!1)},800);return()=>clearTimeout(e)},[]);const f=x.get("category")||"all",b=x.get("q")||"",v=x.get("sort")||"name",y=r.useMemo(()=>["all",...new Set(n.map(e=>e.category))].map(e=>({value:e,label:"all"===e?"All Products":e.charAt(0).toUpperCase()+e.slice(1),count:"all"===e?n.length:n.filter(s=>s.category===e).length})),[]),N=r.useMemo(()=>{let e=n;return"all"!==f&&(e=e.filter(e=>e.category===f)),b&&(e=e.filter(e=>e.name.toLowerCase().includes(b.toLowerCase())||e.category.toLowerCase().includes(b.toLowerCase()))),e.sort((e,s)=>{switch(v){case"price-low":return e.price-s.price;case"price-high":return s.price-e.price;case"rating":return(s.rating||0)-(e.rating||0);default:return e.name.localeCompare(s.name)}}),e},[f,b,v]),w=e=>{const s=new URLSearchParams(x);Object.entries(e).forEach(([e,t])=>{""===t||null==t?s.delete(e):s.set(e,t)}),p(s)};return e.jsxs(e.Fragment,{children:[e.jsx(o,{title:`Shop ${"all"===f?"All Products":f.charAt(0).toUpperCase()+f.slice(1)} - IVOLEX`,description:`Browse our ${"all"===f?"complete collection":f} of premium leather goods. ${N.length} products available.`,keywords:`shop, ${f}, leather goods, premium, buy online, e-commerce`}),e.jsx("section",{className:"py-10",children:e.jsxs(c,{children:[e.jsxs("nav",{className:"text-sm text-stone-500 mb-6",children:[e.jsx(i,{className:"hover:underline",to:"/",children:"Home"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-stone-700",children:"Shop"}),"all"!==f&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-stone-700 capitalize",children:f})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"all"===f?"All Products":f.charAt(0).toUpperCase()+f.slice(1)}),e.jsxs("p",{className:"text-stone-600",children:[N.length," ",1===N.length?"product":"products"," found"]})]}),e.jsxs("button",{onClick:()=>u(!h),className:"lg:hidden flex items-center gap-2 px-4 py-2 border rounded-xl hover:bg-stone-50",children:[e.jsx(s,{size:16}),"Filters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6 "+(h?"block":"hidden lg:block"),children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Search Products"}),e.jsxs("div",{className:"relative",children:[e.jsx(t,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:b,onChange:e=>w({q:e.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-500"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Categories"}),e.jsx("div",{className:"space-y-2",children:y.map(s=>e.jsx("button",{onClick:()=>w({category:"all"===s.value?null:s.value}),className:"w-full text-left px-3 py-2 rounded-xl text-sm transition-colors "+(f===s.value?"bg-brand-600 text-white":"hover:bg-stone-50"),children:e.jsxs("span",{className:"flex justify-between items-center",children:[e.jsx("span",{children:s.label}),e.jsx("span",{className:"text-xs "+(f===s.value?"text-brand-200":"text-stone-400"),children:s.count})]})},s.value))})]}),e.jsx("button",{onClick:()=>p({}),className:"w-full px-4 py-2 border border-stone-300 rounded-xl hover:bg-stone-50 text-sm",children:"Clear All Filters"})]}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"text-sm text-stone-600",children:["Showing ",N.length," of ",n.length," products"]}),e.jsxs("select",{value:v,onChange:e=>w({sort:e.target.value}),className:"border rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"rating",children:"Highest Rated"})]})]}),g?e.jsx(l.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((s,t)=>e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*t},children:e.jsx(m,{})},t))}):N.length>0?e.jsx(l.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((s,t)=>e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*t},children:e.jsx(d,{product:{id:s.id,title:s.name,img:s.image,price:s.price,rating:s.rating,tag:s.tags?.[0],reviews:s.reviews}})},s.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-xl font-medium mb-2",children:"No products found"}),e.jsx("p",{className:"text-stone-600 mb-6",children:"Try adjusting your filters."}),e.jsx("button",{onClick:()=>p({}),className:"btn btn-primary",children:"Clear Filters"})]})]})]})]})})]})}export{x as default};
//# sourceMappingURL=index-C2dwFU8W.js.map
